var A0=Object.defineProperty;var T0=(h,f,p)=>f in h?A0(h,f,{enumerable:!0,configurable:!0,writable:!0,value:p}):h[f]=p;var Ve=(h,f,p)=>T0(h,typeof f!="symbol"?f+"":f,p);(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const A of m)if(A.type==="childList")for(const S of A.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&c(S)}).observe(document,{childList:!0,subtree:!0});function p(m){const A={};return m.integrity&&(A.integrity=m.integrity),m.referrerPolicy&&(A.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?A.credentials="include":m.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function c(m){if(m.ep)return;m.ep=!0;const A=p(m);fetch(m.href,A)}})();function x0(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ol={exports:{}},vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function F0(){if(Fd)return vo;Fd=1;var h=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function p(c,m,A){var S=null;if(A!==void 0&&(S=""+A),m.key!==void 0&&(S=""+m.key),"key"in m){A={};for(var D in m)D!=="key"&&(A[D]=m[D])}else A=m;return m=A.ref,{$$typeof:h,type:c,key:S,ref:m!==void 0?m:null,props:A}}return vo.Fragment=f,vo.jsx=p,vo.jsxs=p,vo}var Rd;function R0(){return Rd||(Rd=1,Ol.exports=F0()),Ol.exports}var at=R0(),Nl={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function C0(){if(Cd)return Ze;Cd=1;var h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),S=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function R($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,ee={};function Y($,Ee,Ce){this.props=$,this.context=Ee,this.refs=ee,this.updater=Ce||P}Y.prototype.isReactComponent={},Y.prototype.setState=function($,Ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Ee,"setState")},Y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function K(){}K.prototype=Y.prototype;function I($,Ee,Ce){this.props=$,this.context=Ee,this.refs=ee,this.updater=Ce||P}var X=I.prototype=new K;X.constructor=I,k(X,Y.prototype),X.isPureReactComponent=!0;var O=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function H($,Ee,Ce,Re,Me,Xe){return Ce=Xe.ref,{$$typeof:h,type:$,key:Ee,ref:Ce!==void 0?Ce:null,props:Xe}}function le($,Ee){return H($.type,Ee,void 0,void 0,void 0,$.props)}function _e($){return typeof $=="object"&&$!==null&&$.$$typeof===h}function J($){var Ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ce){return Ee[Ce]})}var Ae=/\/+/g;function Ke($,Ee){return typeof $=="object"&&$!==null&&$.key!=null?J(""+$.key):Ee.toString(36)}function We(){}function Ct($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(We,We):($.status="pending",$.then(function(Ee){$.status==="pending"&&($.status="fulfilled",$.value=Ee)},function(Ee){$.status==="pending"&&($.status="rejected",$.reason=Ee)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function rt($,Ee,Ce,Re,Me){var Xe=typeof $;(Xe==="undefined"||Xe==="boolean")&&($=null);var Ie=!1;if($===null)Ie=!0;else switch(Xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch($.$$typeof){case h:case f:Ie=!0;break;case y:return Ie=$._init,rt(Ie($._payload),Ee,Ce,Re,Me)}}if(Ie)return Me=Me($),Ie=Re===""?"."+Ke($,0):Re,O(Me)?(Ce="",Ie!=null&&(Ce=Ie.replace(Ae,"$&/")+"/"),rt(Me,Ee,Ce,"",function(Ft){return Ft})):Me!=null&&(_e(Me)&&(Me=le(Me,Ce+(Me.key==null||$&&$.key===Me.key?"":(""+Me.key).replace(Ae,"$&/")+"/")+Ie)),Ee.push(Me)),1;Ie=0;var pt=Re===""?".":Re+":";if(O($))for(var $e=0;$e<$.length;$e++)Re=$[$e],Xe=pt+Ke(Re,$e),Ie+=rt(Re,Ee,Ce,Xe,Me);else if($e=R($),typeof $e=="function")for($=$e.call($),$e=0;!(Re=$.next()).done;)Re=Re.value,Xe=pt+Ke(Re,$e++),Ie+=rt(Re,Ee,Ce,Xe,Me);else if(Xe==="object"){if(typeof $.then=="function")return rt(Ct($),Ee,Ce,Re,Me);throw Ee=String($),Error("Objects are not valid as a React child (found: "+(Ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Ee)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Se($,Ee,Ce){if($==null)return $;var Re=[],Me=0;return rt($,Re,"","",function(Xe){return Ee.call(Ce,Xe,Me++)}),Re}function Fe($){if($._status===-1){var Ee=$._result;Ee=Ee(),Ee.then(function(Ce){($._status===0||$._status===-1)&&($._status=1,$._result=Ce)},function(Ce){($._status===0||$._status===-1)&&($._status=2,$._result=Ce)}),$._status===-1&&($._status=0,$._result=Ee)}if($._status===1)return $._result.default;throw $._result}var Ne=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ke(){}return Ze.Children={map:Se,forEach:function($,Ee,Ce){Se($,function(){Ee.apply(this,arguments)},Ce)},count:function($){var Ee=0;return Se($,function(){Ee++}),Ee},toArray:function($){return Se($,function(Ee){return Ee})||[]},only:function($){if(!_e($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ze.Component=Y,Ze.Fragment=p,Ze.Profiler=m,Ze.PureComponent=I,Ze.StrictMode=c,Ze.Suspense=T,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ze.__COMPILER_RUNTIME={__proto__:null,c:function($){return j.H.useMemoCache($)}},Ze.cache=function($){return function(){return $.apply(null,arguments)}},Ze.cloneElement=function($,Ee,Ce){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Re=k({},$.props),Me=$.key,Xe=void 0;if(Ee!=null)for(Ie in Ee.ref!==void 0&&(Xe=void 0),Ee.key!==void 0&&(Me=""+Ee.key),Ee)!M.call(Ee,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Ee.ref===void 0||(Re[Ie]=Ee[Ie]);var Ie=arguments.length-2;if(Ie===1)Re.children=Ce;else if(1<Ie){for(var pt=Array(Ie),$e=0;$e<Ie;$e++)pt[$e]=arguments[$e+2];Re.children=pt}return H($.type,Me,void 0,void 0,Xe,Re)},Ze.createContext=function($){return $={$$typeof:S,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:A,_context:$},$},Ze.createElement=function($,Ee,Ce){var Re,Me={},Xe=null;if(Ee!=null)for(Re in Ee.key!==void 0&&(Xe=""+Ee.key),Ee)M.call(Ee,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Me[Re]=Ee[Re]);var Ie=arguments.length-2;if(Ie===1)Me.children=Ce;else if(1<Ie){for(var pt=Array(Ie),$e=0;$e<Ie;$e++)pt[$e]=arguments[$e+2];Me.children=pt}if($&&$.defaultProps)for(Re in Ie=$.defaultProps,Ie)Me[Re]===void 0&&(Me[Re]=Ie[Re]);return H($,Xe,void 0,void 0,null,Me)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function($){return{$$typeof:D,render:$}},Ze.isValidElement=_e,Ze.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:Fe}},Ze.memo=function($,Ee){return{$$typeof:g,type:$,compare:Ee===void 0?null:Ee}},Ze.startTransition=function($){var Ee=j.T,Ce={};j.T=Ce;try{var Re=$(),Me=j.S;Me!==null&&Me(Ce,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(ke,Ne)}catch(Xe){Ne(Xe)}finally{j.T=Ee}},Ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ze.use=function($){return j.H.use($)},Ze.useActionState=function($,Ee,Ce){return j.H.useActionState($,Ee,Ce)},Ze.useCallback=function($,Ee){return j.H.useCallback($,Ee)},Ze.useContext=function($){return j.H.useContext($)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function($,Ee){return j.H.useDeferredValue($,Ee)},Ze.useEffect=function($,Ee,Ce){var Re=j.H;if(typeof Ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Re.useEffect($,Ee)},Ze.useId=function(){return j.H.useId()},Ze.useImperativeHandle=function($,Ee,Ce){return j.H.useImperativeHandle($,Ee,Ce)},Ze.useInsertionEffect=function($,Ee){return j.H.useInsertionEffect($,Ee)},Ze.useLayoutEffect=function($,Ee){return j.H.useLayoutEffect($,Ee)},Ze.useMemo=function($,Ee){return j.H.useMemo($,Ee)},Ze.useOptimistic=function($,Ee){return j.H.useOptimistic($,Ee)},Ze.useReducer=function($,Ee,Ce){return j.H.useReducer($,Ee,Ce)},Ze.useRef=function($){return j.H.useRef($)},Ze.useState=function($){return j.H.useState($)},Ze.useSyncExternalStore=function($,Ee,Ce){return j.H.useSyncExternalStore($,Ee,Ce)},Ze.useTransition=function(){return j.H.useTransition()},Ze.version="19.1.0",Ze}var Dd;function ec(){return Dd||(Dd=1,Nl.exports=C0()),Nl.exports}var ki=ec(),kl={exports:{}},mo={},Ml={exports:{}},Hl={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function D0(){return Ud||(Ud=1,function(h){function f(Se,Fe){var Ne=Se.length;Se.push(Fe);e:for(;0<Ne;){var ke=Ne-1>>>1,$=Se[ke];if(0<m($,Fe))Se[ke]=Fe,Se[Ne]=$,Ne=ke;else break e}}function p(Se){return Se.length===0?null:Se[0]}function c(Se){if(Se.length===0)return null;var Fe=Se[0],Ne=Se.pop();if(Ne!==Fe){Se[0]=Ne;e:for(var ke=0,$=Se.length,Ee=$>>>1;ke<Ee;){var Ce=2*(ke+1)-1,Re=Se[Ce],Me=Ce+1,Xe=Se[Me];if(0>m(Re,Ne))Me<$&&0>m(Xe,Re)?(Se[ke]=Xe,Se[Me]=Ne,ke=Me):(Se[ke]=Re,Se[Ce]=Ne,ke=Ce);else if(Me<$&&0>m(Xe,Ne))Se[ke]=Xe,Se[Me]=Ne,ke=Me;else break e}}return Fe}function m(Se,Fe){var Ne=Se.sortIndex-Fe.sortIndex;return Ne!==0?Ne:Se.id-Fe.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;h.unstable_now=function(){return A.now()}}else{var S=Date,D=S.now();h.unstable_now=function(){return S.now()-D}}var T=[],g=[],y=1,v=null,R=3,P=!1,k=!1,ee=!1,Y=!1,K=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function O(Se){for(var Fe=p(g);Fe!==null;){if(Fe.callback===null)c(g);else if(Fe.startTime<=Se)c(g),Fe.sortIndex=Fe.expirationTime,f(T,Fe);else break;Fe=p(g)}}function j(Se){if(ee=!1,O(Se),!k)if(p(T)!==null)k=!0,M||(M=!0,Ke());else{var Fe=p(g);Fe!==null&&rt(j,Fe.startTime-Se)}}var M=!1,H=-1,le=5,_e=-1;function J(){return Y?!0:!(h.unstable_now()-_e<le)}function Ae(){if(Y=!1,M){var Se=h.unstable_now();_e=Se;var Fe=!0;try{e:{k=!1,ee&&(ee=!1,I(H),H=-1),P=!0;var Ne=R;try{t:{for(O(Se),v=p(T);v!==null&&!(v.expirationTime>Se&&J());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,R=v.priorityLevel;var $=ke(v.expirationTime<=Se);if(Se=h.unstable_now(),typeof $=="function"){v.callback=$,O(Se),Fe=!0;break t}v===p(T)&&c(T),O(Se)}else c(T);v=p(T)}if(v!==null)Fe=!0;else{var Ee=p(g);Ee!==null&&rt(j,Ee.startTime-Se),Fe=!1}}break e}finally{v=null,R=Ne,P=!1}Fe=void 0}}finally{Fe?Ke():M=!1}}}var Ke;if(typeof X=="function")Ke=function(){X(Ae)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Ct=We.port2;We.port1.onmessage=Ae,Ke=function(){Ct.postMessage(null)}}else Ke=function(){K(Ae,0)};function rt(Se,Fe){H=K(function(){Se(h.unstable_now())},Fe)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(Se){Se.callback=null},h.unstable_forceFrameRate=function(Se){0>Se||125<Se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Se?Math.floor(1e3/Se):5},h.unstable_getCurrentPriorityLevel=function(){return R},h.unstable_next=function(Se){switch(R){case 1:case 2:case 3:var Fe=3;break;default:Fe=R}var Ne=R;R=Fe;try{return Se()}finally{R=Ne}},h.unstable_requestPaint=function(){Y=!0},h.unstable_runWithPriority=function(Se,Fe){switch(Se){case 1:case 2:case 3:case 4:case 5:break;default:Se=3}var Ne=R;R=Se;try{return Fe()}finally{R=Ne}},h.unstable_scheduleCallback=function(Se,Fe,Ne){var ke=h.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?ke+Ne:ke):Ne=ke,Se){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Ne+$,Se={id:y++,callback:Fe,priorityLevel:Se,startTime:Ne,expirationTime:$,sortIndex:-1},Ne>ke?(Se.sortIndex=Ne,f(g,Se),p(T)===null&&Se===p(g)&&(ee?(I(H),H=-1):ee=!0,rt(j,Ne-ke))):(Se.sortIndex=$,f(T,Se),k||P||(k=!0,M||(M=!0,Ke()))),Se},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(Se){var Fe=R;return function(){var Ne=R;R=Fe;try{return Se.apply(this,arguments)}finally{R=Ne}}}}(Hl)),Hl}var Od;function U0(){return Od||(Od=1,Ml.exports=D0()),Ml.exports}var Ll={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function O0(){if(Nd)return _n;Nd=1;var h=ec();function f(T){var g="https://react.dev/errors/"+T;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+T+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var c={d:{f:p,r:function(){throw Error(f(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},m=Symbol.for("react.portal");function A(T,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:v==null?null:""+v,children:T,containerInfo:g,implementation:y}}var S=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function D(T,g){if(T==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,_n.createPortal=function(T,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(f(299));return A(T,g,null,y)},_n.flushSync=function(T){var g=S.T,y=c.p;try{if(S.T=null,c.p=2,T)return T()}finally{S.T=g,c.p=y,c.d.f()}},_n.preconnect=function(T,g){typeof T=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(T,g))},_n.prefetchDNS=function(T){typeof T=="string"&&c.d.D(T)},_n.preinit=function(T,g){if(typeof T=="string"&&g&&typeof g.as=="string"){var y=g.as,v=D(y,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?c.d.S(T,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:R,fetchPriority:P}):y==="script"&&c.d.X(T,{crossOrigin:v,integrity:R,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(T,g){if(typeof T=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=D(g.as,g.crossOrigin);c.d.M(T,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(T)},_n.preload=function(T,g){if(typeof T=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=D(y,g.crossOrigin);c.d.L(T,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(T,g){if(typeof T=="string")if(g){var y=D(g.as,g.crossOrigin);c.d.m(T,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(T)},_n.requestFormReset=function(T){c.d.r(T)},_n.unstable_batchedUpdates=function(T,g){return T(g)},_n.useFormState=function(T,g,y){return S.H.useFormState(T,g,y)},_n.useFormStatus=function(){return S.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var kd;function N0(){if(kd)return Ll.exports;kd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(f){console.error(f)}}return h(),Ll.exports=O0(),Ll.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function k0(){if(Md)return mo;Md=1;var h=U0(),f=ec(),p=N0();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D(e){if(A(e)!==e)throw Error(c(188))}function T(e){var t=e.alternate;if(!t){if(t=A(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return D(s),e;if(l===r)return D(s),t;l=l.sibling}throw Error(c(188))}if(n.return!==r.return)n=s,r=l;else{for(var b=!1,C=s.child;C;){if(C===n){b=!0,n=s,r=l;break}if(C===r){b=!0,r=s,n=l;break}C=C.sibling}if(!b){for(C=l.child;C;){if(C===n){b=!0,n=l,r=s;break}if(C===r){b=!0,r=l,n=s;break}C=C.sibling}if(!b)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),X=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Ke(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var We=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===We?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Y:return"Profiler";case ee:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList";case _e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case X:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:Ct(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return Ct(e(t))}catch{}}return null}var rt=Array.isArray,Se=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},ke=[],$=-1;function Ee(e){return{current:e}}function Ce(e){0>$||(e.current=ke[$],ke[$]=null,$--)}function Re(e,t){$++,ke[$]=e.current,e.current=t}var Me=Ee(null),Xe=Ee(null),Ie=Ee(null),pt=Ee(null);function $e(e,t){switch(Re(Ie,t),Re(Xe,e),Re(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?td(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=td(t),e=nd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(Me),Re(Me,e)}function Ft(){Ce(Me),Ce(Xe),Ce(Ie)}function Et(e){e.memoizedState!==null&&Re(pt,e);var t=Me.current,n=nd(t,e.type);t!==n&&(Re(Xe,e),Re(Me,n))}function ne(e){Xe.current===e&&(Ce(Me),Ce(Xe)),pt.current===e&&(Ce(pt),fo._currentValue=Ne)}var E=Object.prototype.hasOwnProperty,w=h.unstable_scheduleCallback,Q=h.unstable_cancelCallback,re=h.unstable_shouldYield,he=h.unstable_requestPaint,ve=h.unstable_now,Le=h.unstable_getCurrentPriorityLevel,Ye=h.unstable_ImmediatePriority,lt=h.unstable_UserBlockingPriority,et=h.unstable_NormalPriority,yt=h.unstable_LowPriority,ln=h.unstable_IdlePriority,Rn=h.log,Pe=h.unstable_setDisableYieldValue,vt=null,qe=null;function qt(e){if(typeof Rn=="function"&&Pe(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(vt,e)}catch{}}var yn=Math.clz32?Math.clz32:Cn,U=Math.log,gi=Math.LN2;function Cn(e){return e>>>=0,e===0?32:31-(U(e)/gi|0)|0}var De=256,pi=4194304;function rr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pr(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=r&134217727;return C!==0?(r=C&~l,r!==0?s=rr(r):(b&=C,b!==0?s=rr(b):n||(n=C&~e,n!==0&&(s=rr(n))))):(C=r&~l,C!==0?s=rr(C):b!==0?s=rr(b):n||(n=r&~e,n!==0&&(s=rr(n)))),s===0?0:t!==0&&t!==s&&(t&l)===0&&(l=s&-s,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:s}function bn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var e=De;return De<<=1,(De&4194048)===0&&(De=256),e}function jt(){var e=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zt(e,t,n,r,s,l){var b=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var C=e.entanglements,te=e.expirationTimes,fe=e.hiddenUpdates;for(n=b&~n;0<n;){var be=31-yn(n),Te=1<<be;C[be]=0,te[be]=-1;var ge=fe[be];if(ge!==null)for(fe[be]=null,be=0;be<ge.length;be++){var pe=ge[be];pe!==null&&(pe.lane&=-536870913)}n&=~Te}r!==0&&En(e,r,0),l!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=l&~(b&~t))}function En(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-yn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function Dn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Hi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wa(){var e=Fe.p;return e!==0?e:(e=window.event,e===void 0?32:bd(e.type))}function vn(e,t){var n=Fe.p;try{return Fe.p=e,t()}finally{Fe.p=n}}var $t=Math.random().toString(36).slice(2),Xt="__reactFiber$"+$t,cn="__reactProps$"+$t,Vn="__reactContainer$"+$t,Br="__reactEvents$"+$t,wo="__reactListeners$"+$t,Ao="__reactHandles$"+$t,Bi="__reactResources$"+$t,Pr="__reactMarker$"+$t;function jr(e){delete e[Xt],delete e[cn],delete e[Br],delete e[wo],delete e[Ao]}function vr(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vn]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=od(e);e!==null;){if(n=e[Xt])return n;e=od(e)}return t}e=n,n=e.parentNode}return null}function ir(e){if(e=e[Xt]||e[Vn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ir(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function St(e){var t=e[Bi];return t||(t=e[Bi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Pr]=!0}var Aa=new Set,Ta={};function ar(e,t){Dt(e,t),Dt(e+"Capture",t)}function Dt(e,t){for(Ta[e]=t,e=0;e<t.length;e++)Aa.add(t[e])}var Ls=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},xo={};function Bs(e){return E.call(xo,e)?!0:E.call(To,e)?!1:Ls.test(e)?xo[e]=!0:(To[e]=!0,!1)}function Pi(e,t,n){if(Bs(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ji(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Jn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var xa,Fo;function Kr(e){if(xa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||"",Fo=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+e+Fo}var a=!1;function i(e,t){if(!e||a)return"";a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(pe){var ge=pe}Reflect.construct(e,[],Te)}else{try{Te.call()}catch(pe){ge=pe}e.call(Te.prototype)}}else{try{throw Error()}catch(pe){ge=pe}(Te=e())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(pe){if(pe&&ge&&typeof pe.stack=="string")return[pe.stack,ge.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),b=l[0],C=l[1];if(b&&C){var te=b.split(`
`),fe=C.split(`
`);for(s=r=0;r<te.length&&!te[r].includes("DetermineComponentFrameRoot");)r++;for(;s<fe.length&&!fe[s].includes("DetermineComponentFrameRoot");)s++;if(r===te.length||s===fe.length)for(r=te.length-1,s=fe.length-1;1<=r&&0<=s&&te[r]!==fe[s];)s--;for(;1<=r&&0<=s;r--,s--)if(te[r]!==fe[s]){if(r!==1||s!==1)do if(r--,s--,0>s||te[r]!==fe[s]){var be=`
`+te[r].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=r&&0<=s);break}}}finally{a=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Kr(n):""}function o(e){switch(e.tag){case 26:case 27:case 5:return Kr(e.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return i(e.type,!1);case 11:return i(e.type.render,!1);case 1:return i(e.type,!0);case 31:return Kr("Activity");default:return""}}function u(e){try{var t="";do t+=o(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function d(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F(e){var t=_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(b){r=""+b,l.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B(e){e._valueTracker||(e._valueTracker=F(e))}function N(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function L(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V=/[\n"\\]/g;function z(e){return e.replace(V,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Z(e,t,n,r,s,l,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+d(t)):e.value!==""+d(t)&&(e.value=""+d(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?se(e,b,d(t)):n!=null?se(e,b,d(n)):r!=null&&e.removeAttribute("value"),s==null&&l!=null&&(e.defaultChecked=!!l),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+d(C):e.removeAttribute("name")}function ie(e,t,n,r,s,l,b,C){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;n=n!=null?""+d(n):"",t=t!=null?""+d(t):n,C||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=C?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function se(e,t,n){t==="number"&&L(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function de(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+d(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ye(e,t,n){if(t!=null&&(t=""+d(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+d(n):""}function x(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(c(92));if(rt(r)){if(1<r.length)throw Error(c(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=d(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function q(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var G=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function W(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||G.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ue(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&W(e,s,r)}else for(var l in t)t.hasOwnProperty(l)&&W(e,l,t[l])}function me(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qe(e){return xe.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ue=null;function Be(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ct=null,ht=null;function wt(e){var t=ir(e);if(t&&(e=t.stateNode)){var n=e[cn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Z(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+z(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[cn]||null;if(!s)throw Error(c(90));Z(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&N(r)}break e;case"textarea":ye(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&de(e,!!n.multiple,t,!1)}}}var rn=!1;function en(e,t,n){if(rn)return e(t,n);rn=!0;try{var r=e(t);return r}finally{if(rn=!1,(ct!==null||ht!==null)&&(ls(),ct&&(t=ct,e=ht,ht=ct=null,wt(t),e)))for(t=0;t<e.length;t++)wt(e[t])}}function Vt(e,t){var n=e.stateNode;if(n===null)return null;var r=n[cn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ht=!1;if(dt)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Ht=!1}var kt=null,mr=null,Yn=null;function qr(){if(Yn)return Yn;var e,t=mr,n=t.length,r,s="value"in kt?kt.value:kt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var b=n-e;for(r=1;r<=b&&t[n-r]===s[l-r];r++);return Yn=s.slice(e,1<r?1-r:void 0)}function Gn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zr(){return!0}function Vr(){return!1}function Ut(e){function t(n,r,s,l,b){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(n=e[C],this[C]=n?n(l):l[C]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?zr:Vr,this.isPropagationStopped=Vr,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),t}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Ut(Qt),Xn=y({},Qt,{view:0,detail:0}),Ii=Ut(Xn),_r,yi,Qn,mn=y({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(_r=e.screenX-Qn.screenX,yi=e.screenY-Qn.screenY):yi=_r=0,Qn=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:yi}}),or=Ut(mn),Wn=y({},mn,{dataTransfer:0}),Ot=Ut(Wn),Zn=y({},Xn,{relatedTarget:0}),sr=Ut(Zn),Jt=y({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ut(Jt),br=y({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Er=Ut(br),Ps=y({},Qt,{data:0}),Ro=Ut(Ps),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mg[e])?!!t[e]:!1}function js(){return Hg}var Lg=y({},Xn,{key:function(e){if(e.key){var t=Co[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bg=Ut(Lg),Pg=y({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Ut(Pg),jg=y({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Ig=Ut(jg),Kg=y({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=Ut(Kg),zg=y({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=Ut(zg),Jg=y({},Qt,{newState:0,oldState:0}),Yg=Ut(Jg),Gg=[9,13,27,32],Is=dt&&"CompositionEvent"in window,Ra=null;dt&&"documentMode"in document&&(Ra=document.documentMode);var Xg=dt&&"TextEvent"in window&&!Ra,lc=dt&&(!Is||Ra&&8<Ra&&11>=Ra),cc=" ",fc=!1;function hc(e,t){switch(e){case"keyup":return Gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function Qg(e,t){switch(e){case"compositionend":return dc(t);case"keypress":return t.which!==32?null:(fc=!0,cc);case"textInput":return e=t.data,e===cc&&fc?null:e;default:return null}}function Wg(e,t){if(Ki)return e==="compositionend"||!Is&&hc(e,t)?(e=qr(),Yn=mr=kt=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lc&&t.locale!=="ko"?null:t.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zg[e.type]:t==="textarea"}function pc(e,t,n,r){ct?ht?ht.push(r):ht=[r]:ct=r,t=ps(t,"onChange"),0<t.length&&(n=new Sr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Da=null;function $g(e){Qh(e,0)}function Do(e){var t=Ir(e);if(N(t))return e}function yc(e,t){if(e==="change")return t}var vc=!1;if(dt){var Ks;if(dt){var qs="oninput"in document;if(!qs){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),qs=typeof mc.oninput=="function"}Ks=qs}else Ks=!1;vc=Ks&&(!document.documentMode||9<document.documentMode)}function Sc(){Ca&&(Ca.detachEvent("onpropertychange",_c),Da=Ca=null)}function _c(e){if(e.propertyName==="value"&&Do(Da)){var t=[];pc(t,Da,e,Be(e)),en($g,t)}}function ep(e,t,n){e==="focusin"?(Sc(),Ca=t,Da=n,Ca.attachEvent("onpropertychange",_c)):e==="focusout"&&Sc()}function tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(Da)}function np(e,t){if(e==="click")return Do(t)}function rp(e,t){if(e==="input"||e==="change")return Do(t)}function ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Un=typeof Object.is=="function"?Object.is:ip;function Ua(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!E.call(t,s)||!Un(e[s],t[s]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var n=bc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bc(n)}}function wc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ac(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=L(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=L(e.document)}return t}function zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ap=dt&&"documentMode"in document&&11>=document.documentMode,qi=null,Vs=null,Oa=null,Js=!1;function Tc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Js||qi==null||qi!==L(r)||(r=qi,"selectionStart"in r&&zs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oa&&Ua(Oa,r)||(Oa=r,r=ps(Vs,"onSelect"),0<r.length&&(t=new Sr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qi)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Ys={},xc={};dt&&(xc=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function mi(e){if(Ys[e])return Ys[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xc)return Ys[e]=t[n];return e}var Fc=mi("animationend"),Rc=mi("animationiteration"),Cc=mi("animationstart"),op=mi("transitionrun"),sp=mi("transitionstart"),up=mi("transitioncancel"),Dc=mi("transitionend"),Uc=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function $n(e,t){Uc.set(e,t),ar(t,[e])}var Oc=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var n=Oc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:u(t)},Oc.set(e,t),t)}return{value:e,source:t,stack:u(t)}}var Pn=[],Vi=0,Xs=0;function Uo(){for(var e=Vi,t=Xs=Vi=0;t<e;){var n=Pn[t];Pn[t++]=null;var r=Pn[t];Pn[t++]=null;var s=Pn[t];Pn[t++]=null;var l=Pn[t];if(Pn[t++]=null,r!==null&&s!==null){var b=r.pending;b===null?s.next=s:(s.next=b.next,b.next=s),r.pending=s}l!==0&&Nc(n,s,l)}}function Oo(e,t,n,r){Pn[Vi++]=e,Pn[Vi++]=t,Pn[Vi++]=n,Pn[Vi++]=r,Xs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qs(e,t,n,r){return Oo(e,t,n,r),No(e)}function Ji(e,t){return Oo(e,null,null,t),No(e)}function Nc(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var s=!1,l=e.return;l!==null;)l.childLanes|=n,r=l.alternate,r!==null&&(r.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(s=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,s&&t!==null&&(s=31-yn(n),e=l.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=n|536870912),l):null}function No(e){if(50<ro)throw ro=0,nl=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yi={};function lp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,n,r){return new lp(e,t,n,r)}function Ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wr(e,t){var n=e.alternate;return n===null?(n=On(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function kc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ko(e,t,n,r,s,l){var b=0;if(r=e,typeof e=="function")Ws(e)&&(b=1);else if(typeof e=="string")b=f0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _e:return e=On(31,n,t,s),e.elementType=_e,e.lanes=l,e;case k:return Si(n.children,s,l,t);case ee:b=8,s|=24;break;case Y:return e=On(12,n,t,s|2),e.elementType=Y,e.lanes=l,e;case j:return e=On(13,n,t,s),e.elementType=j,e.lanes=l,e;case M:return e=On(19,n,t,s),e.elementType=M,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case X:b=10;break e;case I:b=9;break e;case O:b=11;break e;case H:b=14;break e;case le:b=16,r=null;break e}b=29,n=Error(c(130,e===null?"null":typeof e,"")),r=null}return t=On(b,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Si(e,t,n,r){return e=On(7,e,r,t),e.lanes=n,e}function Zs(e,t,n){return e=On(6,e,null,t),e.lanes=n,e}function $s(e,t,n){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gi=[],Xi=0,Mo=null,Ho=0,jn=[],In=0,_i=null,Ar=1,Tr="";function bi(e,t){Gi[Xi++]=Ho,Gi[Xi++]=Mo,Mo=e,Ho=t}function Mc(e,t,n){jn[In++]=Ar,jn[In++]=Tr,jn[In++]=_i,_i=e;var r=Ar;e=Tr;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var l=32-yn(t)+s;if(30<l){var b=s-s%5;l=(r&(1<<b)-1).toString(32),r>>=b,s-=b,Ar=1<<32-yn(t)+s|n<<s|r,Tr=l+e}else Ar=1<<l|n<<s|r,Tr=e}function eu(e){e.return!==null&&(bi(e,1),Mc(e,1,0))}function tu(e){for(;e===Mo;)Mo=Gi[--Xi],Gi[Xi]=null,Ho=Gi[--Xi],Gi[Xi]=null;for(;e===_i;)_i=jn[--In],jn[In]=null,Tr=jn[--In],jn[In]=null,Ar=jn[--In],jn[In]=null}var wn=null,It=null,gt=!1,Ei=null,ur=!1,nu=Error(c(519));function wi(e){var t=Error(c(418,""));throw Ma(Bn(t,e)),nu}function Hc(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Xt]=e,t[cn]=r,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<ao.length;n++)st(ao[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),ie(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),B(t);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),x(t,r.value,r.defaultValue,r.children),B(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||ed(t.textContent,n)?(r.popover!=null&&(st("beforetoggle",t),st("toggle",t)),r.onScroll!=null&&st("scroll",t),r.onScrollEnd!=null&&st("scrollend",t),r.onClick!=null&&(t.onclick=ys),t=!0):t=!1,t||wi(e)}function Lc(e){for(wn=e.return;wn;)switch(wn.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:wn=wn.return}}function Na(e){if(e!==wn)return!1;if(!gt)return Lc(e),gt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ml(e.type,e.memoizedProps)),n=!n),n&&It&&wi(e),Lc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){It=tr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}It=null}}else t===27?(t=It,si(e.type)?(e=El,El=null,It=e):It=t):It=wn?tr(e.stateNode.nextSibling):null;return!0}function ka(){It=wn=null,gt=!1}function Bc(){var e=Ei;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Ei=null),e}function Ma(e){Ei===null?Ei=[e]:Ei.push(e)}var ru=Ee(null),Ai=null,xr=null;function Jr(e,t,n){Re(ru,t._currentValue),t._currentValue=n}function Fr(e){e._currentValue=ru.current,Ce(ru)}function iu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function au(e,t,n,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){var b=s.child;l=l.firstContext;e:for(;l!==null;){var C=l;l=s;for(var te=0;te<t.length;te++)if(C.context===t[te]){l.lanes|=n,C=l.alternate,C!==null&&(C.lanes|=n),iu(l.return,n,e),r||(b=null);break e}l=C.next}}else if(s.tag===18){if(b=s.return,b===null)throw Error(c(341));b.lanes|=n,l=b.alternate,l!==null&&(l.lanes|=n),iu(b,n,e),b=null}else b=s.child;if(b!==null)b.return=s;else for(b=s;b!==null;){if(b===e){b=null;break}if(s=b.sibling,s!==null){s.return=b.return,b=s;break}b=b.return}s=b}}function Ha(e,t,n,r){e=null;for(var s=t,l=!1;s!==null;){if(!l){if((s.flags&524288)!==0)l=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var b=s.alternate;if(b===null)throw Error(c(387));if(b=b.memoizedProps,b!==null){var C=s.type;Un(s.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(s===pt.current){if(b=s.alternate,b===null)throw Error(c(387));b.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}s=s.return}e!==null&&au(t,e,n,r),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ai=e,xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return Pc(Ai,e)}function Bo(e,t){return Ai===null&&Ti(e),Pc(e,t)}function Pc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},xr===null){if(e===null)throw Error(c(308));xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xr=xr.next=t;return n}var cp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},fp=h.unstable_scheduleCallback,hp=h.unstable_NormalPriority,tn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ou(){return{controller:new cp,data:new Map,refCount:0}}function La(e){e.refCount--,e.refCount===0&&fp(hp,function(){e.controller.abort()})}var Ba=null,su=0,Qi=0,Wi=null;function dp(e,t){if(Ba===null){var n=Ba=[];su=0,Qi=ll(),Wi={status:"pending",value:void 0,then:function(r){n.push(r)}}}return su++,t.then(jc,jc),t}function jc(){if(--su===0&&Ba!==null){Wi!==null&&(Wi.status="fulfilled");var e=Ba;Ba=null,Qi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gp(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),r}var Ic=Se.S;Se.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&dp(e,t),Ic!==null&&Ic(e,t)};var xi=Ee(null);function uu(){var e=xi.current;return e!==null?e:Nt.pooledCache}function Po(e,t){t===null?Re(xi,xi.current):Re(xi,t.pool)}function Kc(){var e=uu();return e===null?null:{parent:tn._currentValue,pool:e}}var Pa=Error(c(460)),qc=Error(c(474)),jo=Error(c(542)),lu={then:function(){}};function zc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Io(){}function Vc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Io,Io),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yc(e),e;default:if(typeof t.status=="string")t.then(Io,Io);else{if(e=Nt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yc(e),e}throw ja=t,Pa}}var ja=null;function Jc(){if(ja===null)throw Error(c(459));var e=ja;return ja=null,e}function Yc(e){if(e===Pa||e===jo)throw Error(c(483))}var Yr=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(_t&2)!==0){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=No(e),Nc(e,null,n),t}return Oo(e,r,t,n),No(e)}function Ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dn(e,n)}}function hu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var b={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?s=l=b:l=l.next=b,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var du=!1;function Ka(){if(du){var e=Wi;if(e!==null)throw e}}function qa(e,t,n,r){du=!1;var s=e.updateQueue;Yr=!1;var l=s.firstBaseUpdate,b=s.lastBaseUpdate,C=s.shared.pending;if(C!==null){s.shared.pending=null;var te=C,fe=te.next;te.next=null,b===null?l=fe:b.next=fe,b=te;var be=e.alternate;be!==null&&(be=be.updateQueue,C=be.lastBaseUpdate,C!==b&&(C===null?be.firstBaseUpdate=fe:C.next=fe,be.lastBaseUpdate=te))}if(l!==null){var Te=s.baseState;b=0,be=fe=te=null,C=l;do{var ge=C.lane&-536870913,pe=ge!==C.lane;if(pe?(ut&ge)===ge:(r&ge)===ge){ge!==0&&ge===Qi&&(du=!0),be!==null&&(be=be.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ge=e,ze=C;ge=t;var xt=n;switch(ze.tag){case 1:if(Ge=ze.payload,typeof Ge=="function"){Te=Ge.call(xt,Te,ge);break e}Te=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=ze.payload,ge=typeof Ge=="function"?Ge.call(xt,Te,ge):Ge,ge==null)break e;Te=y({},Te,ge);break e;case 2:Yr=!0}}ge=C.callback,ge!==null&&(e.flags|=64,pe&&(e.flags|=8192),pe=s.callbacks,pe===null?s.callbacks=[ge]:pe.push(ge))}else pe={lane:ge,tag:C.tag,payload:C.payload,callback:C.callback,next:null},be===null?(fe=be=pe,te=Te):be=be.next=pe,b|=ge;if(C=C.next,C===null){if(C=s.shared.pending,C===null)break;pe=C,C=pe.next,pe.next=null,s.lastBaseUpdate=pe,s.shared.pending=null}}while(!0);be===null&&(te=Te),s.baseState=te,s.firstBaseUpdate=fe,s.lastBaseUpdate=be,l===null&&(s.shared.lanes=0),ri|=b,e.lanes=b,e.memoizedState=Te}}function Gc(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Xc(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gc(n[e],t)}var Zi=Ee(null),Ko=Ee(0);function Qc(e,t){e=kr,Re(Ko,e),Re(Zi,t),kr=e|t.baseLanes}function gu(){Re(Ko,kr),Re(Zi,Zi.current)}function pu(){kr=Ko.current,Ce(Zi),Ce(Ko)}var Qr=0,nt=null,At=null,Wt=null,qo=!1,$i=!1,Fi=!1,zo=0,za=0,ea=null,pp=0;function Yt(){throw Error(c(321))}function yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Un(e[n],t[n]))return!1;return!0}function vu(e,t,n,r,s,l){return Qr=l,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Se.H=e===null||e.memoizedState===null?kf:Mf,Fi=!1,l=n(r,s),Fi=!1,$i&&(l=Zc(t,n,r,s)),Wc(e),l}function Wc(e){Se.H=Qo;var t=At!==null&&At.next!==null;if(Qr=0,Wt=At=nt=null,qo=!1,za=0,ea=null,t)throw Error(c(300));e===null||an||(e=e.dependencies,e!==null&&Lo(e)&&(an=!0))}function Zc(e,t,n,r){nt=e;var s=0;do{if($i&&(ea=null),za=0,$i=!1,25<=s)throw Error(c(301));if(s+=1,Wt=At=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}Se.H=Ep,l=t(n,r)}while($i);return l}function yp(){var e=Se.H,t=e.useState()[0];return t=typeof t.then=="function"?Va(t):t,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(nt.flags|=1024),t}function mu(){var e=zo!==0;return zo=0,e}function Su(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _u(e){if(qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qo=!1}Qr=0,Wt=At=nt=null,$i=!1,za=zo=0,ea=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?nt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Zt(){if(At===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Wt===null?nt.memoizedState:Wt.next;if(t!==null)Wt=t,At=e;else{if(e===null)throw nt.alternate===null?Error(c(467)):Error(c(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Wt===null?nt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(e){var t=za;return za+=1,ea===null&&(ea=[]),e=Vc(ea,e,t),t=nt,(Wt===null?t.memoizedState:Wt.next)===null&&(t=t.alternate,Se.H=t===null||t.memoizedState===null?kf:Mf),e}function Vo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Va(e);if(e.$$typeof===X)return Sn(e)}throw Error(c(438,String(e)))}function Eu(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=nt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=bu(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=J;return t.index++,n}function Rr(e,t){return typeof t=="function"?t(e):t}function Jo(e){var t=Zt();return wu(t,At,e)}function wu(e,t,n){var r=e.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=n;var s=e.baseQueue,l=r.pending;if(l!==null){if(s!==null){var b=s.next;s.next=l.next,l.next=b}t.baseQueue=s=l,r.pending=null}if(l=e.baseState,s===null)e.memoizedState=l;else{t=s.next;var C=b=null,te=null,fe=t,be=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?(ut&Te)===Te:(Qr&Te)===Te){var ge=fe.revertLane;if(ge===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===Qi&&(be=!0);else if((Qr&ge)===ge){fe=fe.next,ge===Qi&&(be=!0);continue}else Te={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(C=te=Te,b=l):te=te.next=Te,nt.lanes|=ge,ri|=ge;Te=fe.action,Fi&&n(l,Te),l=fe.hasEagerState?fe.eagerState:n(l,Te)}else ge={lane:Te,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(C=te=ge,b=l):te=te.next=ge,nt.lanes|=Te,ri|=Te;fe=fe.next}while(fe!==null&&fe!==t);if(te===null?b=l:te.next=C,!Un(l,e.memoizedState)&&(an=!0,be&&(n=Wi,n!==null)))throw n;e.memoizedState=l,e.baseState=b,e.baseQueue=te,r.lastRenderedState=l}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Au(e){var t=Zt(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var b=s=s.next;do l=e(l,b.action),b=b.next;while(b!==s);Un(l,t.memoizedState)||(an=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function $c(e,t,n){var r=nt,s=Zt(),l=gt;if(l){if(n===void 0)throw Error(c(407));n=n()}else n=t();var b=!Un((At||s).memoizedState,n);b&&(s.memoizedState=n,an=!0),s=s.queue;var C=nf.bind(null,r,s,e);if(Ja(2048,8,C,[e]),s.getSnapshot!==t||b||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,ta(9,Yo(),tf.bind(null,r,s,n,t),null),Nt===null)throw Error(c(349));l||(Qr&124)!==0||ef(r,t,n)}return n}function ef(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=bu(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tf(e,t,n,r){t.value=n,t.getSnapshot=r,rf(t)&&af(e)}function nf(e,t,n){return n(function(){rf(t)&&af(e)})}function rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Un(e,n)}catch{return!0}}function af(e){var t=Ji(e,2);t!==null&&Ln(t,e,2)}function Tu(e){var t=An();if(typeof e=="function"){var n=e;if(e=n(),Fi){qt(!0);try{n()}finally{qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t}function of(e,t,n,r){return e.baseState=n,wu(e,At,typeof r=="function"?r:Rr)}function vp(e,t,n,r,s){if(Xo(e))throw Error(c(485));if(e=t.action,e!==null){var l={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){l.listeners.push(b)}};Se.T!==null?n(!0):l.isTransition=!1,r(l),n=t.pending,n===null?(l.next=t.pending=l,sf(t,l)):(l.next=n.next,t.pending=n.next=l)}}function sf(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var l=Se.T,b={};Se.T=b;try{var C=n(s,r),te=Se.S;te!==null&&te(b,C),uf(e,t,C)}catch(fe){xu(e,t,fe)}finally{Se.T=l}}else try{l=n(s,r),uf(e,t,l)}catch(fe){xu(e,t,fe)}}function uf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){lf(e,t,r)},function(r){return xu(e,t,r)}):lf(e,t,n)}function lf(e,t,n){t.status="fulfilled",t.value=n,cf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,sf(e,n)))}function xu(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,cf(t),t=t.next;while(t!==r)}e.action=null}function cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ff(e,t){return t}function hf(e,t){if(gt){var n=Nt.formState;if(n!==null){e:{var r=nt;if(gt){if(It){t:{for(var s=It,l=ur;s.nodeType!==8;){if(!l){s=null;break t}if(s=tr(s.nextSibling),s===null){s=null;break t}}l=s.data,s=l==="F!"||l==="F"?s:null}if(s){It=tr(s.nextSibling),r=s.data==="F!";break e}}wi(r)}r=!1}r&&(t=n[0])}}return n=An(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:t},n.queue=r,n=Uf.bind(null,nt,r),r.dispatch=n,r=Tu(!1),l=Uu.bind(null,nt,!1,r.queue),r=An(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,n=vp.bind(null,nt,s,l,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function df(e){var t=Zt();return gf(t,At,e)}function gf(e,t,n){if(t=wu(e,t,ff)[0],e=Jo(Rr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Va(t)}catch(b){throw b===Pa?jo:b}else r=t;t=Zt();var s=t.queue,l=s.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,ta(9,Yo(),mp.bind(null,s,n),null)),[r,l,e]}function mp(e,t){e.action=t}function pf(e){var t=Zt(),n=At;if(n!==null)return gf(t,n,e);Zt(),t=t.memoizedState,n=Zt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ta(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=nt.updateQueue,t===null&&(t=bu(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yo(){return{destroy:void 0,resource:void 0}}function yf(){return Zt().memoizedState}function Go(e,t,n,r){var s=An();r=r===void 0?null:r,nt.flags|=e,s.memoizedState=ta(1|t,Yo(),n,r)}function Ja(e,t,n,r){var s=Zt();r=r===void 0?null:r;var l=s.memoizedState.inst;At!==null&&r!==null&&yu(r,At.memoizedState.deps)?s.memoizedState=ta(t,l,n,r):(nt.flags|=e,s.memoizedState=ta(1|t,l,n,r))}function vf(e,t){Go(8390656,8,e,t)}function mf(e,t){Ja(2048,8,e,t)}function Sf(e,t){return Ja(4,2,e,t)}function _f(e,t){return Ja(4,4,e,t)}function bf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ef(e,t,n){n=n!=null?n.concat([e]):null,Ja(4,4,bf.bind(null,t,e),n)}function Fu(){}function wf(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&yu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Af(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&yu(t,r[1]))return r[0];if(r=e(),Fi){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[r,t],r}function Ru(e,t,n){return n===void 0||(Qr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Fh(),nt.lanes|=e,ri|=e,n)}function Tf(e,t,n,r){return Un(n,t)?n:Zi.current!==null?(e=Ru(e,n,r),Un(e,t)||(an=!0),e):(Qr&42)===0?(an=!0,e.memoizedState=n):(e=Fh(),nt.lanes|=e,ri|=e,t)}function xf(e,t,n,r,s){var l=Fe.p;Fe.p=l!==0&&8>l?l:8;var b=Se.T,C={};Se.T=C,Uu(e,!1,t,n);try{var te=s(),fe=Se.S;if(fe!==null&&fe(C,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var be=gp(te,r);Ya(e,t,be,Hn(e))}else Ya(e,t,r,Hn(e))}catch(Te){Ya(e,t,{then:function(){},status:"rejected",reason:Te},Hn())}finally{Fe.p=l,Se.T=b}}function Sp(){}function Cu(e,t,n,r){if(e.tag!==5)throw Error(c(476));var s=Ff(e).queue;xf(e,s,t,Ne,n===null?Sp:function(){return Rf(e),n(r)})}function Ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:Ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rf(e){var t=Ff(e).next.queue;Ya(e,t,{},Hn())}function Du(){return Sn(fo)}function Cf(){return Zt().memoizedState}function Df(){return Zt().memoizedState}function _p(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Hn();e=Gr(n);var r=Xr(t,e,n);r!==null&&(Ln(r,t,n),Ia(r,t,n)),t={cache:ou()},e.payload=t;return}t=t.return}}function bp(e,t,n){var r=Hn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Of(t,n):(n=Qs(e,t,n,r),n!==null&&(Ln(n,e,r),Nf(n,t,r)))}function Uf(e,t,n){var r=Hn();Ya(e,t,n,r)}function Ya(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Of(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var b=t.lastRenderedState,C=l(b,n);if(s.hasEagerState=!0,s.eagerState=C,Un(C,b))return Oo(e,t,s,0),Nt===null&&Uo(),!1}catch{}finally{}if(n=Qs(e,t,s,r),n!==null)return Ln(n,e,r),Nf(n,t,r),!0}return!1}function Uu(e,t,n,r){if(r={lane:2,revertLane:ll(),action:r,hasEagerState:!1,eagerState:null,next:null},Xo(e)){if(t)throw Error(c(479))}else t=Qs(e,n,r,2),t!==null&&Ln(t,e,2)}function Xo(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Of(e,t){$i=qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nf(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dn(e,n)}}var Qo={readContext:Sn,use:Vo,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},kf={readContext:Sn,use:Vo,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:vf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Go(4194308,4,bf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){Go(4,2,e,t)},useMemo:function(e,t){var n=An();t=t===void 0?null:t;var r=e();if(Fi){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=An();if(n!==void 0){var s=n(t);if(Fi){qt(!0);try{n(t)}finally{qt(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=bp.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=Tu(e);var t=e.queue,n=Uf.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fu,useDeferredValue:function(e,t){var n=An();return Ru(n,e,t)},useTransition:function(){var e=Tu(!1);return e=xf.bind(null,nt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=nt,s=An();if(gt){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Nt===null)throw Error(c(349));(ut&124)!==0||ef(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,vf(nf.bind(null,r,l,e),[e]),r.flags|=2048,ta(9,Yo(),tf.bind(null,r,l,n,t),null),n},useId:function(){var e=An(),t=Nt.identifierPrefix;if(gt){var n=Tr,r=Ar;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=zo++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=pp++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Du,useFormState:hf,useActionState:hf,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Uu.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Eu,useCacheRefresh:function(){return An().memoizedState=_p.bind(null,nt)}},Mf={readContext:Sn,use:Vo,useCallback:wf,useContext:Sn,useEffect:mf,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:_f,useMemo:Af,useReducer:Jo,useRef:yf,useState:function(){return Jo(Rr)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Zt();return Tf(n,At.memoizedState,e,t)},useTransition:function(){var e=Jo(Rr)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:Va(e),t]},useSyncExternalStore:$c,useId:Cf,useHostTransitionStatus:Du,useFormState:df,useActionState:df,useOptimistic:function(e,t){var n=Zt();return of(n,At,e,t)},useMemoCache:Eu,useCacheRefresh:Df},Ep={readContext:Sn,use:Vo,useCallback:wf,useContext:Sn,useEffect:mf,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:_f,useMemo:Af,useReducer:Au,useRef:yf,useState:function(){return Au(Rr)},useDebugValue:Fu,useDeferredValue:function(e,t){var n=Zt();return At===null?Ru(n,e,t):Tf(n,At.memoizedState,e,t)},useTransition:function(){var e=Au(Rr)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:Va(e),t]},useSyncExternalStore:$c,useId:Cf,useHostTransitionStatus:Du,useFormState:pf,useActionState:pf,useOptimistic:function(e,t){var n=Zt();return At!==null?of(n,At,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:Df},na=null,Ga=0;function Wo(e){var t=Ga;return Ga+=1,na===null&&(na=[]),Vc(na,e,t)}function Xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zo(e,t){throw t.$$typeof===v?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hf(e){var t=e._init;return t(e._payload)}function Lf(e){function t(oe,ae){if(e){var ce=oe.deletions;ce===null?(oe.deletions=[ae],oe.flags|=16):ce.push(ae)}}function n(oe,ae){if(!e)return null;for(;ae!==null;)t(oe,ae),ae=ae.sibling;return null}function r(oe){for(var ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function s(oe,ae){return oe=wr(oe,ae),oe.index=0,oe.sibling=null,oe}function l(oe,ae,ce){return oe.index=ce,e?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ae?(oe.flags|=67108866,ae):ce):(oe.flags|=67108866,ae)):(oe.flags|=1048576,ae)}function b(oe){return e&&oe.alternate===null&&(oe.flags|=67108866),oe}function C(oe,ae,ce,we){return ae===null||ae.tag!==6?(ae=Zs(ce,oe.mode,we),ae.return=oe,ae):(ae=s(ae,ce),ae.return=oe,ae)}function te(oe,ae,ce,we){var He=ce.type;return He===k?be(oe,ae,ce.props.children,we,ce.key):ae!==null&&(ae.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===le&&Hf(He)===ae.type)?(ae=s(ae,ce.props),Xa(ae,ce),ae.return=oe,ae):(ae=ko(ce.type,ce.key,ce.props,null,oe.mode,we),Xa(ae,ce),ae.return=oe,ae)}function fe(oe,ae,ce,we){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ce.containerInfo||ae.stateNode.implementation!==ce.implementation?(ae=$s(ce,oe.mode,we),ae.return=oe,ae):(ae=s(ae,ce.children||[]),ae.return=oe,ae)}function be(oe,ae,ce,we,He){return ae===null||ae.tag!==7?(ae=Si(ce,oe.mode,we,He),ae.return=oe,ae):(ae=s(ae,ce),ae.return=oe,ae)}function Te(oe,ae,ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Zs(""+ae,oe.mode,ce),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return ce=ko(ae.type,ae.key,ae.props,null,oe.mode,ce),Xa(ce,ae),ce.return=oe,ce;case P:return ae=$s(ae,oe.mode,ce),ae.return=oe,ae;case le:var we=ae._init;return ae=we(ae._payload),Te(oe,ae,ce)}if(rt(ae)||Ke(ae))return ae=Si(ae,oe.mode,ce,null),ae.return=oe,ae;if(typeof ae.then=="function")return Te(oe,Wo(ae),ce);if(ae.$$typeof===X)return Te(oe,Bo(oe,ae),ce);Zo(oe,ae)}return null}function ge(oe,ae,ce,we){var He=ae!==null?ae.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return He!==null?null:C(oe,ae,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:return ce.key===He?te(oe,ae,ce,we):null;case P:return ce.key===He?fe(oe,ae,ce,we):null;case le:return He=ce._init,ce=He(ce._payload),ge(oe,ae,ce,we)}if(rt(ce)||Ke(ce))return He!==null?null:be(oe,ae,ce,we,null);if(typeof ce.then=="function")return ge(oe,ae,Wo(ce),we);if(ce.$$typeof===X)return ge(oe,ae,Bo(oe,ce),we);Zo(oe,ce)}return null}function pe(oe,ae,ce,we,He){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return oe=oe.get(ce)||null,C(ae,oe,""+we,He);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case R:return oe=oe.get(we.key===null?ce:we.key)||null,te(ae,oe,we,He);case P:return oe=oe.get(we.key===null?ce:we.key)||null,fe(ae,oe,we,He);case le:var it=we._init;return we=it(we._payload),pe(oe,ae,ce,we,He)}if(rt(we)||Ke(we))return oe=oe.get(ce)||null,be(ae,oe,we,He,null);if(typeof we.then=="function")return pe(oe,ae,ce,Wo(we),He);if(we.$$typeof===X)return pe(oe,ae,ce,Bo(ae,we),He);Zo(ae,we)}return null}function Ge(oe,ae,ce,we){for(var He=null,it=null,je=ae,Je=ae=0,sn=null;je!==null&&Je<ce.length;Je++){je.index>Je?(sn=je,je=null):sn=je.sibling;var ft=ge(oe,je,ce[Je],we);if(ft===null){je===null&&(je=sn);break}e&&je&&ft.alternate===null&&t(oe,je),ae=l(ft,ae,Je),it===null?He=ft:it.sibling=ft,it=ft,je=sn}if(Je===ce.length)return n(oe,je),gt&&bi(oe,Je),He;if(je===null){for(;Je<ce.length;Je++)je=Te(oe,ce[Je],we),je!==null&&(ae=l(je,ae,Je),it===null?He=je:it.sibling=je,it=je);return gt&&bi(oe,Je),He}for(je=r(je);Je<ce.length;Je++)sn=pe(je,oe,Je,ce[Je],we),sn!==null&&(e&&sn.alternate!==null&&je.delete(sn.key===null?Je:sn.key),ae=l(sn,ae,Je),it===null?He=sn:it.sibling=sn,it=sn);return e&&je.forEach(function(hi){return t(oe,hi)}),gt&&bi(oe,Je),He}function ze(oe,ae,ce,we){if(ce==null)throw Error(c(151));for(var He=null,it=null,je=ae,Je=ae=0,sn=null,ft=ce.next();je!==null&&!ft.done;Je++,ft=ce.next()){je.index>Je?(sn=je,je=null):sn=je.sibling;var hi=ge(oe,je,ft.value,we);if(hi===null){je===null&&(je=sn);break}e&&je&&hi.alternate===null&&t(oe,je),ae=l(hi,ae,Je),it===null?He=hi:it.sibling=hi,it=hi,je=sn}if(ft.done)return n(oe,je),gt&&bi(oe,Je),He;if(je===null){for(;!ft.done;Je++,ft=ce.next())ft=Te(oe,ft.value,we),ft!==null&&(ae=l(ft,ae,Je),it===null?He=ft:it.sibling=ft,it=ft);return gt&&bi(oe,Je),He}for(je=r(je);!ft.done;Je++,ft=ce.next())ft=pe(je,oe,Je,ft.value,we),ft!==null&&(e&&ft.alternate!==null&&je.delete(ft.key===null?Je:ft.key),ae=l(ft,ae,Je),it===null?He=ft:it.sibling=ft,it=ft);return e&&je.forEach(function(w0){return t(oe,w0)}),gt&&bi(oe,Je),He}function xt(oe,ae,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===k&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case R:e:{for(var He=ce.key;ae!==null;){if(ae.key===He){if(He=ce.type,He===k){if(ae.tag===7){n(oe,ae.sibling),we=s(ae,ce.props.children),we.return=oe,oe=we;break e}}else if(ae.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===le&&Hf(He)===ae.type){n(oe,ae.sibling),we=s(ae,ce.props),Xa(we,ce),we.return=oe,oe=we;break e}n(oe,ae);break}else t(oe,ae);ae=ae.sibling}ce.type===k?(we=Si(ce.props.children,oe.mode,we,ce.key),we.return=oe,oe=we):(we=ko(ce.type,ce.key,ce.props,null,oe.mode,we),Xa(we,ce),we.return=oe,oe=we)}return b(oe);case P:e:{for(He=ce.key;ae!==null;){if(ae.key===He)if(ae.tag===4&&ae.stateNode.containerInfo===ce.containerInfo&&ae.stateNode.implementation===ce.implementation){n(oe,ae.sibling),we=s(ae,ce.children||[]),we.return=oe,oe=we;break e}else{n(oe,ae);break}else t(oe,ae);ae=ae.sibling}we=$s(ce,oe.mode,we),we.return=oe,oe=we}return b(oe);case le:return He=ce._init,ce=He(ce._payload),xt(oe,ae,ce,we)}if(rt(ce))return Ge(oe,ae,ce,we);if(Ke(ce)){if(He=Ke(ce),typeof He!="function")throw Error(c(150));return ce=He.call(ce),ze(oe,ae,ce,we)}if(typeof ce.then=="function")return xt(oe,ae,Wo(ce),we);if(ce.$$typeof===X)return xt(oe,ae,Bo(oe,ce),we);Zo(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ae!==null&&ae.tag===6?(n(oe,ae.sibling),we=s(ae,ce),we.return=oe,oe=we):(n(oe,ae),we=Zs(ce,oe.mode,we),we.return=oe,oe=we),b(oe)):n(oe,ae)}return function(oe,ae,ce,we){try{Ga=0;var He=xt(oe,ae,ce,we);return na=null,He}catch(je){if(je===Pa||je===jo)throw je;var it=On(29,je,null,oe.mode);return it.lanes=we,it.return=oe,it}finally{}}}var ra=Lf(!0),Bf=Lf(!1),Kn=Ee(null),lr=null;function Wr(e){var t=e.alternate;Re(nn,nn.current&1),Re(Kn,e),lr===null&&(t===null||Zi.current!==null||t.memoizedState!==null)&&(lr=e)}function Pf(e){if(e.tag===22){if(Re(nn,nn.current),Re(Kn,e),lr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(lr=e)}}else Zr()}function Zr(){Re(nn,nn.current),Re(Kn,Kn.current)}function Cr(e){Ce(Kn),lr===e&&(lr=null),Ce(nn)}var nn=Ee(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||bl(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ou(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),s=Gr(r);s.payload=t,n!=null&&(s.callback=n),t=Xr(e,s,r),t!==null&&(Ln(t,e,r),Ia(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),s=Gr(r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Xr(e,s,r),t!==null&&(Ln(t,e,r),Ia(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=Gr(n);r.tag=2,t!=null&&(r.callback=t),t=Xr(e,r,n),t!==null&&(Ln(t,e,n),Ia(t,e,n))}};function jf(e,t,n,r,s,l,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,b):t.prototype&&t.prototype.isPureReactComponent?!Ua(n,r)||!Ua(s,l):!0}function If(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function Ri(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var es=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kf(e){es(e)}function qf(e){console.error(e)}function zf(e){es(e)}function ts(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Vf(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ku(e,t,n){return n=Gr(n),n.tag=3,n.payload={element:null},n.callback=function(){ts(e,t)},n}function Jf(e){return e=Gr(e),e.tag=3,e}function Yf(e,t,n,r){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var l=r.value;e.payload=function(){return s(l)},e.callback=function(){Vf(t,n,r)}}var b=n.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Vf(t,n,r),typeof s!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function wp(e,t,n,r,s){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Ha(t,n,s,!0),n=Kn.current,n!==null){switch(n.tag){case 13:return lr===null?il():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===lu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ol(e,r,s)),!1;case 22:return n.flags|=65536,r===lu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ol(e,r,s)),!1}throw Error(c(435,n.tag))}return ol(e,r,s),il(),!1}if(gt)return t=Kn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==nu&&(e=Error(c(422),{cause:r}),Ma(Bn(e,n)))):(r!==nu&&(t=Error(c(423),{cause:r}),Ma(Bn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=Bn(r,n),s=ku(e.stateNode,r,s),hu(e,s),Kt!==4&&(Kt=2)),!1;var l=Error(c(520),{cause:r});if(l=Bn(l,n),no===null?no=[l]:no.push(l),Kt!==4&&(Kt=2),t===null)return!0;r=Bn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=ku(n.stateNode,r,e),hu(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ii===null||!ii.has(l))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Jf(s),Yf(s,e,n,r),hu(n,s),!1}n=n.return}while(n!==null);return!1}var Gf=Error(c(461)),an=!1;function fn(e,t,n,r){t.child=e===null?Bf(t,null,n,r):ra(t,e.child,n,r)}function Xf(e,t,n,r,s){n=n.render;var l=t.ref;if("ref"in r){var b={};for(var C in r)C!=="ref"&&(b[C]=r[C])}else b=r;return Ti(t),r=vu(e,t,n,b,l,s),C=mu(),e!==null&&!an?(Su(e,t,s),Dr(e,t,s)):(gt&&C&&eu(t),t.flags|=1,fn(e,t,r,s),t.child)}function Qf(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Ws(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,Wf(e,t,l,r,s)):(e=ko(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Ku(e,s)){var b=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(b,r)&&e.ref===t.ref)return Dr(e,t,s)}return t.flags|=1,e=wr(l,r),e.ref=t.ref,e.return=t,t.child=e}function Wf(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Ua(l,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=l,Ku(e,s))(e.flags&131072)!==0&&(an=!0);else return t.lanes=e.lanes,Dr(e,t,s)}return Mu(e,t,n,r,s)}function Zf(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=l!==null?l.baseLanes|n:n,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;t.childLanes=l&~r}else t.childLanes=0,t.child=null;return $f(e,t,r,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Po(t,l!==null?l.cachePool:null),l!==null?Qc(t,l):gu(),Pf(t);else return t.lanes=t.childLanes=536870912,$f(e,t,l!==null?l.baseLanes|n:n,n)}else l!==null?(Po(t,l.cachePool),Qc(t,l),Zr(),t.memoizedState=null):(e!==null&&Po(t,null),gu(),Zr());return fn(e,t,s,n),t.child}function $f(e,t,n,r){var s=uu();return s=s===null?null:{parent:tn._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Po(t,null),gu(),Pf(t),e!==null&&Ha(e,t,r,!0),null}function ns(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mu(e,t,n,r,s){return Ti(t),n=vu(e,t,n,r,void 0,s),r=mu(),e!==null&&!an?(Su(e,t,s),Dr(e,t,s)):(gt&&r&&eu(t),t.flags|=1,fn(e,t,n,s),t.child)}function eh(e,t,n,r,s,l){return Ti(t),t.updateQueue=null,n=Zc(t,r,n,s),Wc(e),r=mu(),e!==null&&!an?(Su(e,t,l),Dr(e,t,l)):(gt&&r&&eu(t),t.flags|=1,fn(e,t,n,l),t.child)}function th(e,t,n,r,s){if(Ti(t),t.stateNode===null){var l=Yi,b=n.contextType;typeof b=="object"&&b!==null&&(l=Sn(b)),l=new n(r,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Nu,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=r,l.state=t.memoizedState,l.refs={},cu(t),b=n.contextType,l.context=typeof b=="object"&&b!==null?Sn(b):Yi,l.state=t.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(Ou(t,n,b,r),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(b=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),b!==l.state&&Nu.enqueueReplaceState(l,l.state,null),qa(t,r,l,s),Ka(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){l=t.stateNode;var C=t.memoizedProps,te=Ri(n,C);l.props=te;var fe=l.context,be=n.contextType;b=Yi,typeof be=="object"&&be!==null&&(b=Sn(be));var Te=n.getDerivedStateFromProps;be=typeof Te=="function"||typeof l.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,be||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(C||fe!==b)&&If(t,l,r,b),Yr=!1;var ge=t.memoizedState;l.state=ge,qa(t,r,l,s),Ka(),fe=t.memoizedState,C||ge!==fe||Yr?(typeof Te=="function"&&(Ou(t,n,Te,r),fe=t.memoizedState),(te=Yr||jf(t,n,te,r,ge,fe,b))?(be||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=fe),l.props=r,l.state=fe,l.context=b,r=te):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,fu(e,t),b=t.memoizedProps,be=Ri(n,b),l.props=be,Te=t.pendingProps,ge=l.context,fe=n.contextType,te=Yi,typeof fe=="object"&&fe!==null&&(te=Sn(fe)),C=n.getDerivedStateFromProps,(fe=typeof C=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(b!==Te||ge!==te)&&If(t,l,r,te),Yr=!1,ge=t.memoizedState,l.state=ge,qa(t,r,l,s),Ka();var pe=t.memoizedState;b!==Te||ge!==pe||Yr||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof C=="function"&&(Ou(t,n,C,r),pe=t.memoizedState),(be=Yr||jf(t,n,be,r,ge,pe,te)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(fe||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,pe,te),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,pe,te)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||b===e.memoizedProps&&ge===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&ge===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=pe),l.props=r,l.state=pe,l.context=te,r=be):(typeof l.componentDidUpdate!="function"||b===e.memoizedProps&&ge===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&ge===e.memoizedState||(t.flags|=1024),r=!1)}return l=r,ns(e,t),r=(t.flags&128)!==0,l||r?(l=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&r?(t.child=ra(t,e.child,null,s),t.child=ra(t,null,n,s)):fn(e,t,n,s),t.memoizedState=l.state,e=t.child):e=Dr(e,t,s),e}function nh(e,t,n,r){return ka(),t.flags|=256,fn(e,t,n,r),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(e){return{baseLanes:e,cachePool:Kc()}}function Bu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=qn),e}function rh(e,t,n){var r=t.pendingProps,s=!1,l=(t.flags&128)!==0,b;if((b=l)||(b=e!==null&&e.memoizedState===null?!1:(nn.current&2)!==0),b&&(s=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(gt){if(s?Wr(t):Zr(),gt){var C=It,te;if(te=C){e:{for(te=C,C=ur;te.nodeType!==8;){if(!C){C=null;break e}if(te=tr(te.nextSibling),te===null){C=null;break e}}C=te}C!==null?(t.memoizedState={dehydrated:C,treeContext:_i!==null?{id:Ar,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},te=On(18,null,null,0),te.stateNode=C,te.return=t,t.child=te,wn=t,It=null,te=!0):te=!1}te||wi(t)}if(C=t.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return bl(C)?t.lanes=32:t.lanes=536870912,null;Cr(t)}return C=r.children,r=r.fallback,s?(Zr(),s=t.mode,C=rs({mode:"hidden",children:C},s),r=Si(r,s,n,null),C.return=t,r.return=t,C.sibling=r,t.child=C,s=t.child,s.memoizedState=Lu(n),s.childLanes=Bu(e,b,n),t.memoizedState=Hu,r):(Wr(t),Pu(t,C))}if(te=e.memoizedState,te!==null&&(C=te.dehydrated,C!==null)){if(l)t.flags&256?(Wr(t),t.flags&=-257,t=ju(e,t,n)):t.memoizedState!==null?(Zr(),t.child=e.child,t.flags|=128,t=null):(Zr(),s=r.fallback,C=t.mode,r=rs({mode:"visible",children:r.children},C),s=Si(s,C,n,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,ra(t,e.child,null,n),r=t.child,r.memoizedState=Lu(n),r.childLanes=Bu(e,b,n),t.memoizedState=Hu,t=s);else if(Wr(t),bl(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var fe=b.dgst;b=fe,r=Error(c(419)),r.stack="",r.digest=b,Ma({value:r,source:null,stack:null}),t=ju(e,t,n)}else if(an||Ha(e,t,n,!1),b=(n&e.childLanes)!==0,an||b){if(b=Nt,b!==null&&(r=n&-n,r=(r&42)!==0?1:Hi(r),r=(r&(b.suspendedLanes|n))!==0?0:r,r!==0&&r!==te.retryLane))throw te.retryLane=r,Ji(e,r),Ln(b,e,r),Gf;C.data==="$?"||il(),t=ju(e,t,n)}else C.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=te.treeContext,It=tr(C.nextSibling),wn=t,gt=!0,Ei=null,ur=!1,e!==null&&(jn[In++]=Ar,jn[In++]=Tr,jn[In++]=_i,Ar=e.id,Tr=e.overflow,_i=t),t=Pu(t,r.children),t.flags|=4096);return t}return s?(Zr(),s=r.fallback,C=t.mode,te=e.child,fe=te.sibling,r=wr(te,{mode:"hidden",children:r.children}),r.subtreeFlags=te.subtreeFlags&65011712,fe!==null?s=wr(fe,s):(s=Si(s,C,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,C=e.child.memoizedState,C===null?C=Lu(n):(te=C.cachePool,te!==null?(fe=tn._currentValue,te=te.parent!==fe?{parent:fe,pool:fe}:te):te=Kc(),C={baseLanes:C.baseLanes|n,cachePool:te}),s.memoizedState=C,s.childLanes=Bu(e,b,n),t.memoizedState=Hu,r):(Wr(t),n=e.child,e=n.sibling,n=wr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=n,t.memoizedState=null,n)}function Pu(e,t){return t=rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rs(e,t){return e=On(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ju(e,t,n){return ra(t,e.child,null,n),e=Pu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ih(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),iu(e.return,t,n)}function Iu(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function ah(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(fn(e,t,r.children,n),r=nn.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ih(e,n,t);else if(e.tag===19)ih(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Re(nn,r),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Iu(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$o(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Iu(t,!0,n,null,l);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ha(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ku(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function Ap(e,t,n){switch(t.tag){case 3:$e(t,t.stateNode.containerInfo),Jr(t,tn,e.memoizedState.cache),ka();break;case 27:case 5:Et(t);break;case 4:$e(t,t.stateNode.containerInfo);break;case 10:Jr(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Wr(t),t.flags|=128,null):(n&t.child.childLanes)!==0?rh(e,t,n):(Wr(t),e=Dr(e,t,n),e!==null?e.sibling:null);Wr(t);break;case 19:var s=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Ha(e,t,n,!1),r=(n&t.childLanes)!==0),s){if(r)return ah(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(nn,nn.current),r)break;return null;case 22:case 23:return t.lanes=0,Zf(e,t,n);case 24:Jr(t,tn,e.memoizedState.cache)}return Dr(e,t,n)}function oh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)an=!0;else{if(!Ku(e,n)&&(t.flags&128)===0)return an=!1,Ap(e,t,n);an=(e.flags&131072)!==0}else an=!1,gt&&(t.flags&1048576)!==0&&Mc(t,Ho,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,typeof r=="function")Ws(r)?(e=Ri(r,e),t.tag=1,t=th(null,t,r,e,n)):(t.tag=0,t=Mu(null,t,r,e,n));else{if(r!=null){if(s=r.$$typeof,s===O){t.tag=11,t=Xf(null,t,r,e,n);break e}else if(s===H){t.tag=14,t=Qf(null,t,r,e,n);break e}}throw t=Ct(r)||r,Error(c(306,t,""))}}return t;case 0:return Mu(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,s=Ri(r,t.pendingProps),th(e,t,r,s,n);case 3:e:{if($e(t,t.stateNode.containerInfo),e===null)throw Error(c(387));r=t.pendingProps;var l=t.memoizedState;s=l.element,fu(e,t),qa(t,r,null,n);var b=t.memoizedState;if(r=b.cache,Jr(t,tn,r),r!==l.cache&&au(t,[tn],n,!0),Ka(),r=b.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=nh(e,t,r,n);break e}else if(r!==s){s=Bn(Error(c(424)),t),Ma(s),t=nh(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(It=tr(e.firstChild),wn=t,gt=!0,Ei=null,ur=!0,n=Bf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ka(),r===s){t=Dr(e,t,n);break e}fn(e,t,r,n)}t=t.child}return t;case 26:return ns(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:gt||(n=t.type,e=t.pendingProps,r=vs(Ie.current).createElement(n),r[Xt]=t,r[cn]=e,dn(r,n,e),tt(r),t.stateNode=r):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Et(t),e===null&&gt&&(r=t.stateNode=sd(t.type,t.pendingProps,Ie.current),wn=t,ur=!0,s=It,si(t.type)?(El=s,It=tr(r.firstChild)):It=s),fn(e,t,t.pendingProps.children,n),ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&gt&&((s=r=It)&&(r=Zp(r,t.type,t.pendingProps,ur),r!==null?(t.stateNode=r,wn=t,It=tr(r.firstChild),ur=!1,s=!0):s=!1),s||wi(t)),Et(t),s=t.type,l=t.pendingProps,b=e!==null?e.memoizedProps:null,r=l.children,ml(s,l)?r=null:b!==null&&ml(s,b)&&(t.flags|=32),t.memoizedState!==null&&(s=vu(e,t,yp,null,null,n),fo._currentValue=s),ns(e,t),fn(e,t,r,n),t.child;case 6:return e===null&&gt&&((e=n=It)&&(n=$p(n,t.pendingProps,ur),n!==null?(t.stateNode=n,wn=t,It=null,e=!0):e=!1),e||wi(t)),null;case 13:return rh(e,t,n);case 4:return $e(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ra(t,null,r,n):fn(e,t,r,n),t.child;case 11:return Xf(e,t,t.type,t.pendingProps,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Jr(t,t.type,r.value),fn(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ti(t),s=Sn(s),r=r(s),t.flags|=1,fn(e,t,r,n),t.child;case 14:return Qf(e,t,t.type,t.pendingProps,n);case 15:return Wf(e,t,t.type,t.pendingProps,n);case 19:return ah(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=rs(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=wr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Zf(e,t,n);case 24:return Ti(t),r=Sn(tn),e===null?(s=uu(),s===null&&(s=Nt,l=ou(),s.pooledCache=l,l.refCount++,l!==null&&(s.pooledCacheLanes|=n),s=l),t.memoizedState={parent:r,cache:s},cu(t),Jr(t,tn,s)):((e.lanes&n)!==0&&(fu(e,t),qa(t,null,null,n),Ka()),s=e.memoizedState,l=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Jr(t,tn,r)):(r=l.cache,Jr(t,tn,r),r!==s.cache&&au(t,[tn],n,!0))),fn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ur(e){e.flags|=4}function sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pd(t)){if(t=Kn.current,t!==null&&((ut&4194048)===ut?lr!==null:(ut&62914560)!==ut&&(ut&536870912)===0||t!==lr))throw ja=lu,qc;e.flags|=8192}}function is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jt():536870912,e.lanes|=t,sa|=t)}function Qa(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tp(e,t,n){var r=t.pendingProps;switch(tu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return Bt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fr(tn),Ft(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?Ur(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bc())),Bt(t),null;case 26:return n=t.memoizedState,e===null?(Ur(t),n!==null?(Bt(t),sh(t,n)):(Bt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ur(t),Bt(t),sh(t,n)):(Bt(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ur(t),Bt(t),t.flags&=-16777217),null;case 27:ne(t),n=Ie.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(c(166));return Bt(t),null}e=Me.current,Na(t)?Hc(t):(e=sd(s,r,n),t.stateNode=e,Ur(t))}return Bt(t),null;case 5:if(ne(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(c(166));return Bt(t),null}if(e=Me.current,Na(t))Hc(t);else{switch(s=vs(Ie.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Xt]=t,e[cn]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(dn(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ur(t)}}return Bt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(c(166));if(e=Ie.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,s=wn,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||ed(e.nodeValue,n)),e||wi(t)}else e=vs(e).createTextNode(r),e[Xt]=t,t.stateNode=e}return Bt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Na(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(c(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(c(317));s[Xt]=t}else ka(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else s=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Cr(t),t):(Cr(t),null)}if(Cr(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool);var l=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),is(t,t.updateQueue),Bt(t),null;case 4:return Ft(),e===null&&dl(t.stateNode.containerInfo),Bt(t),null;case 10:return Fr(t.type),Bt(t),null;case 19:if(Ce(nn),s=t.memoizedState,s===null)return Bt(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Qa(s,!1);else{if(Kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=$o(e),l!==null){for(t.flags|=128,Qa(s,!1),e=l.updateQueue,t.updateQueue=e,is(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)kc(n,e),n=n.sibling;return Re(nn,nn.current&1|2),t.child}e=e.sibling}s.tail!==null&&ve()>ss&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304)}else{if(!r)if(e=$o(l),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,is(t,e),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!gt)return Bt(t),null}else 2*ve()-s.renderingStartTime>ss&&n!==536870912&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(e=s.last,e!==null?e.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ve(),t.sibling=null,e=nn.current,Re(nn,r?e&1|2:e&1),t):(Bt(t),null);case 22:case 23:return Cr(t),pu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),n=t.updateQueue,n!==null&&is(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ce(xi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fr(tn),Bt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function xp(e,t){switch(tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fr(tn),Ft(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Cr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(nn),null;case 4:return Ft(),null;case 10:return Fr(t.type),null;case 22:case 23:return Cr(t),pu(),e!==null&&Ce(xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fr(tn),null;case 25:return null;default:return null}}function uh(e,t){switch(tu(t),t.tag){case 3:Fr(tn),Ft();break;case 26:case 27:case 5:ne(t);break;case 4:Ft();break;case 13:Cr(t);break;case 19:Ce(nn);break;case 10:Fr(t.type);break;case 22:case 23:Cr(t),pu(),e!==null&&Ce(xi);break;case 24:Fr(tn)}}function Wa(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var l=n.create,b=n.inst;r=l(),b.destroy=r}n=n.next}while(n!==s)}}catch(C){Rt(t,t.return,C)}}function $r(e,t,n){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var l=s.next;r=l;do{if((r.tag&e)===e){var b=r.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,s=t;var te=n,fe=C;try{fe()}catch(be){Rt(s,te,be)}}}r=r.next}while(r!==l)}}catch(be){Rt(t,t.return,be)}}function lh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xc(t,n)}catch(r){Rt(e,e.return,r)}}}function ch(e,t,n){n.props=Ri(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Rt(e,t,r)}}function Za(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(s){Rt(e,t,s)}}function cr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(s){Rt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Rt(e,t,s)}else n.current=null}function fh(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Rt(e,e.return,s)}}function qu(e,t,n){try{var r=e.stateNode;Yp(r,e.type,n,t),r[cn]=t}catch(s){Rt(e,e.return,s)}}function hh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ys));else if(r!==4&&(r===27&&si(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function as(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&si(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(as(e,t,n),e=e.sibling;e!==null;)as(e,t,n),e=e.sibling}function dh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);dn(t,r,n),t[Xt]=e,t[cn]=n}catch(l){Rt(e,e.return,l)}}var Or=!1,Gt=!1,Ju=!1,gh=typeof WeakSet=="function"?WeakSet:Set,on=null;function Fp(e,t){if(e=e.containerInfo,yl=ws,e=Ac(e),zs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var b=0,C=-1,te=-1,fe=0,be=0,Te=e,ge=null;t:for(;;){for(var pe;Te!==n||s!==0&&Te.nodeType!==3||(C=b+s),Te!==l||r!==0&&Te.nodeType!==3||(te=b+r),Te.nodeType===3&&(b+=Te.nodeValue.length),(pe=Te.firstChild)!==null;)ge=Te,Te=pe;for(;;){if(Te===e)break t;if(ge===n&&++fe===s&&(C=b),ge===l&&++be===r&&(te=b),(pe=Te.nextSibling)!==null)break;Te=ge,ge=Te.parentNode}Te=pe}n=C===-1||te===-1?null:{start:C,end:te}}else n=null}n=n||{start:0,end:0}}else n=null;for(vl={focusedElem:e,selectionRange:n},ws=!1,on=t;on!==null;)if(t=on,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,on=e;else for(;on!==null;){switch(t=on,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&l!==null){e=void 0,n=t,s=l.memoizedProps,l=l.memoizedState,r=n.stateNode;try{var Ge=Ri(n.type,s,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(Ge,l),r.__reactInternalSnapshotBeforeUpdate=e}catch(ze){Rt(n,n.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_l(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_l(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,on=e;break}on=t.return}}function ph(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n),r&4&&Wa(5,n);break;case 1:if(ei(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(b){Rt(n,n.return,b)}else{var s=Ri(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Rt(n,n.return,b)}}r&64&&lh(n),r&512&&Za(n,n.return);break;case 3:if(ei(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xc(e,t)}catch(b){Rt(n,n.return,b)}}break;case 27:t===null&&r&4&&dh(n);case 26:case 5:ei(e,n),t===null&&r&4&&fh(n),r&512&&Za(n,n.return);break;case 12:ei(e,n);break;case 13:ei(e,n),r&4&&mh(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Hp.bind(null,n),e0(e,n))));break;case 22:if(r=n.memoizedState!==null||Or,!r){t=t!==null&&t.memoizedState!==null||Gt,s=Or;var l=Gt;Or=r,(Gt=t)&&!l?ti(e,n,(n.subtreeFlags&8772)!==0):ei(e,n),Or=s,Gt=l}break;case 30:break;default:ei(e,n)}}function yh(e){var t=e.alternate;t!==null&&(e.alternate=null,yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,Tn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)vh(e,t,n),n=n.sibling}function vh(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(vt,n)}catch{}switch(n.tag){case 26:Gt||cr(n,t),Nr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||cr(n,t);var r=Mt,s=Tn;si(n.type)&&(Mt=n.stateNode,Tn=!1),Nr(e,t,n),so(n.stateNode),Mt=r,Tn=s;break;case 5:Gt||cr(n,t);case 6:if(r=Mt,s=Tn,Mt=null,Nr(e,t,n),Mt=r,Tn=s,Mt!==null)if(Tn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(l){Rt(n,t,l)}else try{Mt.removeChild(n.stateNode)}catch(l){Rt(n,t,l)}break;case 18:Mt!==null&&(Tn?(e=Mt,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),yo(e)):ad(Mt,n.stateNode));break;case 4:r=Mt,s=Tn,Mt=n.stateNode.containerInfo,Tn=!0,Nr(e,t,n),Mt=r,Tn=s;break;case 0:case 11:case 14:case 15:Gt||$r(2,n,t),Gt||$r(4,n,t),Nr(e,t,n);break;case 1:Gt||(cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ch(n,t,r)),Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:Gt=(r=Gt)||n.memoizedState!==null,Nr(e,t,n),Gt=r;break;default:Nr(e,t,n)}}function mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yo(e)}catch(n){Rt(t,t.return,n)}}function Rp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gh),t;default:throw Error(c(435,e.tag))}}function Yu(e,t){var n=Rp(e);t.forEach(function(r){var s=Lp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r],l=e,b=t,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(si(C.type)){Mt=C.stateNode,Tn=!1;break e}break;case 5:Mt=C.stateNode,Tn=!1;break e;case 3:case 4:Mt=C.stateNode.containerInfo,Tn=!0;break e}C=C.return}if(Mt===null)throw Error(c(160));vh(l,b,s),Mt=null,Tn=!1,l=s.alternate,l!==null&&(l.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}var er=null;function Sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(t,e),kn(e),r&4&&($r(3,e,e.return),Wa(3,e),$r(5,e,e.return));break;case 1:Nn(t,e),kn(e),r&512&&(Gt||n===null||cr(n,n.return)),r&64&&Or&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var s=er;if(Nn(t,e),kn(e),r&512&&(Gt||n===null||cr(n,n.return)),r&4){var l=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":l=s.getElementsByTagName("title")[0],(!l||l[Pr]||l[Xt]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=s.createElement(r),s.head.insertBefore(l,s.querySelector("head > title"))),dn(l,r,n),l[Xt]=e,tt(l),r=l;break e;case"link":var b=dd("link","href",s).get(r+(n.href||""));if(b){for(var C=0;C<b.length;C++)if(l=b[C],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){b.splice(C,1);break t}}l=s.createElement(r),dn(l,r,n),s.head.appendChild(l);break;case"meta":if(b=dd("meta","content",s).get(r+(n.content||""))){for(C=0;C<b.length;C++)if(l=b[C],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){b.splice(C,1);break t}}l=s.createElement(r),dn(l,r,n),s.head.appendChild(l);break;default:throw Error(c(468,r))}l[Xt]=e,tt(l),r=l}e.stateNode=r}else gd(s,e.type,e.stateNode);else e.stateNode=hd(s,r,e.memoizedProps);else l!==r?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,r===null?gd(s,e.type,e.stateNode):hd(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&qu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nn(t,e),kn(e),r&512&&(Gt||n===null||cr(n,n.return)),n!==null&&r&4&&qu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nn(t,e),kn(e),r&512&&(Gt||n===null||cr(n,n.return)),e.flags&32){s=e.stateNode;try{q(s,"")}catch(pe){Rt(e,e.return,pe)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,qu(e,s,n!==null?n.memoizedProps:s)),r&1024&&(Ju=!0);break;case 6:if(Nn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(c(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(pe){Rt(e,e.return,pe)}}break;case 3:if(_s=null,s=er,er=ms(t.containerInfo),Nn(t,e),er=s,kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(t.containerInfo)}catch(pe){Rt(e,e.return,pe)}Ju&&(Ju=!1,_h(e));break;case 4:r=er,er=ms(e.stateNode.containerInfo),Nn(t,e),kn(e),er=r;break;case 12:Nn(t,e),kn(e);break;case 13:Nn(t,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&($u=ve()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yu(e,r)));break;case 22:s=e.memoizedState!==null;var te=n!==null&&n.memoizedState!==null,fe=Or,be=Gt;if(Or=fe||s,Gt=be||te,Nn(t,e),Gt=be,Or=fe,kn(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||te||Or||Gt||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){te=n=t;try{if(l=te.stateNode,s)b=l.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=te.stateNode;var Te=te.memoizedProps.style,ge=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;C.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(pe){Rt(te,te.return,pe)}}}else if(t.tag===6){if(n===null){te=t;try{te.stateNode.nodeValue=s?"":te.memoizedProps}catch(pe){Rt(te,te.return,pe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Yu(e,n))));break;case 19:Nn(t,e),kn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yu(e,r)));break;case 30:break;case 21:break;default:Nn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(hh(r)){n=r;break}r=r.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var s=n.stateNode,l=zu(e);as(e,l,s);break;case 5:var b=n.stateNode;n.flags&32&&(q(b,""),n.flags&=-33);var C=zu(e);as(e,C,b);break;case 3:case 4:var te=n.stateNode.containerInfo,fe=zu(e);Vu(e,fe,te);break;default:throw Error(c(161))}}catch(be){Rt(e,e.return,be)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _h(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_h(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ei(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ph(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$r(4,t,t.return),Ci(t);break;case 1:cr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ch(t,t.return,n),Ci(t);break;case 27:so(t.stateNode);case 26:case 5:cr(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function ti(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,l=t,b=l.flags;switch(l.tag){case 0:case 11:case 15:ti(s,l,n),Wa(4,l);break;case 1:if(ti(s,l,n),r=l,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(fe){Rt(r,r.return,fe)}if(r=l,s=r.updateQueue,s!==null){var C=r.stateNode;try{var te=s.shared.hiddenCallbacks;if(te!==null)for(s.shared.hiddenCallbacks=null,s=0;s<te.length;s++)Gc(te[s],C)}catch(fe){Rt(r,r.return,fe)}}n&&b&64&&lh(l),Za(l,l.return);break;case 27:dh(l);case 26:case 5:ti(s,l,n),n&&r===null&&b&4&&fh(l),Za(l,l.return);break;case 12:ti(s,l,n);break;case 13:ti(s,l,n),n&&b&4&&mh(s,l);break;case 22:l.memoizedState===null&&ti(s,l,n),Za(l,l.return);break;case 30:break;default:ti(s,l,n)}t=t.sibling}}function Gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&La(n))}function Xu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&La(e))}function fr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bh(e,t,n,r),t=t.sibling}function bh(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:fr(e,t,n,r),s&2048&&Wa(9,t);break;case 1:fr(e,t,n,r);break;case 3:fr(e,t,n,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&La(e)));break;case 12:if(s&2048){fr(e,t,n,r),e=t.stateNode;try{var l=t.memoizedProps,b=l.id,C=l.onPostCommit;typeof C=="function"&&C(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(te){Rt(t,t.return,te)}}else fr(e,t,n,r);break;case 13:fr(e,t,n,r);break;case 23:break;case 22:l=t.stateNode,b=t.alternate,t.memoizedState!==null?l._visibility&2?fr(e,t,n,r):$a(e,t):l._visibility&2?fr(e,t,n,r):(l._visibility|=2,ia(e,t,n,r,(t.subtreeFlags&10256)!==0)),s&2048&&Gu(b,t);break;case 24:fr(e,t,n,r),s&2048&&Xu(t.alternate,t);break;default:fr(e,t,n,r)}}function ia(e,t,n,r,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,b=t,C=n,te=r,fe=b.flags;switch(b.tag){case 0:case 11:case 15:ia(l,b,C,te,s),Wa(8,b);break;case 23:break;case 22:var be=b.stateNode;b.memoizedState!==null?be._visibility&2?ia(l,b,C,te,s):$a(l,b):(be._visibility|=2,ia(l,b,C,te,s)),s&&fe&2048&&Gu(b.alternate,b);break;case 24:ia(l,b,C,te,s),s&&fe&2048&&Xu(b.alternate,b);break;default:ia(l,b,C,te,s)}t=t.sibling}}function $a(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:$a(n,r),s&2048&&Gu(r.alternate,r);break;case 24:$a(n,r),s&2048&&Xu(r.alternate,r);break;default:$a(n,r)}t=t.sibling}}var eo=8192;function aa(e){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)Eh(e),e=e.sibling}function Eh(e){switch(e.tag){case 26:aa(e),e.flags&eo&&e.memoizedState!==null&&d0(er,e.memoizedState,e.memoizedProps);break;case 5:aa(e);break;case 3:case 4:var t=er;er=ms(e.stateNode.containerInfo),aa(e),er=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=eo,eo=16777216,aa(e),eo=t):aa(e));break;default:aa(e)}}function wh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function to(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];on=r,Th(r,e)}wh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ah(e),e=e.sibling}function Ah(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&$r(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,os(e)):to(e);break;default:to(e)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];on=r,Th(r,e)}wh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$r(8,t,t.return),os(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,os(t));break;default:os(t)}e=e.sibling}}function Th(e,t){for(;on!==null;){var n=on;switch(n.tag){case 0:case 11:case 15:$r(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:La(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,on=r;else e:for(n=e;on!==null;){r=on;var s=r.sibling,l=r.return;if(yh(r),r===n){on=null;break e}if(s!==null){s.return=l,on=s;break e}on=l}}}var Cp={getCacheForType:function(e){var t=Sn(tn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Dp=typeof WeakMap=="function"?WeakMap:Map,_t=0,Nt=null,ot=null,ut=0,bt=0,Mn=null,ni=!1,oa=!1,Qu=!1,kr=0,Kt=0,ri=0,Di=0,Wu=0,qn=0,sa=0,no=null,xn=null,Zu=!1,$u=0,ss=1/0,us=null,ii=null,hn=0,ai=null,ua=null,la=0,el=0,tl=null,xh=null,ro=0,nl=null;function Hn(){if((_t&2)!==0&&ut!==0)return ut&-ut;if(Se.T!==null){var e=Qi;return e!==0?e:ll()}return wa()}function Fh(){qn===0&&(qn=(ut&536870912)===0||gt?Lr():536870912);var e=Kn.current;return e!==null&&(e.flags|=32),qn}function Ln(e,t,n){(e===Nt&&(bt===2||bt===9)||e.cancelPendingCommit!==null)&&(ca(e,0),oi(e,ut,qn,!1)),yr(e,n),((_t&2)===0||e!==Nt)&&(e===Nt&&((_t&2)===0&&(Di|=n),Kt===4&&oi(e,ut,qn,!1)),hr(e))}function Rh(e,t,n){if((_t&6)!==0)throw Error(c(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||bn(e,t),s=r?Np(e,t):al(e,t,!0),l=r;do{if(s===0){oa&&!r&&oi(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!Up(n)){s=al(e,t,!1),l=!1;continue}if(s===2){if(l=t,e.errorRecoveryDisabledLanes&l)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var C=e;s=no;var te=C.current.memoizedState.isDehydrated;if(te&&(ca(C,b).flags|=256),b=al(C,b,!1),b!==2){if(Qu&&!te){C.errorRecoveryDisabledLanes|=l,Di|=l,s=4;break e}l=xn,xn=s,l!==null&&(xn===null?xn=l:xn.push.apply(xn,l))}s=b}if(l=!1,s!==2)continue}}if(s===1){ca(e,0),oi(e,t,0,!0);break}e:{switch(r=e,l=s,l){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:oi(r,t,qn,!ni);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(s=$u+300-ve(),10<s)){if(oi(r,t,qn,!ni),pr(r,0,!0)!==0)break e;r.timeoutHandle=rd(Ch.bind(null,r,n,xn,us,Zu,t,qn,Di,sa,ni,l,2,-0,0),s);break e}Ch(r,n,xn,us,Zu,t,qn,Di,sa,ni,l,0,-0,0)}}break}while(!0);hr(e)}function Ch(e,t,n,r,s,l,b,C,te,fe,be,Te,ge,pe){if(e.timeoutHandle=-1,Te=t.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(co={stylesheets:null,count:0,unsuspend:h0},Eh(t),Te=g0(),Te!==null)){e.cancelPendingCommit=Te(Hh.bind(null,e,t,l,n,r,s,b,C,te,be,1,ge,pe)),oi(e,l,b,!fe);return}Hh(e,t,l,n,r,s,b,C,te)}function Up(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Un(l(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,n,r){t&=~Wu,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var l=31-yn(s),b=1<<l;r[l]=-1,s&=~b}n!==0&&En(e,n,t)}function ls(){return(_t&6)===0?(io(0),!1):!0}function rl(){if(ot!==null){if(bt===0)var e=ot.return;else e=ot,xr=Ai=null,_u(e),na=null,Ga=0,e=ot;for(;e!==null;)uh(e.alternate,e),e=e.return;ot=null}}function ca(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),rl(),Nt=e,ot=n=wr(e.current,null),ut=t,bt=0,Mn=null,ni=!1,oa=bn(e,t),Qu=!1,sa=qn=Wu=Di=ri=Kt=0,xn=no=null,Zu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-yn(r),l=1<<s;t|=e[s],r&=~l}return kr=t,Uo(),n}function Dh(e,t){nt=null,Se.H=Qo,t===Pa||t===jo?(t=Jc(),bt=3):t===qc?(t=Jc(),bt=4):bt=t===Gf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,ot===null&&(Kt=1,ts(e,Bn(t,e.current)))}function Uh(){var e=Se.H;return Se.H=Qo,e===null?Qo:e}function Oh(){var e=Se.A;return Se.A=Cp,e}function il(){Kt=4,ni||(ut&4194048)!==ut&&Kn.current!==null||(oa=!0),(ri&134217727)===0&&(Di&134217727)===0||Nt===null||oi(Nt,ut,qn,!1)}function al(e,t,n){var r=_t;_t|=2;var s=Uh(),l=Oh();(Nt!==e||ut!==t)&&(us=null,ca(e,t)),t=!1;var b=Kt;e:do try{if(bt!==0&&ot!==null){var C=ot,te=Mn;switch(bt){case 8:rl(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(t=!0);var fe=bt;if(bt=0,Mn=null,fa(e,C,te,fe),n&&oa){b=0;break e}break;default:fe=bt,bt=0,Mn=null,fa(e,C,te,fe)}}Op(),b=Kt;break}catch(be){Dh(e,be)}while(!0);return t&&e.shellSuspendCounter++,xr=Ai=null,_t=r,Se.H=s,Se.A=l,ot===null&&(Nt=null,ut=0,Uo()),b}function Op(){for(;ot!==null;)Nh(ot)}function Np(e,t){var n=_t;_t|=2;var r=Uh(),s=Oh();Nt!==e||ut!==t?(us=null,ss=ve()+500,ca(e,t)):oa=bn(e,t);e:do try{if(bt!==0&&ot!==null){t=ot;var l=Mn;t:switch(bt){case 1:bt=0,Mn=null,fa(e,t,l,1);break;case 2:case 9:if(zc(l)){bt=0,Mn=null,kh(t);break}t=function(){bt!==2&&bt!==9||Nt!==e||(bt=7),hr(e)},l.then(t,t);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:zc(l)?(bt=0,Mn=null,kh(t)):(bt=0,Mn=null,fa(e,t,l,7));break;case 5:var b=null;switch(ot.tag){case 26:b=ot.memoizedState;case 5:case 27:var C=ot;if(!b||pd(b)){bt=0,Mn=null;var te=C.sibling;if(te!==null)ot=te;else{var fe=C.return;fe!==null?(ot=fe,cs(fe)):ot=null}break t}}bt=0,Mn=null,fa(e,t,l,5);break;case 6:bt=0,Mn=null,fa(e,t,l,6);break;case 8:rl(),Kt=6;break e;default:throw Error(c(462))}}kp();break}catch(be){Dh(e,be)}while(!0);return xr=Ai=null,Se.H=r,Se.A=s,_t=n,ot!==null?0:(Nt=null,ut=0,Uo(),Kt)}function kp(){for(;ot!==null&&!re();)Nh(ot)}function Nh(e){var t=oh(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?cs(e):ot=t}function kh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=eh(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=eh(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:_u(t);default:uh(n,t),t=ot=kc(t,kr),t=oh(n,t,kr)}e.memoizedProps=e.pendingProps,t===null?cs(e):ot=t}function fa(e,t,n,r){xr=Ai=null,_u(t),na=null,Ga=0;var s=t.return;try{if(wp(e,s,t,n,ut)){Kt=1,ts(e,Bn(n,e.current)),ot=null;return}}catch(l){if(s!==null)throw ot=s,l;Kt=1,ts(e,Bn(n,e.current)),ot=null;return}t.flags&32768?(gt||r===1?e=!0:oa||(ut&536870912)!==0?e=!1:(ni=e=!0,(r===2||r===9||r===3||r===6)&&(r=Kn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Mh(t,e)):cs(t)}function cs(e){var t=e;do{if((t.flags&32768)!==0){Mh(t,ni);return}e=t.return;var n=Tp(t.alternate,t,kr);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Kt===0&&(Kt=5)}function Mh(e,t){do{var n=xp(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);Kt=6,ot=null}function Hh(e,t,n,r,s,l,b,C,te){e.cancelPendingCommit=null;do fs();while(hn!==0);if((_t&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(l=t.lanes|t.childLanes,l|=Xs,zt(e,n,l,b,C,te),e===Nt&&(ot=Nt=null,ut=0),ua=t,ai=e,la=n,el=l,tl=s,xh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bp(et,function(){return Ih(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Se.T,Se.T=null,s=Fe.p,Fe.p=2,b=_t,_t|=4;try{Fp(e,t,n)}finally{_t=b,Fe.p=s,Se.T=r}}hn=1,Lh(),Bh(),Ph()}}function Lh(){if(hn===1){hn=0;var e=ai,t=ua,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Se.T,Se.T=null;var r=Fe.p;Fe.p=2;var s=_t;_t|=4;try{Sh(t,e);var l=vl,b=Ac(e.containerInfo),C=l.focusedElem,te=l.selectionRange;if(b!==C&&C&&C.ownerDocument&&wc(C.ownerDocument.documentElement,C)){if(te!==null&&zs(C)){var fe=te.start,be=te.end;if(be===void 0&&(be=fe),"selectionStart"in C)C.selectionStart=fe,C.selectionEnd=Math.min(be,C.value.length);else{var Te=C.ownerDocument||document,ge=Te&&Te.defaultView||window;if(ge.getSelection){var pe=ge.getSelection(),Ge=C.textContent.length,ze=Math.min(te.start,Ge),xt=te.end===void 0?ze:Math.min(te.end,Ge);!pe.extend&&ze>xt&&(b=xt,xt=ze,ze=b);var oe=Ec(C,ze),ae=Ec(C,xt);if(oe&&ae&&(pe.rangeCount!==1||pe.anchorNode!==oe.node||pe.anchorOffset!==oe.offset||pe.focusNode!==ae.node||pe.focusOffset!==ae.offset)){var ce=Te.createRange();ce.setStart(oe.node,oe.offset),pe.removeAllRanges(),ze>xt?(pe.addRange(ce),pe.extend(ae.node,ae.offset)):(ce.setEnd(ae.node,ae.offset),pe.addRange(ce))}}}}for(Te=[],pe=C;pe=pe.parentNode;)pe.nodeType===1&&Te.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Te.length;C++){var we=Te[C];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}ws=!!yl,vl=yl=null}finally{_t=s,Fe.p=r,Se.T=n}}e.current=t,hn=2}}function Bh(){if(hn===2){hn=0;var e=ai,t=ua,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Se.T,Se.T=null;var r=Fe.p;Fe.p=2;var s=_t;_t|=4;try{ph(e,t.alternate,t)}finally{_t=s,Fe.p=r,Se.T=n}}hn=3}}function Ph(){if(hn===4||hn===3){hn=0,he();var e=ai,t=ua,n=la,r=xh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,ua=ai=null,jh(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ii=null),Li(n),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(vt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Se.T,s=Fe.p,Fe.p=2,Se.T=null;try{for(var l=e.onRecoverableError,b=0;b<r.length;b++){var C=r[b];l(C.value,{componentStack:C.stack})}}finally{Se.T=t,Fe.p=s}}(la&3)!==0&&fs(),hr(e),s=e.pendingLanes,(n&4194090)!==0&&(s&42)!==0?e===nl?ro++:(ro=0,nl=e):ro=0,io(0)}}function jh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,La(t)))}function fs(e){return Lh(),Bh(),Ph(),Ih()}function Ih(){if(hn!==5)return!1;var e=ai,t=el;el=0;var n=Li(la),r=Se.T,s=Fe.p;try{Fe.p=32>n?32:n,Se.T=null,n=tl,tl=null;var l=ai,b=la;if(hn=0,ua=ai=null,la=0,(_t&6)!==0)throw Error(c(331));var C=_t;if(_t|=4,Ah(l.current),bh(l,l.current,b,n),_t=C,io(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(vt,l)}catch{}return!0}finally{Fe.p=s,Se.T=r,jh(e,t)}}function Kh(e,t,n){t=Bn(n,t),t=ku(e.stateNode,t,2),e=Xr(e,t,2),e!==null&&(yr(e,2),hr(e))}function Rt(e,t,n){if(e.tag===3)Kh(e,e,n);else for(;t!==null;){if(t.tag===3){Kh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=Bn(n,e),n=Jf(2),r=Xr(t,n,2),r!==null&&(Yf(n,r,t,e),yr(r,2),hr(r));break}}t=t.return}}function ol(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(Qu=!0,s.add(n),e=Mp.bind(null,e,t,n),t.then(e,e))}function Mp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Nt===e&&(ut&n)===n&&(Kt===4||Kt===3&&(ut&62914560)===ut&&300>ve()-$u?(_t&2)===0&&ca(e,0):Wu|=n,sa===ut&&(sa=0)),hr(e)}function qh(e,t){t===0&&(t=jt()),e=Ji(e,t),e!==null&&(yr(e,t),hr(e))}function Hp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qh(e,n)}function Lp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(c(314))}r!==null&&r.delete(t),qh(e,n)}function Bp(e,t){return w(e,t)}var hs=null,ha=null,sl=!1,ds=!1,ul=!1,Ui=0;function hr(e){e!==ha&&e.next===null&&(ha===null?hs=ha=e:ha=ha.next=e),ds=!0,sl||(sl=!0,jp())}function io(e,t){if(!ul&&ds){ul=!0;do for(var n=!1,r=hs;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var l=0;else{var b=r.suspendedLanes,C=r.pingedLanes;l=(1<<31-yn(42|e)+1)-1,l&=s&~(b&~C),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,Yh(r,l))}else l=ut,l=pr(r,r===Nt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(l&3)===0||bn(r,l)||(n=!0,Yh(r,l));r=r.next}while(n);ul=!1}}function Pp(){zh()}function zh(){ds=sl=!1;var e=0;Ui!==0&&(Gp()&&(e=Ui),Ui=0);for(var t=ve(),n=null,r=hs;r!==null;){var s=r.next,l=Vh(r,t);l===0?(r.next=null,n===null?hs=s:n.next=s,s===null&&(ha=n)):(n=r,(e!==0||(l&3)!==0)&&(ds=!0)),r=s}io(e)}function Vh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var b=31-yn(l),C=1<<b,te=s[b];te===-1?((C&n)===0||(C&r)!==0)&&(s[b]=Mi(C,t)):te<=t&&(e.expiredLanes|=C),l&=~C}if(t=Nt,n=ut,n=pr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(bt===2||bt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Q(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||bn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Q(r),Li(n)){case 2:case 8:n=lt;break;case 32:n=et;break;case 268435456:n=ln;break;default:n=et}return r=Jh.bind(null,e),n=w(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Q(r),e.callbackPriority=2,e.callbackNode=null,2}function Jh(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var r=ut;return r=pr(e,e===Nt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Rh(e,r,t),Vh(e,ve()),e.callbackNode!=null&&e.callbackNode===n?Jh.bind(null,e):null)}function Yh(e,t){if(fs())return null;Rh(e,t,!0)}function jp(){Qp(function(){(_t&6)!==0?w(Ye,Pp):zh()})}function ll(){return Ui===0&&(Ui=Lr()),Ui}function Gh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qe(""+e)}function Xh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ip(e,t,n,r,s){if(t==="submit"&&n&&n.stateNode===s){var l=Gh((s[cn]||null).action),b=r.submitter;b&&(t=(t=b[cn]||null)?Gh(t.formAction):b.getAttribute("formAction"),t!==null&&(l=t,b=null));var C=new Sr("action","action",null,r,s);e.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ui!==0){var te=b?Xh(s,b):new FormData(s);Cu(n,{pending:!0,data:te,method:s.method,action:l},null,te)}}else typeof l=="function"&&(C.preventDefault(),te=b?Xh(s,b):new FormData(s),Cu(n,{pending:!0,data:te,method:s.method,action:l},l,te))},currentTarget:s}]})}}for(var cl=0;cl<Gs.length;cl++){var fl=Gs[cl],Kp=fl.toLowerCase(),qp=fl[0].toUpperCase()+fl.slice(1);$n(Kp,"on"+qp)}$n(Fc,"onAnimationEnd"),$n(Rc,"onAnimationIteration"),$n(Cc,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(op,"onTransitionRun"),$n(sp,"onTransitionStart"),$n(up,"onTransitionCancel"),$n(Dc,"onTransitionEnd"),Dt("onMouseEnter",["mouseout","mouseover"]),Dt("onMouseLeave",["mouseout","mouseover"]),Dt("onPointerEnter",["pointerout","pointerover"]),Dt("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function Qh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var b=r.length-1;0<=b;b--){var C=r[b],te=C.instance,fe=C.currentTarget;if(C=C.listener,te!==l&&s.isPropagationStopped())break e;l=C,s.currentTarget=fe;try{l(s)}catch(be){es(be)}s.currentTarget=null,l=te}else for(b=0;b<r.length;b++){if(C=r[b],te=C.instance,fe=C.currentTarget,C=C.listener,te!==l&&s.isPropagationStopped())break e;l=C,s.currentTarget=fe;try{l(s)}catch(be){es(be)}s.currentTarget=null,l=te}}}}function st(e,t){var n=t[Br];n===void 0&&(n=t[Br]=new Set);var r=e+"__bubble";n.has(r)||(Wh(t,e,2,!1),n.add(r))}function hl(e,t,n){var r=0;t&&(r|=4),Wh(n,e,r,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function dl(e){if(!e[gs]){e[gs]=!0,Aa.forEach(function(n){n!=="selectionchange"&&(zp.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,hl("selectionchange",!1,t))}}function Wh(e,t,n,r){switch(bd(t)){case 2:var s=v0;break;case 8:s=m0;break;default:s=Fl}n=s.bind(null,t,n,e),s=void 0,!Ht||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gl(e,t,n,r,s){var l=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var C=r.stateNode.containerInfo;if(C===s)break;if(b===4)for(b=r.return;b!==null;){var te=b.tag;if((te===3||te===4)&&b.stateNode.containerInfo===s)return;b=b.return}for(;C!==null;){if(b=vr(C),b===null)return;if(te=b.tag,te===5||te===6||te===26||te===27){r=l=b;continue e}C=C.parentNode}}r=r.return}en(function(){var fe=l,be=Be(n),Te=[];e:{var ge=Uc.get(e);if(ge!==void 0){var pe=Sr,Ge=e;switch(e){case"keypress":if(Gn(n)===0)break e;case"keydown":case"keyup":pe=Bg;break;case"focusin":Ge="focus",pe=sr;break;case"focusout":Ge="blur",pe=sr;break;case"beforeblur":case"afterblur":pe=sr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Ig;break;case Fc:case Rc:case Cc:pe=Fa;break;case Dc:pe=qg;break;case"scroll":case"scrollend":pe=Ii;break;case"wheel":pe=Vg;break;case"copy":case"cut":case"paste":pe=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=uc;break;case"toggle":case"beforetoggle":pe=Yg}var ze=(t&4)!==0,xt=!ze&&(e==="scroll"||e==="scrollend"),oe=ze?ge!==null?ge+"Capture":null:ge;ze=[];for(var ae=fe,ce;ae!==null;){var we=ae;if(ce=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ce===null||oe===null||(we=Vt(ae,oe),we!=null&&ze.push(oo(ae,we,ce))),xt)break;ae=ae.return}0<ze.length&&(ge=new pe(ge,Ge,null,n,be),Te.push({event:ge,listeners:ze}))}}if((t&7)===0){e:{if(ge=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",ge&&n!==Ue&&(Ge=n.relatedTarget||n.fromElement)&&(vr(Ge)||Ge[Vn]))break e;if((pe||ge)&&(ge=be.window===be?be:(ge=be.ownerDocument)?ge.defaultView||ge.parentWindow:window,pe?(Ge=n.relatedTarget||n.toElement,pe=fe,Ge=Ge?vr(Ge):null,Ge!==null&&(xt=A(Ge),ze=Ge.tag,Ge!==xt||ze!==5&&ze!==27&&ze!==6)&&(Ge=null)):(pe=null,Ge=fe),pe!==Ge)){if(ze=or,we="onMouseLeave",oe="onMouseEnter",ae="mouse",(e==="pointerout"||e==="pointerover")&&(ze=uc,we="onPointerLeave",oe="onPointerEnter",ae="pointer"),xt=pe==null?ge:Ir(pe),ce=Ge==null?ge:Ir(Ge),ge=new ze(we,ae+"leave",pe,n,be),ge.target=xt,ge.relatedTarget=ce,we=null,vr(be)===fe&&(ze=new ze(oe,ae+"enter",Ge,n,be),ze.target=ce,ze.relatedTarget=xt,we=ze),xt=we,pe&&Ge)t:{for(ze=pe,oe=Ge,ae=0,ce=ze;ce;ce=da(ce))ae++;for(ce=0,we=oe;we;we=da(we))ce++;for(;0<ae-ce;)ze=da(ze),ae--;for(;0<ce-ae;)oe=da(oe),ce--;for(;ae--;){if(ze===oe||oe!==null&&ze===oe.alternate)break t;ze=da(ze),oe=da(oe)}ze=null}else ze=null;pe!==null&&Zh(Te,ge,pe,ze,!1),Ge!==null&&xt!==null&&Zh(Te,xt,Ge,ze,!0)}}e:{if(ge=fe?Ir(fe):window,pe=ge.nodeName&&ge.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ge.type==="file")var He=yc;else if(gc(ge))if(vc)He=rp;else{He=tp;var it=ep}else pe=ge.nodeName,!pe||pe.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?fe&&me(fe.elementType)&&(He=yc):He=np;if(He&&(He=He(e,fe))){pc(Te,He,n,be);break e}it&&it(e,ge,fe),e==="focusout"&&fe&&ge.type==="number"&&fe.memoizedProps.value!=null&&se(ge,"number",ge.value)}switch(it=fe?Ir(fe):window,e){case"focusin":(gc(it)||it.contentEditable==="true")&&(qi=it,Vs=fe,Oa=null);break;case"focusout":Oa=Vs=qi=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,Tc(Te,n,be);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":Tc(Te,n,be)}var je;if(Is)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ki?hc(e,n)&&(Je="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Je="onCompositionStart");Je&&(lc&&n.locale!=="ko"&&(Ki||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ki&&(je=qr()):(kt=be,mr="value"in kt?kt.value:kt.textContent,Ki=!0)),it=ps(fe,Je),0<it.length&&(Je=new Ro(Je,e,null,n,be),Te.push({event:Je,listeners:it}),je?Je.data=je:(je=dc(n),je!==null&&(Je.data=je)))),(je=Xg?Qg(e,n):Wg(e,n))&&(Je=ps(fe,"onBeforeInput"),0<Je.length&&(it=new Ro("onBeforeInput","beforeinput",null,n,be),Te.push({event:it,listeners:Je}),it.data=je)),Ip(Te,e,fe,n,be)}Qh(Te,t)})}function oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||l===null||(s=Vt(e,n),s!=null&&r.unshift(oo(e,s,l)),s=Vt(e,t),s!=null&&r.push(oo(e,s,l))),e.tag===3)return r;e=e.return}return[]}function da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zh(e,t,n,r,s){for(var l=t._reactName,b=[];n!==null&&n!==r;){var C=n,te=C.alternate,fe=C.stateNode;if(C=C.tag,te!==null&&te===r)break;C!==5&&C!==26&&C!==27||fe===null||(te=fe,s?(fe=Vt(n,l),fe!=null&&b.unshift(oo(n,fe,te))):s||(fe=Vt(n,l),fe!=null&&b.push(oo(n,fe,te)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var Vp=/\r\n?/g,Jp=/\u0000|\uFFFD/g;function $h(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(Jp,"")}function ed(e,t){return t=$h(t),$h(e)===t}function ys(){}function Tt(e,t,n,r,s,l){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||q(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&q(e,""+r);break;case"className":ji(e,"class",r);break;case"tabIndex":ji(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,n,r);break;case"style":ue(e,r,l);break;case"data":if(t!=="object"){ji(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Qe(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&Tt(e,t,"name",s.name,s,null),Tt(e,t,"formEncType",s.formEncType,s,null),Tt(e,t,"formMethod",s.formMethod,s,null),Tt(e,t,"formTarget",s.formTarget,s,null)):(Tt(e,t,"encType",s.encType,s,null),Tt(e,t,"method",s.method,s,null),Tt(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Qe(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=ys);break;case"onScroll":r!=null&&st("scroll",e);break;case"onScrollEnd":r!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Qe(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":st("beforetoggle",e),st("toggle",e),Pi(e,"popover",r);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Pi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Oe.get(n)||n,Pi(e,n,r))}}function pl(e,t,n,r,s,l){switch(n){case"style":ue(e,r,l);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(n=r.__html,n!=null){if(s.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof r=="string"?q(e,r):(typeof r=="number"||typeof r=="bigint")&&q(e,""+r);break;case"onScroll":r!=null&&st("scroll",e);break;case"onScrollEnd":r!=null&&st("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),l=e[cn]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,s),typeof r=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Pi(e,n,r)}}}function dn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var r=!1,s=!1,l;for(l in n)if(n.hasOwnProperty(l)){var b=n[l];if(b!=null)switch(l){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Tt(e,t,l,b,n,null)}}s&&Tt(e,t,"srcSet",n.srcSet,n,null),r&&Tt(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var C=l=b=s=null,te=null,fe=null;for(r in n)if(n.hasOwnProperty(r)){var be=n[r];if(be!=null)switch(r){case"name":s=be;break;case"type":b=be;break;case"checked":te=be;break;case"defaultChecked":fe=be;break;case"value":l=be;break;case"defaultValue":C=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(c(137,t));break;default:Tt(e,t,r,be,n,null)}}ie(e,l,C,te,fe,b,s,!1),B(e);return;case"select":st("invalid",e),r=b=l=null;for(s in n)if(n.hasOwnProperty(s)&&(C=n[s],C!=null))switch(s){case"value":l=C;break;case"defaultValue":b=C;break;case"multiple":r=C;default:Tt(e,t,s,C,n,null)}t=l,n=b,e.multiple=!!r,t!=null?de(e,!!r,t,!1):n!=null&&de(e,!!r,n,!0);return;case"textarea":st("invalid",e),l=s=r=null;for(b in n)if(n.hasOwnProperty(b)&&(C=n[b],C!=null))switch(b){case"value":r=C;break;case"defaultValue":s=C;break;case"children":l=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(c(91));break;default:Tt(e,t,b,C,n,null)}x(e,r,s,l),B(e);return;case"option":for(te in n)if(n.hasOwnProperty(te)&&(r=n[te],r!=null))switch(te){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Tt(e,t,te,r,n,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(r=0;r<ao.length;r++)st(ao[r],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in n)if(n.hasOwnProperty(fe)&&(r=n[fe],r!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Tt(e,t,fe,r,n,null)}return;default:if(me(t)){for(be in n)n.hasOwnProperty(be)&&(r=n[be],r!==void 0&&pl(e,t,be,r,n,void 0));return}}for(C in n)n.hasOwnProperty(C)&&(r=n[C],r!=null&&Tt(e,t,C,r,n,null))}function Yp(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,b=null,C=null,te=null,fe=null,be=null;for(pe in n){var Te=n[pe];if(n.hasOwnProperty(pe)&&Te!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":te=Te;default:r.hasOwnProperty(pe)||Tt(e,t,pe,null,r,Te)}}for(var ge in r){var pe=r[ge];if(Te=n[ge],r.hasOwnProperty(ge)&&(pe!=null||Te!=null))switch(ge){case"type":l=pe;break;case"name":s=pe;break;case"checked":fe=pe;break;case"defaultChecked":be=pe;break;case"value":b=pe;break;case"defaultValue":C=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(c(137,t));break;default:pe!==Te&&Tt(e,t,ge,pe,r,Te)}}Z(e,b,C,te,fe,be,l,s);return;case"select":pe=b=C=ge=null;for(l in n)if(te=n[l],n.hasOwnProperty(l)&&te!=null)switch(l){case"value":break;case"multiple":pe=te;default:r.hasOwnProperty(l)||Tt(e,t,l,null,r,te)}for(s in r)if(l=r[s],te=n[s],r.hasOwnProperty(s)&&(l!=null||te!=null))switch(s){case"value":ge=l;break;case"defaultValue":C=l;break;case"multiple":b=l;default:l!==te&&Tt(e,t,s,l,r,te)}t=C,n=b,r=pe,ge!=null?de(e,!!n,ge,!1):!!r!=!!n&&(t!=null?de(e,!!n,t,!0):de(e,!!n,n?[]:"",!1));return;case"textarea":pe=ge=null;for(C in n)if(s=n[C],n.hasOwnProperty(C)&&s!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Tt(e,t,C,null,r,s)}for(b in r)if(s=r[b],l=n[b],r.hasOwnProperty(b)&&(s!=null||l!=null))switch(b){case"value":ge=s;break;case"defaultValue":pe=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(c(91));break;default:s!==l&&Tt(e,t,b,s,r,l)}ye(e,ge,pe);return;case"option":for(var Ge in n)if(ge=n[Ge],n.hasOwnProperty(Ge)&&ge!=null&&!r.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:Tt(e,t,Ge,null,r,ge)}for(te in r)if(ge=r[te],pe=n[te],r.hasOwnProperty(te)&&ge!==pe&&(ge!=null||pe!=null))switch(te){case"selected":e.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Tt(e,t,te,ge,r,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in n)ge=n[ze],n.hasOwnProperty(ze)&&ge!=null&&!r.hasOwnProperty(ze)&&Tt(e,t,ze,null,r,ge);for(fe in r)if(ge=r[fe],pe=n[fe],r.hasOwnProperty(fe)&&ge!==pe&&(ge!=null||pe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(c(137,t));break;default:Tt(e,t,fe,ge,r,pe)}return;default:if(me(t)){for(var xt in n)ge=n[xt],n.hasOwnProperty(xt)&&ge!==void 0&&!r.hasOwnProperty(xt)&&pl(e,t,xt,void 0,r,ge);for(be in r)ge=r[be],pe=n[be],!r.hasOwnProperty(be)||ge===pe||ge===void 0&&pe===void 0||pl(e,t,be,ge,r,pe);return}}for(var oe in n)ge=n[oe],n.hasOwnProperty(oe)&&ge!=null&&!r.hasOwnProperty(oe)&&Tt(e,t,oe,null,r,ge);for(Te in r)ge=r[Te],pe=n[Te],!r.hasOwnProperty(Te)||ge===pe||ge==null&&pe==null||Tt(e,t,Te,ge,r,pe)}var yl=null,vl=null;function vs(e){return e.nodeType===9?e:e.ownerDocument}function td(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sl=null;function Gp(){var e=window.event;return e&&e.type==="popstate"?e===Sl?!1:(Sl=e,!0):(Sl=null,!1)}var rd=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,id=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof id<"u"?function(e){return id.resolve(null).then(e).catch(Wp)}:rd;function Wp(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function ad(e,t){var n=t,r=0,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(0<r&&8>r){n=r;var b=e.ownerDocument;if(n&1&&so(b.documentElement),n&2&&so(b.body),n&4)for(n=b.head,so(n),b=n.firstChild;b;){var C=b.nextSibling,te=b.nodeName;b[Pr]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&b.rel.toLowerCase()==="stylesheet"||n.removeChild(b),b=C}}if(s===0){e.removeChild(l),yo(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:r=n.charCodeAt(0)-48;else r=0;n=l}while(n);yo(t)}function _l(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_l(n),jr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Zp(e,t,n,r){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=tr(e.nextSibling),e===null)break}return null}function $p(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tr(e.nextSibling),e===null))return null;return e}function bl(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var El=null;function od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=vs(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function so(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jr(e)}var zn=new Map,ud=new Set;function ms(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mr=Fe.d;Fe.d={f:t0,r:n0,D:r0,C:i0,L:a0,m:o0,X:u0,S:s0,M:l0};function t0(){var e=Mr.f(),t=ls();return e||t}function n0(e){var t=ir(e);t!==null&&t.tag===5&&t.type==="form"?Rf(t):Mr.r(e)}var ga=typeof document>"u"?null:document;function ld(e,t,n){var r=ga;if(r&&typeof t=="string"&&t){var s=z(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),ud.has(s)||(ud.add(s),e={rel:e,crossOrigin:n,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),dn(t,"link",e),tt(t),r.head.appendChild(t)))}}function r0(e){Mr.D(e),ld("dns-prefetch",e,null)}function i0(e,t){Mr.C(e,t),ld("preconnect",e,t)}function a0(e,t,n){Mr.L(e,t,n);var r=ga;if(r&&e&&t){var s='link[rel="preload"][as="'+z(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+z(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+z(n.imageSizes)+'"]')):s+='[href="'+z(e)+'"]';var l=s;switch(t){case"style":l=pa(e);break;case"script":l=ya(e)}zn.has(l)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),zn.set(l,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(uo(l))||t==="script"&&r.querySelector(lo(l))||(t=r.createElement("link"),dn(t,"link",e),tt(t),r.head.appendChild(t)))}}function o0(e,t){Mr.m(e,t);var n=ga;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+z(r)+'"][href="'+z(e)+'"]',l=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=ya(e)}if(!zn.has(l)&&(e=y({rel:"modulepreload",href:e},t),zn.set(l,e),n.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lo(l)))return}r=n.createElement("link"),dn(r,"link",e),tt(r),n.head.appendChild(r)}}}function s0(e,t,n){Mr.S(e,t,n);var r=ga;if(r&&e){var s=St(r).hoistableStyles,l=pa(e);t=t||"default";var b=s.get(l);if(!b){var C={loading:0,preload:null};if(b=r.querySelector(uo(l)))C.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zn.get(l))&&wl(e,n);var te=b=r.createElement("link");tt(te),dn(te,"link",e),te._p=new Promise(function(fe,be){te.onload=fe,te.onerror=be}),te.addEventListener("load",function(){C.loading|=1}),te.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ss(b,t,r)}b={type:"stylesheet",instance:b,count:1,state:C},s.set(l,b)}}}function u0(e,t){Mr.X(e,t);var n=ga;if(n&&e){var r=St(n).hoistableScripts,s=ya(e),l=r.get(s);l||(l=n.querySelector(lo(s)),l||(e=y({src:e,async:!0},t),(t=zn.get(s))&&Al(e,t),l=n.createElement("script"),tt(l),dn(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(s,l))}}function l0(e,t){Mr.M(e,t);var n=ga;if(n&&e){var r=St(n).hoistableScripts,s=ya(e),l=r.get(s);l||(l=n.querySelector(lo(s)),l||(e=y({src:e,async:!0,type:"module"},t),(t=zn.get(s))&&Al(e,t),l=n.createElement("script"),tt(l),dn(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(s,l))}}function cd(e,t,n,r){var s=(s=Ie.current)?ms(s):null;if(!s)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=pa(n.href),n=St(s).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pa(n.href);var l=St(s).hoistableStyles,b=l.get(e);if(b||(s=s.ownerDocument||s,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,b),(l=s.querySelector(uo(e)))&&!l._p&&(b.instance=l,b.state.loading=5),zn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zn.set(e,n),l||c0(s,e,n,b.state))),t&&r===null)throw Error(c(528,""));return b}if(t&&r!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ya(n),n=St(s).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function pa(e){return'href="'+z(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),dn(t,"link",n),tt(t),e.head.appendChild(t))}function ya(e){return'[src="'+z(e)+'"]'}function lo(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+z(n.href)+'"]');if(r)return t.instance=r,tt(r),r;var s=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),tt(r),dn(r,"style",s),Ss(r,n.precedence,e),t.instance=r;case"stylesheet":s=pa(n.href);var l=e.querySelector(uo(s));if(l)return t.state.loading|=4,t.instance=l,tt(l),l;r=fd(n),(s=zn.get(s))&&wl(r,s),l=(e.ownerDocument||e).createElement("link"),tt(l);var b=l;return b._p=new Promise(function(C,te){b.onload=C,b.onerror=te}),dn(l,"link",r),t.state.loading|=4,Ss(l,n.precedence,e),t.instance=l;case"script":return l=ya(n.src),(s=e.querySelector(lo(l)))?(t.instance=s,tt(s),s):(r=n,(s=zn.get(l))&&(r=y({},n),Al(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),tt(s),dn(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Ss(r,n.precedence,e));return t.instance}function Ss(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,l=s,b=0;b<r.length;b++){var C=r[b];if(C.dataset.precedence===t)l=C;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function wl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Al(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _s=null;function dd(e,t,n){if(_s===null){var r=new Map,s=_s=new Map;s.set(n,r)}else s=_s,r=s.get(n),r||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var l=n[s];if(!(l[Pr]||l[Xt]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var b=l.getAttribute(t)||"";b=e+b;var C=r.get(b);C?C.push(l):r.set(b,[l])}}return r}function gd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function f0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var co=null;function h0(){}function d0(e,t,n){if(co===null)throw Error(c(475));var r=co;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=pa(n.href),l=e.querySelector(uo(s));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=bs.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=l,tt(l);return}l=e.ownerDocument||e,n=fd(n),(s=zn.get(s))&&wl(n,s),l=l.createElement("link"),tt(l);var b=l;b._p=new Promise(function(C,te){b.onload=C,b.onerror=te}),dn(l,"link",n),t.instance=l}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=bs.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function g0(){if(co===null)throw Error(c(475));var e=co;return e.stylesheets&&e.count===0&&Tl(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Tl(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function bs(){if(this.count--,this.count===0){if(this.stylesheets)Tl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Es=null;function Tl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Es=new Map,t.forEach(p0,e),Es=null,bs.call(e))}function p0(e,t){if(!(t.state.loading&4)){var n=Es.get(e);if(n)var r=n.get(null);else{n=new Map,Es.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var b=s[l];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(n.set(b.dataset.precedence,b),r=b)}r&&n.set(null,r)}s=t.instance,b=s.getAttribute("data-precedence"),l=n.get(b)||r,l===r&&n.set(null,s),n.set(b,s),this.count++,r=bs.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),l?l.parentNode.insertBefore(s,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var fo={$$typeof:X,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function y0(e,t,n,r,s,l,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.hiddenUpdates=mt(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function yd(e,t,n,r,s,l,b,C,te,fe,be,Te){return e=new y0(e,t,n,b,C,te,fe,Te),t=1,l===!0&&(t|=24),l=On(3,null,null,t),e.current=l,l.stateNode=e,t=ou(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:r,isDehydrated:n,cache:t},cu(l),e}function vd(e){return e?(e=Yi,e):Yi}function md(e,t,n,r,s,l){s=vd(s),r.context===null?r.context=s:r.pendingContext=s,r=Gr(t),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=Xr(e,r,t),n!==null&&(Ln(n,e,t),Ia(n,e,t))}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xl(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function _d(e){if(e.tag===13){var t=Ji(e,67108864);t!==null&&Ln(t,e,67108864),xl(e,67108864)}}var ws=!0;function v0(e,t,n,r){var s=Se.T;Se.T=null;var l=Fe.p;try{Fe.p=2,Fl(e,t,n,r)}finally{Fe.p=l,Se.T=s}}function m0(e,t,n,r){var s=Se.T;Se.T=null;var l=Fe.p;try{Fe.p=8,Fl(e,t,n,r)}finally{Fe.p=l,Se.T=s}}function Fl(e,t,n,r){if(ws){var s=Rl(r);if(s===null)gl(e,t,r,As,n),Ed(e,r);else if(_0(s,e,t,n,r))r.stopPropagation();else if(Ed(e,r),t&4&&-1<S0.indexOf(e)){for(;s!==null;){var l=ir(s);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var b=rr(l.pendingLanes);if(b!==0){var C=l;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var te=1<<31-yn(b);C.entanglements[1]|=te,b&=~te}hr(l),(_t&6)===0&&(ss=ve()+500,io(0))}}break;case 13:C=Ji(l,2),C!==null&&Ln(C,l,2),ls(),xl(l,2)}if(l=Rl(r),l===null&&gl(e,t,r,As,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else gl(e,t,r,null,n)}}function Rl(e){return e=Be(e),Cl(e)}var As=null;function Cl(e){if(As=null,e=vr(e),e!==null){var t=A(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return As=e,null}function bd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Ye:return 2;case lt:return 8;case et:case yt:return 32;case ln:return 268435456;default:return 32}default:return 32}}var Dl=!1,ui=null,li=null,ci=null,ho=new Map,go=new Map,fi=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function po(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=ir(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _0(e,t,n,r,s){switch(t){case"focusin":return ui=po(ui,e,t,n,r,s),!0;case"dragenter":return li=po(li,e,t,n,r,s),!0;case"mouseover":return ci=po(ci,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return ho.set(l,po(ho.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,go.set(l,po(go.get(l)||null,e,t,n,r,s)),!0}return!1}function wd(e){var t=vr(e.target);if(t!==null){var n=A(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,vn(e.priority,function(){if(n.tag===13){var r=Hn();r=Hi(r);var s=Ji(n,r);s!==null&&Ln(s,n,r),xl(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rl(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ue=r,n.target.dispatchEvent(r),Ue=null}else return t=ir(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function Ad(e,t,n){Ts(e)&&n.delete(t)}function b0(){Dl=!1,ui!==null&&Ts(ui)&&(ui=null),li!==null&&Ts(li)&&(li=null),ci!==null&&Ts(ci)&&(ci=null),ho.forEach(Ad),go.forEach(Ad)}function xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Dl||(Dl=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,b0)))}var Fs=null;function Td(e){Fs!==e&&(Fs=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Fs===e&&(Fs=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(Cl(r||n)===null)continue;break}var l=ir(n);l!==null&&(e.splice(t,3),t-=3,Cu(l,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function yo(e){function t(te){return xs(te,e)}ui!==null&&xs(ui,e),li!==null&&xs(li,e),ci!==null&&xs(ci,e),ho.forEach(t),go.forEach(t);for(var n=0;n<fi.length;n++){var r=fi[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&fi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],b=s[cn]||null;if(typeof l=="function")b||Td(n);else if(b){var C=null;if(l&&l.hasAttribute("formAction")){if(s=l,b=l[cn]||null)C=b.formAction;else if(Cl(s)!==null)continue}else C=b.action;typeof C=="function"?n[r+1]=C:(n.splice(r,3),r-=3),Td(n)}}}function Ul(e){this._internalRoot=e}Rs.prototype.render=Ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,r=Hn();md(n,r,e,t,null,null)},Rs.prototype.unmount=Ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),ls(),t[Vn]=null}};function Rs(e){this._internalRoot=e}Rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=wa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&wd(e)}};var xd=f.version;if(xd!=="19.1.0")throw Error(c(527,xd,"19.1.0"));Fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=T(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var E0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{vt=Cs.inject(E0),qe=Cs}catch{}}return mo.createRoot=function(e,t){if(!m(e))throw Error(c(299));var n=!1,r="",s=Kf,l=qf,b=zf,C=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(C=t.unstable_transitionCallbacks)),t=yd(e,1,!1,null,null,n,r,s,l,b,C,null),e[Vn]=t.current,dl(e),new Ul(t)},mo.hydrateRoot=function(e,t,n){if(!m(e))throw Error(c(299));var r=!1,s="",l=Kf,b=qf,C=zf,te=null,fe=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(te=n.unstable_transitionCallbacks),n.formState!==void 0&&(fe=n.formState)),t=yd(e,1,!0,t,n??null,r,s,l,b,C,te,fe),t.context=vd(null),n=t.current,r=Hn(),r=Hi(r),s=Gr(r),s.callback=null,Xr(n,s,r),n=r,t.current.lanes=n,yr(t,n),hr(t),e[Vn]=t.current,dl(e),new Rs(t)},mo.version="19.1.0",mo}var Hd;function M0(){if(Hd)return kl.exports;Hd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(f){console.error(f)}}return h(),kl.exports=k0(),kl.exports}var H0=M0();const ba=crypto,tc=h=>h instanceof CryptoKey,gr=new TextEncoder,_a=new TextDecoder;function $d(...h){const f=h.reduce((m,{length:A})=>m+A,0),p=new Uint8Array(f);let c=0;for(const m of h)p.set(m,c),c+=m.length;return p}const L0=h=>{let f=h;typeof f=="string"&&(f=gr.encode(f));const p=32768,c=[];for(let m=0;m<f.length;m+=p)c.push(String.fromCharCode.apply(null,f.subarray(m,m+p)));return btoa(c.join(""))},Os=h=>L0(h).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),B0=h=>{const f=atob(h),p=new Uint8Array(f.length);for(let c=0;c<f.length;c++)p[c]=f.charCodeAt(c);return p},Ni=h=>{let f=h;f instanceof Uint8Array&&(f=_a.decode(f)),f=f.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return B0(f)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class pn extends Error{constructor(f,p){var c;super(f,p),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(c=Error.captureStackTrace)==null||c.call(Error,this,this.constructor)}}pn.code="ERR_JOSE_GENERIC";class nr extends pn{constructor(f,p,c="unspecified",m="unspecified"){super(f,{cause:{claim:c,reason:m,payload:p}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=c,this.reason=m,this.payload=p}}nr.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class Vl extends pn{constructor(f,p,c="unspecified",m="unspecified"){super(f,{cause:{claim:c,reason:m,payload:p}}),this.code="ERR_JWT_EXPIRED",this.claim=c,this.reason=m,this.payload=p}}Vl.code="ERR_JWT_EXPIRED";class eg extends pn{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}eg.code="ERR_JOSE_ALG_NOT_ALLOWED";class Fn extends pn{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Fn.code="ERR_JOSE_NOT_SUPPORTED";class P0 extends pn{constructor(f="decryption operation failed",p){super(f,p),this.code="ERR_JWE_DECRYPTION_FAILED"}}P0.code="ERR_JWE_DECRYPTION_FAILED";class j0 extends pn{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}j0.code="ERR_JWE_INVALID";class Pt extends pn{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Pt.code="ERR_JWS_INVALID";class Hs extends pn{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Hs.code="ERR_JWT_INVALID";class I0 extends pn{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}I0.code="ERR_JWK_INVALID";class nc extends pn{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}nc.code="ERR_JWKS_INVALID";class rc extends pn{constructor(f="no applicable key found in the JSON Web Key Set",p){super(f,p),this.code="ERR_JWKS_NO_MATCHING_KEY"}}rc.code="ERR_JWKS_NO_MATCHING_KEY";class tg extends pn{constructor(f="multiple matching keys found in the JSON Web Key Set",p){super(f,p),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}tg.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class ng extends pn{constructor(f="request timed out",p){super(f,p),this.code="ERR_JWKS_TIMEOUT"}}ng.code="ERR_JWKS_TIMEOUT";class rg extends pn{constructor(f="signature verification failed",p){super(f,p),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}rg.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function dr(h,f="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${f} must be ${h}`)}function So(h,f){return h.name===f}function Bl(h){return parseInt(h.name.slice(4),10)}function K0(h){switch(h){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function q0(h,f){if(f.length&&!f.some(p=>h.usages.includes(p))){let p="CryptoKey does not support this operation, its usages must include ";if(f.length>2){const c=f.pop();p+=`one of ${f.join(", ")}, or ${c}.`}else f.length===2?p+=`one of ${f[0]} or ${f[1]}.`:p+=`${f[0]}.`;throw new TypeError(p)}}function z0(h,f,...p){switch(f){case"HS256":case"HS384":case"HS512":{if(!So(h.algorithm,"HMAC"))throw dr("HMAC");const c=parseInt(f.slice(2),10);if(Bl(h.algorithm.hash)!==c)throw dr(`SHA-${c}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!So(h.algorithm,"RSASSA-PKCS1-v1_5"))throw dr("RSASSA-PKCS1-v1_5");const c=parseInt(f.slice(2),10);if(Bl(h.algorithm.hash)!==c)throw dr(`SHA-${c}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!So(h.algorithm,"RSA-PSS"))throw dr("RSA-PSS");const c=parseInt(f.slice(2),10);if(Bl(h.algorithm.hash)!==c)throw dr(`SHA-${c}`,"algorithm.hash");break}case"EdDSA":{if(h.algorithm.name!=="Ed25519"&&h.algorithm.name!=="Ed448")throw dr("Ed25519 or Ed448");break}case"Ed25519":{if(!So(h.algorithm,"Ed25519"))throw dr("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!So(h.algorithm,"ECDSA"))throw dr("ECDSA");const c=K0(f);if(h.algorithm.namedCurve!==c)throw dr(c,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}q0(h,p)}function ig(h,f,...p){var c;if(p=p.filter(Boolean),p.length>2){const m=p.pop();h+=`one of type ${p.join(", ")}, or ${m}.`}else p.length===2?h+=`one of type ${p[0]} or ${p[1]}.`:h+=`of type ${p[0]}.`;return f==null?h+=` Received ${f}`:typeof f=="function"&&f.name?h+=` Received function ${f.name}`:typeof f=="object"&&f!=null&&(c=f.constructor)!=null&&c.name&&(h+=` Received an instance of ${f.constructor.name}`),h}const Jl=(h,...f)=>ig("Key must be ",h,...f);function ag(h,f,...p){return ig(`Key for the ${h} algorithm must be `,f,...p)}const og=h=>tc(h)?!0:(h==null?void 0:h[Symbol.toStringTag])==="KeyObject",Eo=["CryptoKey"],sg=(...h)=>{const f=h.filter(Boolean);if(f.length===0||f.length===1)return!0;let p;for(const c of f){const m=Object.keys(c);if(!p||p.size===0){p=new Set(m);continue}for(const A of m){if(p.has(A))return!1;p.add(A)}}return!0};function V0(h){return typeof h=="object"&&h!==null}function Hr(h){if(!V0(h)||Object.prototype.toString.call(h)!=="[object Object]")return!1;if(Object.getPrototypeOf(h)===null)return!0;let f=h;for(;Object.getPrototypeOf(f)!==null;)f=Object.getPrototypeOf(f);return Object.getPrototypeOf(h)===f}const ug=(h,f)=>{if(h.startsWith("RS")||h.startsWith("PS")){const{modulusLength:p}=f.algorithm;if(typeof p!="number"||p<2048)throw new TypeError(`${h} requires key modulusLength to be 2048 bits or larger`)}};function Ea(h){return Hr(h)&&typeof h.kty=="string"}function J0(h){return h.kty!=="oct"&&typeof h.d=="string"}function Y0(h){return h.kty!=="oct"&&typeof h.d>"u"}function G0(h){return Ea(h)&&h.kty==="oct"&&typeof h.k=="string"}function X0(h){let f,p;switch(h.kty){case"RSA":{switch(h.alg){case"PS256":case"PS384":case"PS512":f={name:"RSA-PSS",hash:`SHA-${h.alg.slice(-3)}`},p=h.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":f={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${h.alg.slice(-3)}`},p=h.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":f={name:"RSA-OAEP",hash:`SHA-${parseInt(h.alg.slice(-3),10)||1}`},p=h.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Fn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(h.alg){case"ES256":f={name:"ECDSA",namedCurve:"P-256"},p=h.d?["sign"]:["verify"];break;case"ES384":f={name:"ECDSA",namedCurve:"P-384"},p=h.d?["sign"]:["verify"];break;case"ES512":f={name:"ECDSA",namedCurve:"P-521"},p=h.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":f={name:"ECDH",namedCurve:h.crv},p=h.d?["deriveBits"]:[];break;default:throw new Fn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(h.alg){case"Ed25519":f={name:"Ed25519"},p=h.d?["sign"]:["verify"];break;case"EdDSA":f={name:h.crv},p=h.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":f={name:h.crv},p=h.d?["deriveBits"]:[];break;default:throw new Fn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Fn('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:f,keyUsages:p}}const lg=async h=>{if(!h.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:f,keyUsages:p}=X0(h),c=[f,h.ext??!1,h.key_ops??p],m={...h};return delete m.alg,delete m.use,ba.subtle.importKey("jwk",m,...c)},cg=h=>Ni(h);let va,ma;const fg=h=>(h==null?void 0:h[Symbol.toStringTag])==="KeyObject",ks=async(h,f,p,c,m=!1)=>{let A=h.get(f);if(A!=null&&A[c])return A[c];const S=await lg({...p,alg:c});return m&&Object.freeze(f),A?A[c]=S:h.set(f,{[c]:S}),S},Q0=(h,f)=>{if(fg(h)){let p=h.export({format:"jwk"});return delete p.d,delete p.dp,delete p.dq,delete p.p,delete p.q,delete p.qi,p.k?cg(p.k):(ma||(ma=new WeakMap),ks(ma,h,p,f))}return Ea(h)?h.k?Ni(h.k):(ma||(ma=new WeakMap),ks(ma,h,h,f,!0)):h},W0=(h,f)=>{if(fg(h)){let p=h.export({format:"jwk"});return p.k?cg(p.k):(va||(va=new WeakMap),ks(va,h,p,f))}return Ea(h)?h.k?Ni(h.k):(va||(va=new WeakMap),ks(va,h,h,f,!0)):h},Ld={normalizePublicKey:Q0,normalizePrivateKey:W0};async function hg(h,f){if(!Hr(h))throw new TypeError("JWK must be an object");switch(f||(f=h.alg),h.kty){case"oct":if(typeof h.k!="string"||!h.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Ni(h.k);case"RSA":if("oth"in h&&h.oth!==void 0)throw new Fn('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return lg({...h,alg:f});default:throw new Fn('Unsupported "kty" (Key Type) Parameter value')}}const Sa=h=>h==null?void 0:h[Symbol.toStringTag],Yl=(h,f,p)=>{var c,m;if(f.use!==void 0&&f.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(f.key_ops!==void 0&&((m=(c=f.key_ops).includes)==null?void 0:m.call(c,p))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${p}`);if(f.alg!==void 0&&f.alg!==h)throw new TypeError(`Invalid key for this operation, when present its alg must be ${h}`);return!0},Z0=(h,f,p,c)=>{if(!(f instanceof Uint8Array)){if(c&&Ea(f)){if(G0(f)&&Yl(h,f,p))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!og(f))throw new TypeError(ag(h,f,...Eo,"Uint8Array",c?"JSON Web Key":null));if(f.type!=="secret")throw new TypeError(`${Sa(f)} instances for symmetric algorithms must be of type "secret"`)}},$0=(h,f,p,c)=>{if(c&&Ea(f))switch(p){case"sign":if(J0(f)&&Yl(h,f,p))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(Y0(f)&&Yl(h,f,p))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!og(f))throw new TypeError(ag(h,f,...Eo,c?"JSON Web Key":null));if(f.type==="secret")throw new TypeError(`${Sa(f)} instances for asymmetric algorithms must not be of type "secret"`);if(p==="sign"&&f.type==="public")throw new TypeError(`${Sa(f)} instances for asymmetric algorithm signing must be of type "private"`);if(p==="decrypt"&&f.type==="public")throw new TypeError(`${Sa(f)} instances for asymmetric algorithm decryption must be of type "private"`);if(f.algorithm&&p==="verify"&&f.type==="private")throw new TypeError(`${Sa(f)} instances for asymmetric algorithm verifying must be of type "public"`);if(f.algorithm&&p==="encrypt"&&f.type==="private")throw new TypeError(`${Sa(f)} instances for asymmetric algorithm encryption must be of type "public"`)};function dg(h,f,p,c){f.startsWith("HS")||f==="dir"||f.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(f)?Z0(f,p,c,h):$0(f,p,c,h)}dg.bind(void 0,!1);const Gl=dg.bind(void 0,!0);function gg(h,f,p,c,m){if(m.crit!==void 0&&(c==null?void 0:c.crit)===void 0)throw new h('"crit" (Critical) Header Parameter MUST be integrity protected');if(!c||c.crit===void 0)return new Set;if(!Array.isArray(c.crit)||c.crit.length===0||c.crit.some(S=>typeof S!="string"||S.length===0))throw new h('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let A;p!==void 0?A=new Map([...Object.entries(p),...f.entries()]):A=f;for(const S of c.crit){if(!A.has(S))throw new Fn(`Extension Header Parameter "${S}" is not recognized`);if(m[S]===void 0)throw new h(`Extension Header Parameter "${S}" is missing`);if(A.get(S)&&c[S]===void 0)throw new h(`Extension Header Parameter "${S}" MUST be integrity protected`)}return new Set(c.crit)}const ey=(h,f)=>{if(f!==void 0&&(!Array.isArray(f)||f.some(p=>typeof p!="string")))throw new TypeError(`"${h}" option must be an array of strings`);if(f)return new Set(f)},ty=async h=>{if(h instanceof Uint8Array)return{kty:"oct",k:Os(h)};if(!tc(h))throw new TypeError(Jl(h,...Eo,"Uint8Array"));if(!h.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:f,key_ops:p,alg:c,use:m,...A}=await ba.subtle.exportKey("jwk",h);return A};async function ny(h){return ty(h)}function pg(h,f){const p=`SHA-${h.slice(-3)}`;switch(h){case"HS256":case"HS384":case"HS512":return{hash:p,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:p,name:"RSA-PSS",saltLength:h.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:p,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:p,name:"ECDSA",namedCurve:f.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:f.name};default:throw new Fn(`alg ${h} is not supported either by JOSE or your javascript runtime`)}}async function yg(h,f,p){if(p==="sign"&&(f=await Ld.normalizePrivateKey(f,h)),p==="verify"&&(f=await Ld.normalizePublicKey(f,h)),tc(f))return z0(f,h,p),f;if(f instanceof Uint8Array){if(!h.startsWith("HS"))throw new TypeError(Jl(f,...Eo));return ba.subtle.importKey("raw",f,{hash:`SHA-${h.slice(-3)}`,name:"HMAC"},!1,[p])}throw new TypeError(Jl(f,...Eo,"Uint8Array","JSON Web Key"))}const ry=async(h,f,p,c)=>{const m=await yg(h,f,"verify");ug(h,m);const A=pg(h,m.algorithm);try{return await ba.subtle.verify(A,m,p,c)}catch{return!1}};async function iy(h,f,p){if(!Hr(h))throw new Pt("Flattened JWS must be an object");if(h.protected===void 0&&h.header===void 0)throw new Pt('Flattened JWS must have either of the "protected" or "header" members');if(h.protected!==void 0&&typeof h.protected!="string")throw new Pt("JWS Protected Header incorrect type");if(h.payload===void 0)throw new Pt("JWS Payload missing");if(typeof h.signature!="string")throw new Pt("JWS Signature missing or incorrect type");if(h.header!==void 0&&!Hr(h.header))throw new Pt("JWS Unprotected Header incorrect type");let c={};if(h.protected)try{const ee=Ni(h.protected);c=JSON.parse(_a.decode(ee))}catch{throw new Pt("JWS Protected Header is invalid")}if(!sg(c,h.header))throw new Pt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const m={...c,...h.header},A=gg(Pt,new Map([["b64",!0]]),p==null?void 0:p.crit,c,m);let S=!0;if(A.has("b64")&&(S=c.b64,typeof S!="boolean"))throw new Pt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:D}=m;if(typeof D!="string"||!D)throw new Pt('JWS "alg" (Algorithm) Header Parameter missing or invalid');const T=p&&ey("algorithms",p.algorithms);if(T&&!T.has(D))throw new eg('"alg" (Algorithm) Header Parameter value not allowed');if(S){if(typeof h.payload!="string")throw new Pt("JWS Payload must be a string")}else if(typeof h.payload!="string"&&!(h.payload instanceof Uint8Array))throw new Pt("JWS Payload must be a string or an Uint8Array instance");let g=!1;typeof f=="function"?(f=await f(c,h),g=!0,Gl(D,f,"verify"),Ea(f)&&(f=await hg(f,D))):Gl(D,f,"verify");const y=$d(gr.encode(h.protected??""),gr.encode("."),typeof h.payload=="string"?gr.encode(h.payload):h.payload);let v;try{v=Ni(h.signature)}catch{throw new Pt("Failed to base64url decode the signature")}if(!await ry(D,f,v,y))throw new rg;let P;if(S)try{P=Ni(h.payload)}catch{throw new Pt("Failed to base64url decode the payload")}else typeof h.payload=="string"?P=gr.encode(h.payload):P=h.payload;const k={payload:P};return h.protected!==void 0&&(k.protectedHeader=c),h.header!==void 0&&(k.unprotectedHeader=h.header),g?{...k,key:f}:k}async function ay(h,f,p){if(h instanceof Uint8Array&&(h=_a.decode(h)),typeof h!="string")throw new Pt("Compact JWS must be a string or Uint8Array");const{0:c,1:m,2:A,length:S}=h.split(".");if(S!==3)throw new Pt("Invalid Compact JWS");const D=await iy({payload:m,protected:c,signature:A},f,p),T={payload:D.payload,protectedHeader:D.protectedHeader};return typeof f=="function"?{...T,key:D.key}:T}const di=h=>Math.floor(h.getTime()/1e3),vg=60,mg=vg*60,ic=mg*24,oy=ic*7,sy=ic*365.25,uy=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,bo=h=>{const f=uy.exec(h);if(!f||f[4]&&f[1])throw new TypeError("Invalid time period format");const p=parseFloat(f[2]),c=f[3].toLowerCase();let m;switch(c){case"sec":case"secs":case"second":case"seconds":case"s":m=Math.round(p);break;case"minute":case"minutes":case"min":case"mins":case"m":m=Math.round(p*vg);break;case"hour":case"hours":case"hr":case"hrs":case"h":m=Math.round(p*mg);break;case"day":case"days":case"d":m=Math.round(p*ic);break;case"week":case"weeks":case"w":m=Math.round(p*oy);break;default:m=Math.round(p*sy);break}return f[1]==="-"||f[4]==="ago"?-m:m},Bd=h=>h.toLowerCase().replace(/^application\//,""),ly=(h,f)=>typeof h=="string"?f.includes(h):Array.isArray(h)?f.some(Set.prototype.has.bind(new Set(h))):!1,cy=(h,f,p={})=>{let c;try{c=JSON.parse(_a.decode(f))}catch{}if(!Hr(c))throw new Hs("JWT Claims Set must be a top-level JSON object");const{typ:m}=p;if(m&&(typeof h.typ!="string"||Bd(h.typ)!==Bd(m)))throw new nr('unexpected "typ" JWT header value',c,"typ","check_failed");const{requiredClaims:A=[],issuer:S,subject:D,audience:T,maxTokenAge:g}=p,y=[...A];g!==void 0&&y.push("iat"),T!==void 0&&y.push("aud"),D!==void 0&&y.push("sub"),S!==void 0&&y.push("iss");for(const k of new Set(y.reverse()))if(!(k in c))throw new nr(`missing required "${k}" claim`,c,k,"missing");if(S&&!(Array.isArray(S)?S:[S]).includes(c.iss))throw new nr('unexpected "iss" claim value',c,"iss","check_failed");if(D&&c.sub!==D)throw new nr('unexpected "sub" claim value',c,"sub","check_failed");if(T&&!ly(c.aud,typeof T=="string"?[T]:T))throw new nr('unexpected "aud" claim value',c,"aud","check_failed");let v;switch(typeof p.clockTolerance){case"string":v=bo(p.clockTolerance);break;case"number":v=p.clockTolerance;break;case"undefined":v=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:R}=p,P=di(R||new Date);if((c.iat!==void 0||g)&&typeof c.iat!="number")throw new nr('"iat" claim must be a number',c,"iat","invalid");if(c.nbf!==void 0){if(typeof c.nbf!="number")throw new nr('"nbf" claim must be a number',c,"nbf","invalid");if(c.nbf>P+v)throw new nr('"nbf" claim timestamp check failed',c,"nbf","check_failed")}if(c.exp!==void 0){if(typeof c.exp!="number")throw new nr('"exp" claim must be a number',c,"exp","invalid");if(c.exp<=P-v)throw new Vl('"exp" claim timestamp check failed',c,"exp","check_failed")}if(g){const k=P-c.iat,ee=typeof g=="number"?g:bo(g);if(k-v>ee)throw new Vl('"iat" claim timestamp check failed (too far in the past)',c,"iat","check_failed");if(k<0-v)throw new nr('"iat" claim timestamp check failed (it should be in the past)',c,"iat","check_failed")}return c};async function fy(h,f,p){var S;const c=await ay(h,f,p);if((S=c.protectedHeader.crit)!=null&&S.includes("b64")&&c.protectedHeader.b64===!1)throw new Hs("JWTs MUST NOT use unencoded payload");const A={payload:cy(c.protectedHeader,c.payload,p),protectedHeader:c.protectedHeader};return typeof f=="function"?{...A,key:c.key}:A}const hy=async(h,f,p)=>{const c=await yg(h,f,"sign");ug(h,c);const m=await ba.subtle.sign(pg(h,c.algorithm),c,p);return new Uint8Array(m)};class dy{constructor(f){if(!(f instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=f}setProtectedHeader(f){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=f,this}setUnprotectedHeader(f){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=f,this}async sign(f,p){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Pt("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!sg(this._protectedHeader,this._unprotectedHeader))throw new Pt("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const c={...this._protectedHeader,...this._unprotectedHeader},m=gg(Pt,new Map([["b64",!0]]),p==null?void 0:p.crit,this._protectedHeader,c);let A=!0;if(m.has("b64")&&(A=this._protectedHeader.b64,typeof A!="boolean"))throw new Pt('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:S}=c;if(typeof S!="string"||!S)throw new Pt('JWS "alg" (Algorithm) Header Parameter missing or invalid');Gl(S,f,"sign");let D=this._payload;A&&(D=gr.encode(Os(D)));let T;this._protectedHeader?T=gr.encode(Os(JSON.stringify(this._protectedHeader))):T=gr.encode("");const g=$d(T,gr.encode("."),D),y=await hy(S,f,g),v={signature:Os(y),payload:""};return A&&(v.payload=_a.decode(D)),this._unprotectedHeader&&(v.header=this._unprotectedHeader),this._protectedHeader&&(v.protected=_a.decode(T)),v}}class gy{constructor(f){this._flattened=new dy(f)}setProtectedHeader(f){return this._flattened.setProtectedHeader(f),this}async sign(f,p){const c=await this._flattened.sign(f,p);if(c.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${c.protected}.${c.payload}.${c.signature}`}}function Oi(h,f){if(!Number.isFinite(f))throw new TypeError(`Invalid ${h} input`);return f}class py{constructor(f={}){if(!Hr(f))throw new TypeError("JWT Claims Set MUST be an object");this._payload=f}setIssuer(f){return this._payload={...this._payload,iss:f},this}setSubject(f){return this._payload={...this._payload,sub:f},this}setAudience(f){return this._payload={...this._payload,aud:f},this}setJti(f){return this._payload={...this._payload,jti:f},this}setNotBefore(f){return typeof f=="number"?this._payload={...this._payload,nbf:Oi("setNotBefore",f)}:f instanceof Date?this._payload={...this._payload,nbf:Oi("setNotBefore",di(f))}:this._payload={...this._payload,nbf:di(new Date)+bo(f)},this}setExpirationTime(f){return typeof f=="number"?this._payload={...this._payload,exp:Oi("setExpirationTime",f)}:f instanceof Date?this._payload={...this._payload,exp:Oi("setExpirationTime",di(f))}:this._payload={...this._payload,exp:di(new Date)+bo(f)},this}setIssuedAt(f){return typeof f>"u"?this._payload={...this._payload,iat:di(new Date)}:f instanceof Date?this._payload={...this._payload,iat:Oi("setIssuedAt",di(f))}:typeof f=="string"?this._payload={...this._payload,iat:Oi("setIssuedAt",di(new Date)+bo(f))}:this._payload={...this._payload,iat:Oi("setIssuedAt",f)},this}}class yy extends py{setProtectedHeader(f){return this._protectedHeader=f,this}async sign(f,p){var m;const c=new gy(gr.encode(JSON.stringify(this._payload)));if(c.setProtectedHeader(this._protectedHeader),Array.isArray((m=this._protectedHeader)==null?void 0:m.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Hs("JWTs MUST NOT use unencoded payload");return c.sign(f,p)}}function vy(h){switch(typeof h=="string"&&h.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Fn('Unsupported "alg" value for a JSON Web Key Set')}}function my(h){return h&&typeof h=="object"&&Array.isArray(h.keys)&&h.keys.every(Sy)}function Sy(h){return Hr(h)}function Sg(h){return typeof structuredClone=="function"?structuredClone(h):JSON.parse(JSON.stringify(h))}class _y{constructor(f){if(this._cached=new WeakMap,!my(f))throw new nc("JSON Web Key Set malformed");this._jwks=Sg(f)}async getKey(f,p){const{alg:c,kid:m}={...f,...p==null?void 0:p.header},A=vy(c),S=this._jwks.keys.filter(g=>{let y=A===g.kty;if(y&&typeof m=="string"&&(y=m===g.kid),y&&typeof g.alg=="string"&&(y=c===g.alg),y&&typeof g.use=="string"&&(y=g.use==="sig"),y&&Array.isArray(g.key_ops)&&(y=g.key_ops.includes("verify")),y)switch(c){case"ES256":y=g.crv==="P-256";break;case"ES256K":y=g.crv==="secp256k1";break;case"ES384":y=g.crv==="P-384";break;case"ES512":y=g.crv==="P-521";break;case"Ed25519":y=g.crv==="Ed25519";break;case"EdDSA":y=g.crv==="Ed25519"||g.crv==="Ed448";break}return y}),{0:D,length:T}=S;if(T===0)throw new rc;if(T!==1){const g=new tg,{_cached:y}=this;throw g[Symbol.asyncIterator]=async function*(){for(const v of S)try{yield await Pd(y,v,c)}catch{}},g}return Pd(this._cached,D,c)}}async function Pd(h,f,p){const c=h.get(f)||h.set(f,{}).get(f);if(c[p]===void 0){const m=await hg({...f,ext:!0},p);if(m instanceof Uint8Array||m.type!=="public")throw new nc("JSON Web Key Set members must be public keys");c[p]=m}return c[p]}function jd(h){const f=new _y(h),p=async(c,m)=>f.getKey(c,m);return Object.defineProperties(p,{jwks:{value:()=>Sg(f._jwks),enumerable:!0,configurable:!1,writable:!1}}),p}const by=async(h,f,p)=>{let c,m,A=!1;typeof AbortController=="function"&&(c=new AbortController,m=setTimeout(()=>{A=!0,c.abort()},f));const S=await fetch(h.href,{signal:c?c.signal:void 0,redirect:"manual",headers:p.headers}).catch(D=>{throw A?new ng:D});if(m!==void 0&&clearTimeout(m),S.status!==200)throw new pn("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await S.json()}catch{throw new pn("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Ey(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let Xl;var Us,Zd;(typeof navigator>"u"||!((Zd=(Us=navigator.userAgent)==null?void 0:Us.startsWith)!=null&&Zd.call(Us,"Mozilla/5.0 ")))&&(Xl="jose/v5.10.0");const Pl=Symbol();function wy(h,f){return!(typeof h!="object"||h===null||!("uat"in h)||typeof h.uat!="number"||Date.now()-h.uat>=f||!("jwks"in h)||!Hr(h.jwks)||!Array.isArray(h.jwks.keys)||!Array.prototype.every.call(h.jwks.keys,Hr))}class Ay{constructor(f,p){if(!(f instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(f.href),this._options={agent:p==null?void 0:p.agent,headers:p==null?void 0:p.headers},this._timeoutDuration=typeof(p==null?void 0:p.timeoutDuration)=="number"?p==null?void 0:p.timeoutDuration:5e3,this._cooldownDuration=typeof(p==null?void 0:p.cooldownDuration)=="number"?p==null?void 0:p.cooldownDuration:3e4,this._cacheMaxAge=typeof(p==null?void 0:p.cacheMaxAge)=="number"?p==null?void 0:p.cacheMaxAge:6e5,(p==null?void 0:p[Pl])!==void 0&&(this._cache=p==null?void 0:p[Pl],wy(p==null?void 0:p[Pl],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=jd(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(f,p){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(f,p)}catch(c){if(c instanceof rc&&this.coolingDown()===!1)return await this.reload(),this._local(f,p);throw c}}async reload(){this._pendingFetch&&Ey()&&(this._pendingFetch=void 0);const f=new Headers(this._options.headers);Xl&&!f.has("User-Agent")&&(f.set("User-Agent",Xl),this._options.headers=Object.fromEntries(f.entries())),this._pendingFetch||(this._pendingFetch=by(this._url,this._timeoutDuration,this._options).then(p=>{this._local=jd(p),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=p),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(p=>{throw this._pendingFetch=void 0,p})),await this._pendingFetch}}function Ty(h,f){const p=new Ay(h,f),c=async(m,A)=>p.getKey(m,A);return Object.defineProperties(c,{coolingDown:{get:()=>p.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>p.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>p.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!p._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var m;return(m=p._local)==null?void 0:m.jwks()},enumerable:!0,configurable:!1,writable:!1}}),c}function jl(h){const f=(h==null?void 0:h.modulusLength)??2048;if(typeof f!="number"||f<2048)throw new Fn("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return f}async function xy(h,f){let p,c;switch(h){case"PS256":case"PS384":case"PS512":p={name:"RSA-PSS",hash:`SHA-${h.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:jl(f)},c=["sign","verify"];break;case"RS256":case"RS384":case"RS512":p={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${h.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:jl(f)},c=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":p={name:"RSA-OAEP",hash:`SHA-${parseInt(h.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:jl(f)},c=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":p={name:"ECDSA",namedCurve:"P-256"},c=["sign","verify"];break;case"ES384":p={name:"ECDSA",namedCurve:"P-384"},c=["sign","verify"];break;case"ES512":p={name:"ECDSA",namedCurve:"P-521"},c=["sign","verify"];break;case"Ed25519":p={name:"Ed25519"},c=["sign","verify"];break;case"EdDSA":{c=["sign","verify"];const m="Ed25519";switch(m){case"Ed25519":case"Ed448":p={name:m};break;default:throw new Fn("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{c=["deriveKey","deriveBits"];const m="P-256";switch(m){case"P-256":case"P-384":case"P-521":{p={name:"ECDH",namedCurve:m};break}case"X25519":case"X448":p={name:m};break;default:throw new Fn("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Fn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return ba.subtle.generateKey(p,!1,c)}async function Fy(h,f){return xy(h,f)}const gn=[];for(let h=0;h<256;++h)gn.push((h+256).toString(16).slice(1));function Ry(h,f=0){return(gn[h[f+0]]+gn[h[f+1]]+gn[h[f+2]]+gn[h[f+3]]+"-"+gn[h[f+4]]+gn[h[f+5]]+"-"+gn[h[f+6]]+gn[h[f+7]]+"-"+gn[h[f+8]]+gn[h[f+9]]+"-"+gn[h[f+10]]+gn[h[f+11]]+gn[h[f+12]]+gn[h[f+13]]+gn[h[f+14]]+gn[h[f+15]]).toLowerCase()}let Il;const Cy=new Uint8Array(16);function Dy(){if(!Il){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Il=crypto.getRandomValues.bind(crypto)}return Il(Cy)}const Uy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Id={randomUUID:Uy};function ac(h,f,p){var m;if(Id.randomUUID&&!h)return Id.randomUUID();h=h||{};const c=h.random??((m=h.rng)==null?void 0:m.call(h))??Dy();if(c.length<16)throw new Error("Random bytes length must be >= 16");return c[6]=c[6]&15|64,c[8]=c[8]&63|128,Ry(c)}const _g="solidClientAuthn:",Ms=["ES256","RS256"],un={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",NEW_TOKENS:"newTokens",AUTHORIZATION_REQUEST:"authorizationRequest",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},Kd=5,Oy="openid",Ny="offline_access",ky="webid",bg=[Oy,Ny,ky].join(" ");class My{constructor(f){Ve(this,"handleables");this.handleables=f,this.handleables=f}async getProperHandler(f){const p=await Promise.all(this.handleables.map(c=>c.canHandle(...f)));for(let c=0;c<p.length;c+=1)if(p[c])return this.handleables[c];return null}async canHandle(...f){return await this.getProperHandler(f)!==null}async handle(...f){const p=await this.getProperHandler(f);if(p)return p.handle(...f);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${f.map(c=>{try{return JSON.stringify(c)}catch{return c.toString()}}).join(", ")}`)}}async function Eg(h,f,p,c){let m,A;try{const{payload:S}=await fy(h,Ty(new URL(f)),{issuer:p,audience:c});m=S}catch(S){throw new Error(`Token verification failed: ${S.stack}`)}if(typeof m.azp=="string"&&(A=m.azp),typeof m.webid=="string")return{webId:m.webid,clientId:A};if(typeof m.sub!="string")throw new Error(`The token ${JSON.stringify(m)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(m.sub),{webId:m.sub,clientId:A}}catch(S){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${m.sub}] is invalid as a URL - error [${S}].`)}}function wg(h){try{const f=new URL(h),p=!f.searchParams.has("code")&&!f.searchParams.has("state"),c=f.hash==="";return p&&c}catch{return!1}}function Ag(h){const f=new URL(h);return f.searchParams.delete("state"),f.searchParams.delete("code"),f.searchParams.delete("error"),f.searchParams.delete("error_description"),f.searchParams.delete("iss"),f}function Hy(h,f){return typeof h=="boolean"?!!h:!!f}class Ly{constructor(f,p){Ve(this,"storageUtility");Ve(this,"redirector");Ve(this,"parametersGuard",f=>f.issuerConfiguration.grantTypesSupported!==void 0&&f.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&f.redirectUrl!==void 0);this.storageUtility=f,this.redirector=p,this.storageUtility=f,this.redirector=p}async canHandle(f){return this.parametersGuard(f)}async setupRedirectHandler({oidcLoginOptions:f,state:p,codeVerifier:c,targetUrl:m}){if(!this.parametersGuard(f))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(p,{sessionId:f.sessionId}),this.storageUtility.setForUser(f.sessionId,{codeVerifier:c,issuer:f.issuer.toString(),redirectUrl:f.redirectUrl,dpop:(!!f.dpop).toString(),keepAlive:Hy(f.keepAlive,!0).toString()})]),this.redirector.redirect(m,{handleRedirect:f.handleRedirect})}}class By{constructor(f){Ve(this,"sessionInfoManager");this.sessionInfoManager=f,this.sessionInfoManager=f}async canHandle(){return!0}async handle(f){await this.sessionInfoManager.clear(f)}}class Py{constructor(f){Ve(this,"redirector");this.redirector=f,this.redirector=f}async canHandle(f,p){return(p==null?void 0:p.logoutType)==="idp"}async handle(f,p){if((p==null?void 0:p.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(p.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(p.toLogoutUrl(p),{handleRedirect:p.handleRedirect})}}class jy{constructor(f,p){Ve(this,"handlers");this.handlers=[new By(f),new Py(p)]}async canHandle(){return!0}async handle(f,p){for(const c of this.handlers)await c.canHandle(f,p)&&await c.handle(f,p)}}function Tg(){return{isLoggedIn:!1,sessionId:ac(),fetch:(...h)=>fetch(...h)}}async function xg(h,f){await Promise.all([f.deleteAllUserData(h,{secure:!1}),f.deleteAllUserData(h,{secure:!0})])}class Iy{constructor(f){Ve(this,"storageUtility");this.storageUtility=f,this.storageUtility=f}update(f,p){throw new Error("Not Implemented")}set(f,p){throw new Error("Not Implemented")}get(f){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(f){return xg(f,this.storageUtility)}async register(f){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}async setOidcContext(f,p){throw new Error("Not implemented")}}function Ky({endSessionEndpoint:h,idTokenHint:f,postLogoutRedirectUri:p,state:c}){const m=new URL(h);return f!==void 0&&m.searchParams.append("id_token_hint",f),p!==void 0&&(m.searchParams.append("post_logout_redirect_uri",p),c!==void 0&&m.searchParams.append("state",c)),m.toString()}function qy({endSessionEndpoint:h,idTokenHint:f}){if(h!==void 0)return function({state:c,postLogoutUrl:m}){return Ky({endSessionEndpoint:h,idTokenHint:f,state:c,postLogoutRedirectUri:m})}}function zy(h){return typeof h=="string"&&["DPoP","Bearer"].includes(h)}function Fg(h){try{return new URL(h),!0}catch{return!1}}function Vy(h,f){return f.find(p=>h.includes(p))??null}function Jy(h){return h.clientId!==void 0&&!Fg(h.clientId)}function Yy(h,f){return f.scopesSupported.includes("webid")&&h.clientId!==void 0&&Fg(h.clientId)}function Gy(h){return typeof h=="string"&&["dynamic","static","solid-oidc"].includes(h)}async function Xy(h,f,p,c){let m;if(Yy(h,f))m={clientId:h.clientId,clientName:h.clientName,clientType:"solid-oidc"};else if(Jy(h))m={clientId:h.clientId,clientSecret:h.clientSecret,clientName:h.clientName,clientType:"static"};else return c.getClient({sessionId:h.sessionId,clientName:h.clientName,redirectUrl:h.redirectUrl},f);const A={clientId:m.clientId,clientType:m.clientType};return m.clientType==="static"&&(A.clientSecret=m.clientSecret),m.clientName&&(A.clientName=m.clientName),await p.setForUser(h.sessionId,A),m}const qd=(h,f)=>fetch(h,f);let Qy=class{constructor(f,p,c,m,A){Ve(this,"loginHandler");Ve(this,"redirectHandler");Ve(this,"logoutHandler");Ve(this,"sessionInfoManager");Ve(this,"issuerConfigFetcher");Ve(this,"boundLogout");Ve(this,"fetch",qd);Ve(this,"logout",async(f,p)=>{await this.logoutHandler.handle(f,(p==null?void 0:p.logoutType)==="idp"?{...p,toLogoutUrl:this.boundLogout}:p),this.fetch=qd,delete this.boundLogout});Ve(this,"getSessionInfo",async f=>this.sessionInfoManager.get(f));Ve(this,"getAllSessionInfo",async()=>this.sessionInfoManager.getAll());this.loginHandler=f,this.redirectHandler=p,this.logoutHandler=c,this.sessionInfoManager=m,this.issuerConfigFetcher=A,this.loginHandler=f,this.redirectHandler=p,this.logoutHandler=c,this.sessionInfoManager=m,this.issuerConfigFetcher=A}};async function Rg(h,f,p){try{const[c,m,A,S,D]=await Promise.all([f.getForUser(h,"issuer",{errorIfNull:!0}),f.getForUser(h,"codeVerifier"),f.getForUser(h,"redirectUrl"),f.getForUser(h,"dpop",{errorIfNull:!0}),f.getForUser(h,"keepAlive")]);await f.deleteForUser(h,"codeVerifier");const T=await p.fetchConfig(c);return{codeVerifier:m,redirectUrl:A,issuerConfig:T,dpop:S==="true",keepAlive:typeof D=="string"?D==="true":!0}}catch(c){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${h}]: ${c}`)}}async function Wy(h,f,p,c,m,A,S,D){p!==void 0&&await h.setForUser(f,{webId:p},{secure:S}),c!==void 0&&await h.setForUser(f,{clientId:c},{secure:S}),await h.setForUser(f,{isLoggedIn:m},{secure:S})}class Zy{constructor(f,p){Ve(this,"secureStorage");Ve(this,"insecureStorage");this.secureStorage=f,this.insecureStorage=p,this.secureStorage=f,this.insecureStorage=p}getKey(f){return`solidClientAuthenticationUser:${f}`}async getUserData(f,p){const c=await(p?this.secureStorage:this.insecureStorage).get(this.getKey(f));if(c===void 0)return{};try{return JSON.parse(c)}catch{throw new Error(`Data for user [${f}] in [${p?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${c}`)}}async setUserData(f,p,c){await(c?this.secureStorage:this.insecureStorage).set(this.getKey(f),JSON.stringify(p))}async get(f,p){const c=await(p!=null&&p.secure?this.secureStorage:this.insecureStorage).get(f);if(c===void 0&&(p!=null&&p.errorIfNull))throw new Error(`[${f}] is not stored`);return c}async set(f,p,c){return(c!=null&&c.secure?this.secureStorage:this.insecureStorage).set(f,p)}async delete(f,p){return(p!=null&&p.secure?this.secureStorage:this.insecureStorage).delete(f)}async getForUser(f,p,c){const m=await this.getUserData(f,c==null?void 0:c.secure);let A;if((!m||!m[p])&&(A=void 0),A=m[p],A===void 0&&(c!=null&&c.errorIfNull))throw new Error(`Field [${p}] for user [${f}] is not stored`);return A||void 0}async setForUser(f,p,c){let m;try{m=await this.getUserData(f,c==null?void 0:c.secure)}catch{m={}}await this.setUserData(f,{...m,...p},c==null?void 0:c.secure)}async deleteForUser(f,p,c){const m=await this.getUserData(f,c==null?void 0:c.secure);delete m[p],await this.setUserData(f,m,c==null?void 0:c.secure)}async deleteAllUserData(f,p){await(p!=null&&p.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(f))}}class $y{constructor(){Ve(this,"map",{})}async get(f){return this.map[f]||void 0}async set(f,p){this.map[f]=p}async delete(f){delete this.map[f]}}class Ql extends Error{constructor(f){super(f)}}class _o extends Error{constructor(p){super(`Invalid response from OIDC provider: missing fields ${p}`);Ve(this,"missingFields");this.missingFields=p}}class Cg extends Error{constructor(p,c,m){super(p);Ve(this,"error");Ve(this,"errorDescription");this.error=c,this.errorDescription=m}}function ev(h){const f=new URL(h);return new URL(f.pathname,f.origin).toString()}async function oc(h,f,p){return new yy({htu:ev(h),htm:f.toUpperCase(),jti:ac()}).setProtectedHeader({alg:Ms[0],jwk:p.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(p.privateKey,{})}async function tv(){const{privateKey:h,publicKey:f}=await Fy(Ms[0]),p={privateKey:h,publicKey:await ny(f)};return[p.publicKey.alg]=Ms,p}const Dg=600;function nv(h){return[401,403].includes(h)}async function rv(h,f,p,c){const m=new Headers(c==null?void 0:c.headers);return m.set("Authorization",`DPoP ${f}`),m.set("DPoP",await oc(h,(c==null?void 0:c.method)??"get",p)),{...c,headers:m}}async function iv(h,f,p,c){if(p!==void 0)return rv(h,f,p,c);const m=new Headers(c==null?void 0:c.headers);return m.set("Authorization",`Bearer ${f}`),{...c,headers:m}}async function zd(h,f,p,c){return fetch(f,await iv(f.toString(),h,c,p))}async function av(h,f,p){const c=await h.tokenRefresher.refresh(h.sessionId,h.refreshToken,f);return p==null||p.emit(un.SESSION_EXTENDED,c.expiresIn??Dg),{accessToken:c.accessToken,refreshToken:c.refreshToken,expiresIn:c.expiresIn}}const Kl=h=>h!==void 0?h-Kd>0?h-Kd:h:Dg;function ov(h,f){var A;let p=h,c;const m=f==null?void 0:f.refreshOptions;if(m!==void 0){const S=async()=>{var D,T,g,y;try{const{accessToken:v,refreshToken:R,expiresIn:P}=await av(m,f.dpopKey,f.eventEmitter);p=v,R!==void 0&&(m.refreshToken=R),clearTimeout(c),c=setTimeout(S,Kl(P)*1e3),(D=f.eventEmitter)==null||D.emit(un.TIMEOUT_SET,c)}catch(v){v instanceof Cg&&((T=f==null?void 0:f.eventEmitter)==null||T.emit(un.ERROR,v.error,v.errorDescription),(g=f==null?void 0:f.eventEmitter)==null||g.emit(un.SESSION_EXPIRED)),v instanceof _o&&v.missingFields.includes("access_token")&&((y=f==null?void 0:f.eventEmitter)==null||y.emit(un.SESSION_EXPIRED))}};c=setTimeout(S,Kl(f.expiresIn)*1e3),(A=f.eventEmitter)==null||A.emit(un.TIMEOUT_SET,c)}else if(f!==void 0&&f.eventEmitter!==void 0){const S=setTimeout(()=>{f.eventEmitter.emit(un.SESSION_EXPIRED)},Kl(f.expiresIn)*1e3);f.eventEmitter.emit(un.TIMEOUT_SET,S)}return async(S,D)=>{let T=await zd(p,S,D,f==null?void 0:f.dpopKey);const g=!T.ok&&!nv(T.status);return T.ok||g||T.url!==S&&(f==null?void 0:f.dpopKey)!==void 0&&(T=await zd(p,T.url,D,f.dpopKey)),T}}var Ds={exports:{}},Vd;function sv(){if(Vd)return Ds.exports;Vd=1;var h=typeof Reflect=="object"?Reflect:null,f=h&&typeof h.apply=="function"?h.apply:function(j,M,H){return Function.prototype.apply.call(j,M,H)},p;h&&typeof h.ownKeys=="function"?p=h.ownKeys:Object.getOwnPropertySymbols?p=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:p=function(j){return Object.getOwnPropertyNames(j)};function c(O){console&&console.warn&&console.warn(O)}var m=Number.isNaN||function(j){return j!==j};function A(){A.init.call(this)}Ds.exports=A,Ds.exports.once=K,A.EventEmitter=A,A.prototype._events=void 0,A.prototype._eventsCount=0,A.prototype._maxListeners=void 0;var S=10;function D(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(A,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(O){if(typeof O!="number"||O<0||m(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");S=O}}),A.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},A.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||m(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function T(O){return O._maxListeners===void 0?A.defaultMaxListeners:O._maxListeners}A.prototype.getMaxListeners=function(){return T(this)},A.prototype.emit=function(j){for(var M=[],H=1;H<arguments.length;H++)M.push(arguments[H]);var le=j==="error",_e=this._events;if(_e!==void 0)le=le&&_e.error===void 0;else if(!le)return!1;if(le){var J;if(M.length>0&&(J=M[0]),J instanceof Error)throw J;var Ae=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw Ae.context=J,Ae}var Ke=_e[j];if(Ke===void 0)return!1;if(typeof Ke=="function")f(Ke,this,M);else for(var We=Ke.length,Ct=k(Ke,We),H=0;H<We;++H)f(Ct[H],this,M);return!0};function g(O,j,M,H){var le,_e,J;if(D(M),_e=O._events,_e===void 0?(_e=O._events=Object.create(null),O._eventsCount=0):(_e.newListener!==void 0&&(O.emit("newListener",j,M.listener?M.listener:M),_e=O._events),J=_e[j]),J===void 0)J=_e[j]=M,++O._eventsCount;else if(typeof J=="function"?J=_e[j]=H?[M,J]:[J,M]:H?J.unshift(M):J.push(M),le=T(O),le>0&&J.length>le&&!J.warned){J.warned=!0;var Ae=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ae.name="MaxListenersExceededWarning",Ae.emitter=O,Ae.type=j,Ae.count=J.length,c(Ae)}return O}A.prototype.addListener=function(j,M){return g(this,j,M,!1)},A.prototype.on=A.prototype.addListener,A.prototype.prependListener=function(j,M){return g(this,j,M,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(O,j,M){var H={fired:!1,wrapFn:void 0,target:O,type:j,listener:M},le=y.bind(H);return le.listener=M,H.wrapFn=le,le}A.prototype.once=function(j,M){return D(M),this.on(j,v(this,j,M)),this},A.prototype.prependOnceListener=function(j,M){return D(M),this.prependListener(j,v(this,j,M)),this},A.prototype.removeListener=function(j,M){var H,le,_e,J,Ae;if(D(M),le=this._events,le===void 0)return this;if(H=le[j],H===void 0)return this;if(H===M||H.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete le[j],le.removeListener&&this.emit("removeListener",j,H.listener||M));else if(typeof H!="function"){for(_e=-1,J=H.length-1;J>=0;J--)if(H[J]===M||H[J].listener===M){Ae=H[J].listener,_e=J;break}if(_e<0)return this;_e===0?H.shift():ee(H,_e),H.length===1&&(le[j]=H[0]),le.removeListener!==void 0&&this.emit("removeListener",j,Ae||M)}return this},A.prototype.off=A.prototype.removeListener,A.prototype.removeAllListeners=function(j){var M,H,le;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[j]),this;if(arguments.length===0){var _e=Object.keys(H),J;for(le=0;le<_e.length;++le)J=_e[le],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=H[j],typeof M=="function")this.removeListener(j,M);else if(M!==void 0)for(le=M.length-1;le>=0;le--)this.removeListener(j,M[le]);return this};function R(O,j,M){var H=O._events;if(H===void 0)return[];var le=H[j];return le===void 0?[]:typeof le=="function"?M?[le.listener||le]:[le]:M?Y(le):k(le,le.length)}A.prototype.listeners=function(j){return R(this,j,!0)},A.prototype.rawListeners=function(j){return R(this,j,!1)},A.listenerCount=function(O,j){return typeof O.listenerCount=="function"?O.listenerCount(j):P.call(O,j)},A.prototype.listenerCount=P;function P(O){var j=this._events;if(j!==void 0){var M=j[O];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}A.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function k(O,j){for(var M=new Array(j),H=0;H<j;++H)M[H]=O[H];return M}function ee(O,j){for(;j+1<O.length;j++)O[j]=O[j+1];O.pop()}function Y(O){for(var j=new Array(O.length),M=0;M<j.length;++M)j[M]=O[M].listener||O[M];return j}function K(O,j){return new Promise(function(M,H){function le(J){O.removeListener(j,_e),H(J)}function _e(){typeof O.removeListener=="function"&&O.removeListener("error",le),M([].slice.call(arguments))}X(O,j,_e,{once:!0}),j!=="error"&&I(O,le,{once:!0})})}function I(O,j,M){typeof O.on=="function"&&X(O,"error",j,M)}function X(O,j,M,H){if(typeof O.on=="function")H.once?O.once(j,M):O.on(j,M);else if(typeof O.addEventListener=="function")O.addEventListener(j,function le(_e){H.once&&O.removeEventListener(j,le),M(_e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}return Ds.exports}var uv=sv();const lv=x0(uv);var Ns={exports:{}},cv=Ns.exports,Jd;function fv(){return Jd||(Jd=1,function(h,f){(function(c,m){h.exports=m()})(cv,function(){return function(p){var c={};function m(A){if(c[A])return c[A].exports;var S=c[A]={i:A,l:!1,exports:{}};return p[A].call(S.exports,S,S.exports,m),S.l=!0,S.exports}return m.m=p,m.c=c,m.d=function(A,S,D){m.o(A,S)||Object.defineProperty(A,S,{enumerable:!0,get:D})},m.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},m.t=function(A,S){if(1&S&&(A=m(A)),8&S||4&S&&typeof A=="object"&&A&&A.__esModule)return A;var D=Object.create(null);if(m.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:A}),2&S&&typeof A!="string")for(var T in A)m.d(D,T,(function(g){return A[g]}).bind(null,T));return D},m.n=function(A){var S=A&&A.__esModule?function(){return A.default}:function(){return A};return m.d(S,"a",S),S},m.o=function(A,S){return Object.prototype.hasOwnProperty.call(A,S)},m.p="",m(m.s=22)}([function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0});var A=function(){function g(y,v){for(var R=0;R<v.length;R++){var P=v[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,v,R){return v&&g(y.prototype,v),R&&g(y,R),y}}(),S={debug:function(){},info:function(){},warn:function(){},error:function(){}},D=void 0,T=void 0;(c.Log=function(){function g(){(function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")})(this,g)}return g.reset=function(){T=3,D=S},g.debug=function(){if(T>=4){for(var v=arguments.length,R=Array(v),P=0;P<v;P++)R[P]=arguments[P];D.debug.apply(D,Array.from(R))}},g.info=function(){if(T>=3){for(var v=arguments.length,R=Array(v),P=0;P<v;P++)R[P]=arguments[P];D.info.apply(D,Array.from(R))}},g.warn=function(){if(T>=2){for(var v=arguments.length,R=Array(v),P=0;P<v;P++)R[P]=arguments[P];D.warn.apply(D,Array.from(R))}},g.error=function(){if(T>=1){for(var v=arguments.length,R=Array(v),P=0;P<v;P++)R[P]=arguments[P];D.error.apply(D,Array.from(R))}},A(g,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return T},set:function(v){if(!(0<=v&&v<=4))throw new Error("Invalid log level");T=v}},{key:"logger",get:function(){return D},set:function(v){if(!v.debug&&v.info&&(v.debug=v.info),!(v.debug&&v.info&&v.warn&&v.error))throw new Error("Invalid logger");D=v}}]),g}()).reset()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0});var A=function(){function g(y,v){for(var R=0;R<v.length;R++){var P=v[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,v,R){return v&&g(y.prototype,v),R&&g(y,R),y}}(),S={setInterval:function(g){function y(v,R){return g.apply(this,arguments)}return y.toString=function(){return g.toString()},y}(function(g,y){return setInterval(g,y)}),clearInterval:function(g){function y(v){return g.apply(this,arguments)}return y.toString=function(){return g.toString()},y}(function(g){return clearInterval(g)})},D=!1,T=null;c.Global=function(){function g(){(function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")})(this,g)}return g._testing=function(){D=!0},g.setXMLHttpRequest=function(v){T=v},A(g,null,[{key:"location",get:function(){if(!D)return location}},{key:"localStorage",get:function(){if(!D&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!D&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!D&&typeof window<"u")return T||XMLHttpRequest}},{key:"timer",get:function(){if(!D)return S}}]),g}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.MetadataService=void 0;var A=function(){function y(v,R){for(var P=0;P<R.length;P++){var k=R[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,R,P){return R&&y(v.prototype,R),P&&y(v,P),v}}(),S=m(0),D=m(7);function T(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}var g=".well-known/openid-configuration";c.MetadataService=function(){function y(v){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.JsonService;if(T(this,y),!v)throw S.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=v,this._jsonService=new R(["application/jwk-set+json"])}return y.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},y.prototype.getMetadata=function(){var R=this;return this._settings.metadata?(S.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(S.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(P){S.Log.debug("MetadataService.getMetadata: json received");var k=R._settings.metadataSeed||{};return R._settings.metadata=Object.assign({},k,P),R._settings.metadata})):(S.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},y.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},y.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},y.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},y.prototype.getTokenEndpoint=function(){var R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",R)},y.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},y.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},y.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},y.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},y.prototype._getMetadataProperty=function(R){var P=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return S.Log.debug("MetadataService.getMetadataProperty for: "+R),this.getMetadata().then(function(k){if(S.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),k[R]===void 0){if(P===!0)return void S.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+R);throw S.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+R),new Error("Metadata does not contain property "+R)}return k[R]})},y.prototype.getSigningKeys=function(){var R=this;return this._settings.signingKeys?(S.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(P){return S.Log.debug("MetadataService.getSigningKeys: jwks_uri received",P),R._jsonService.getJson(P).then(function(k){if(S.Log.debug("MetadataService.getSigningKeys: key set received",k),!k.keys)throw S.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return R._settings.signingKeys=k.keys,R._settings.signingKeys})})},A(y,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(g)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=g))),this._metadataUrl}}]),y}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.UrlUtility=void 0;var A=m(0),S=m(1);c.UrlUtility=function(){function D(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,D)}return D.addQueryParam=function(g,y,v){return g.indexOf("?")<0&&(g+="?"),g[g.length-1]!=="?"&&(g+="&"),g+=encodeURIComponent(y),g+="=",g+=encodeURIComponent(v)},D.parseUrlFragment=function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.Global;typeof g!="string"&&(g=v.location.href);var R=g.lastIndexOf(y);R>=0&&(g=g.substr(R+1)),y==="?"&&(R=g.indexOf("#"))>=0&&(g=g.substr(0,R));for(var P,k={},ee=/([^&=]+)=([^&]*)/g,Y=0;P=ee.exec(g);)if(k[decodeURIComponent(P[1])]=decodeURIComponent(P[2].replace(/\+/g," ")),Y++>50)return A.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",g),{error:"Response exceeded expected number of parameters"};for(var K in k)return k;return{}},D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.JoseUtil=void 0;var A=m(26),S=function(T){return T&&T.__esModule?T:{default:T}}(m(33));c.JoseUtil=(0,S.default)({jws:A.jws,KeyUtil:A.KeyUtil,X509:A.X509,crypto:A.crypto,hextob64u:A.hextob64u,b64tohex:A.b64tohex,AllowedSigningAlgs:A.AllowedSigningAlgs})},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.OidcClientSettings=void 0;var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},S=function(){function K(I,X){for(var O=0;O<X.length;O++){var j=X[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,X,O){return X&&K(I.prototype,X),O&&K(I,O),I}}(),D=m(0),T=m(23),g=m(6),y=m(24),v=m(2);function R(K,I){if(!(K instanceof I))throw new TypeError("Cannot call a class as a function")}var P=".well-known/openid-configuration",k="id_token",ee="openid",Y="client_secret_post";c.OidcClientSettings=function(){function K(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=I.authority,O=I.metadataUrl,j=I.metadata,M=I.signingKeys,H=I.metadataSeed,le=I.client_id,_e=I.client_secret,J=I.response_type,Ae=J===void 0?k:J,Ke=I.scope,We=Ke===void 0?ee:Ke,Ct=I.redirect_uri,rt=I.post_logout_redirect_uri,Se=I.client_authentication,Fe=Se===void 0?Y:Se,Ne=I.prompt,ke=I.display,$=I.max_age,Ee=I.ui_locales,Ce=I.acr_values,Re=I.resource,Me=I.response_mode,Xe=I.filterProtocolClaims,Ie=Xe===void 0||Xe,pt=I.loadUserInfo,$e=pt===void 0||pt,Ft=I.staleStateAge,Et=Ft===void 0?900:Ft,ne=I.clockSkew,E=ne===void 0?300:ne,w=I.clockService,Q=w===void 0?new T.ClockService:w,re=I.userInfoJwtIssuer,he=re===void 0?"OP":re,ve=I.mergeClaims,Le=ve!==void 0&&ve,Ye=I.stateStore,lt=Ye===void 0?new g.WebStorageStateStore:Ye,et=I.ResponseValidatorCtor,yt=et===void 0?y.ResponseValidator:et,ln=I.MetadataServiceCtor,Rn=ln===void 0?v.MetadataService:ln,Pe=I.extraQueryParams,vt=Pe===void 0?{}:Pe,qe=I.extraTokenParams,qt=qe===void 0?{}:qe;R(this,K),this._authority=X,this._metadataUrl=O,this._metadata=j,this._metadataSeed=H,this._signingKeys=M,this._client_id=le,this._client_secret=_e,this._response_type=Ae,this._scope=We,this._redirect_uri=Ct,this._post_logout_redirect_uri=rt,this._client_authentication=Fe,this._prompt=Ne,this._display=ke,this._max_age=$,this._ui_locales=Ee,this._acr_values=Ce,this._resource=Re,this._response_mode=Me,this._filterProtocolClaims=!!Ie,this._loadUserInfo=!!$e,this._staleStateAge=Et,this._clockSkew=E,this._clockService=Q,this._userInfoJwtIssuer=he,this._mergeClaims=!!Le,this._stateStore=lt,this._validator=new yt(this),this._metadataService=new Rn(this),this._extraQueryParams=(vt===void 0?"undefined":A(vt))==="object"?vt:{},this._extraTokenParams=(qt===void 0?"undefined":A(qt))==="object"?qt:{}}return K.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},S(K,[{key:"client_id",get:function(){return this._client_id},set:function(X){if(this._client_id)throw D.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=X}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(X){if(this._authority)throw D.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=X}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(P)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=P)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(X){this._metadata=X}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(X){this._metadataSeed=X}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(X){this._signingKeys=X}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(X){(X===void 0?"undefined":A(X))==="object"?this._extraQueryParams=X:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(X){(X===void 0?"undefined":A(X))==="object"?this._extraTokenParams=X:this._extraTokenParams={}}}]),K}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.WebStorageStateStore=void 0;var A=m(0),S=m(1);function D(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}c.WebStorageStateStore=function(){function T(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=g.prefix,v=y===void 0?"oidc.":y,R=g.store,P=R===void 0?S.Global.localStorage:R;D(this,T),this._store=P,this._prefix=v}return T.prototype.set=function(y,v){return A.Log.debug("WebStorageStateStore.set",y),y=this._prefix+y,this._store.setItem(y,v),Promise.resolve()},T.prototype.get=function(y){A.Log.debug("WebStorageStateStore.get",y),y=this._prefix+y;var v=this._store.getItem(y);return Promise.resolve(v)},T.prototype.remove=function(y){A.Log.debug("WebStorageStateStore.remove",y),y=this._prefix+y;var v=this._store.getItem(y);return this._store.removeItem(y),Promise.resolve(v)},T.prototype.getAllKeys=function(){A.Log.debug("WebStorageStateStore.getAllKeys");for(var y=[],v=0;v<this._store.length;v++){var R=this._store.key(v);R.indexOf(this._prefix)===0&&y.push(R.substr(this._prefix.length))}return Promise.resolve(y)},T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.JsonService=void 0;var A=m(0),S=m(1);function D(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}c.JsonService=function(){function T(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;D(this,T),g&&Array.isArray(g)?this._contentTypes=g.slice():this._contentTypes=[],this._contentTypes.push("application/json"),v&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=y,this._jwtHandler=v}return T.prototype.getJson=function(y,v){var R=this;if(!y)throw A.Log.error("JsonService.getJson: No url passed"),new Error("url");return A.Log.debug("JsonService.getJson, url: ",y),new Promise(function(P,k){var ee=new R._XMLHttpRequest;ee.open("GET",y);var Y=R._contentTypes,K=R._jwtHandler;ee.onload=function(){if(A.Log.debug("JsonService.getJson: HTTP response received, status",ee.status),ee.status===200){var I=ee.getResponseHeader("Content-Type");if(I){var X=Y.find(function(O){if(I.startsWith(O))return!0});if(X=="application/jwt")return void K(ee).then(P,k);if(X)try{return void P(JSON.parse(ee.responseText))}catch(O){return A.Log.error("JsonService.getJson: Error parsing JSON response",O.message),void k(O)}}k(Error("Invalid response Content-Type: "+I+", from URL: "+y))}else k(Error(ee.statusText+" ("+ee.status+")"))},ee.onerror=function(){A.Log.error("JsonService.getJson: network error"),k(Error("Network Error"))},v&&(A.Log.debug("JsonService.getJson: token passed, setting Authorization header"),ee.setRequestHeader("Authorization","Bearer "+v)),ee.send()})},T.prototype.postForm=function(y,v,R){var P=this;if(!y)throw A.Log.error("JsonService.postForm: No url passed"),new Error("url");return A.Log.debug("JsonService.postForm, url: ",y),new Promise(function(k,ee){var Y=new P._XMLHttpRequest;Y.open("POST",y);var K=P._contentTypes;Y.onload=function(){if(A.Log.debug("JsonService.postForm: HTTP response received, status",Y.status),Y.status!==200){if(Y.status===400&&(M=Y.getResponseHeader("Content-Type"))&&K.find(function(H){if(M.startsWith(H))return!0}))try{var j=JSON.parse(Y.responseText);if(j&&j.error)return A.Log.error("JsonService.postForm: Error from server: ",j.error),void ee(new Error(j.error))}catch(H){return A.Log.error("JsonService.postForm: Error parsing JSON response",H.message),void ee(H)}ee(Error(Y.statusText+" ("+Y.status+")"))}else{var M;if((M=Y.getResponseHeader("Content-Type"))&&K.find(function(H){if(M.startsWith(H))return!0}))try{return void k(JSON.parse(Y.responseText))}catch(H){return A.Log.error("JsonService.postForm: Error parsing JSON response",H.message),void ee(H)}ee(Error("Invalid response Content-Type: "+M+", from URL: "+y))}},Y.onerror=function(){A.Log.error("JsonService.postForm: network error"),ee(Error("Network Error"))};var I="";for(var X in v){var O=v[X];O&&(I.length>0&&(I+="&"),I+=encodeURIComponent(X),I+="=",I+=encodeURIComponent(O))}Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),R!==void 0&&Y.setRequestHeader("Authorization","Basic "+btoa(R)),Y.send(I)})},T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SigninRequest=void 0;var A=m(0),S=m(3),D=m(13);c.SigninRequest=function(){function T(g){var y=g.url,v=g.client_id,R=g.redirect_uri,P=g.response_type,k=g.scope,ee=g.authority,Y=g.data,K=g.prompt,I=g.display,X=g.max_age,O=g.ui_locales,j=g.id_token_hint,M=g.login_hint,H=g.acr_values,le=g.resource,_e=g.response_mode,J=g.request,Ae=g.request_uri,Ke=g.extraQueryParams,We=g.request_type,Ct=g.client_secret,rt=g.extraTokenParams,Se=g.skipUserInfo;if(function(Re,Me){if(!(Re instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,T),!y)throw A.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!v)throw A.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!R)throw A.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!P)throw A.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!k)throw A.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!ee)throw A.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var Fe=T.isOidc(P),Ne=T.isCode(P);_e||(_e=T.isCode(P)?"query":null),this.state=new D.SigninState({nonce:Fe,data:Y,client_id:v,authority:ee,redirect_uri:R,code_verifier:Ne,request_type:We,response_mode:_e,client_secret:Ct,scope:k,extraTokenParams:rt,skipUserInfo:Se}),y=S.UrlUtility.addQueryParam(y,"client_id",v),y=S.UrlUtility.addQueryParam(y,"redirect_uri",R),y=S.UrlUtility.addQueryParam(y,"response_type",P),y=S.UrlUtility.addQueryParam(y,"scope",k),y=S.UrlUtility.addQueryParam(y,"state",this.state.id),Fe&&(y=S.UrlUtility.addQueryParam(y,"nonce",this.state.nonce)),Ne&&(y=S.UrlUtility.addQueryParam(y,"code_challenge",this.state.code_challenge),y=S.UrlUtility.addQueryParam(y,"code_challenge_method","S256"));var ke={prompt:K,display:I,max_age:X,ui_locales:O,id_token_hint:j,login_hint:M,acr_values:H,resource:le,request:J,request_uri:Ae,response_mode:_e};for(var $ in ke)ke[$]&&(y=S.UrlUtility.addQueryParam(y,$,ke[$]));for(var Ee in Ke)y=S.UrlUtility.addQueryParam(y,Ee,Ke[Ee]);this.url=y}return T.isOidc=function(y){return!!y.split(/\s+/g).filter(function(v){return v==="id_token"})[0]},T.isOAuth=function(y){return!!y.split(/\s+/g).filter(function(v){return v==="token"})[0]},T.isCode=function(y){return!!y.split(/\s+/g).filter(function(v){return v==="code"})[0]},T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.State=void 0;var A=function(){function g(y,v){for(var R=0;R<v.length;R++){var P=v[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,v,R){return v&&g(y.prototype,v),R&&g(y,R),y}}(),S=m(0),D=function(y){return y&&y.__esModule?y:{default:y}}(m(14));function T(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}c.State=function(){function g(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=y.id,R=y.data,P=y.created,k=y.request_type;T(this,g),this._id=v||(0,D.default)(),this._data=R,this._created=typeof P=="number"&&P>0?P:parseInt(Date.now()/1e3),this._request_type=k}return g.prototype.toStorageString=function(){return S.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},g.fromStorageString=function(v){return S.Log.debug("State.fromStorageString"),new g(JSON.parse(v))},g.clearStaleState=function(v,R){var P=Date.now()/1e3-R;return v.getAllKeys().then(function(k){S.Log.debug("State.clearStaleState: got keys",k);for(var ee=[],Y=function(O){var j=k[O];I=v.get(j).then(function(M){var H=!1;if(M)try{var le=g.fromStorageString(M);S.Log.debug("State.clearStaleState: got item from key: ",j,le.created),le.created<=P&&(H=!0)}catch(_e){S.Log.error("State.clearStaleState: Error parsing state for key",j,_e.message),H=!0}else S.Log.debug("State.clearStaleState: no item in storage for key: ",j),H=!0;if(H)return S.Log.debug("State.clearStaleState: removed item for key: ",j),v.remove(j)}),ee.push(I)},K=0;K<k.length;K++){var I;Y(K)}return S.Log.debug("State.clearStaleState: waiting on promise count:",ee.length),Promise.all(ee)})},A(g,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),g}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.OidcClient=void 0;var A=function(){function Y(K,I){for(var X=0;X<I.length;X++){var O=I[X];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(K,O.key,O)}}return function(K,I,X){return I&&Y(K.prototype,I),X&&Y(K,X),K}}(),S=m(0),D=m(5),T=m(12),g=m(8),y=m(34),v=m(35),R=m(36),P=m(13),k=m(9);function ee(Y,K){if(!(Y instanceof K))throw new TypeError("Cannot call a class as a function")}c.OidcClient=function(){function Y(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ee(this,Y),K instanceof D.OidcClientSettings?this._settings=K:this._settings=new D.OidcClientSettings(K)}return Y.prototype.createSigninRequest=function(){var I=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=X.response_type,j=X.scope,M=X.redirect_uri,H=X.data,le=X.state,_e=X.prompt,J=X.display,Ae=X.max_age,Ke=X.ui_locales,We=X.id_token_hint,Ct=X.login_hint,rt=X.acr_values,Se=X.resource,Fe=X.request,Ne=X.request_uri,ke=X.response_mode,$=X.extraQueryParams,Ee=X.extraTokenParams,Ce=X.request_type,Re=X.skipUserInfo,Me=arguments[1];S.Log.debug("OidcClient.createSigninRequest");var Xe=this._settings.client_id;O=O||this._settings.response_type,j=j||this._settings.scope,M=M||this._settings.redirect_uri,_e=_e||this._settings.prompt,J=J||this._settings.display,Ae=Ae||this._settings.max_age,Ke=Ke||this._settings.ui_locales,rt=rt||this._settings.acr_values,Se=Se||this._settings.resource,ke=ke||this._settings.response_mode,$=$||this._settings.extraQueryParams,Ee=Ee||this._settings.extraTokenParams;var Ie=this._settings.authority;return g.SigninRequest.isCode(O)&&O!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(pt){S.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",pt);var $e=new g.SigninRequest({url:pt,client_id:Xe,redirect_uri:M,response_type:O,scope:j,data:H||le,authority:Ie,prompt:_e,display:J,max_age:Ae,ui_locales:Ke,id_token_hint:We,login_hint:Ct,acr_values:rt,resource:Se,request:Fe,request_uri:Ne,extraQueryParams:$,extraTokenParams:Ee,request_type:Ce,response_mode:ke,client_secret:I._settings.client_secret,skipUserInfo:Re}),Ft=$e.state;return(Me=Me||I._stateStore).set(Ft.id,Ft.toStorageString()).then(function(){return $e})})},Y.prototype.readSigninResponseState=function(I,X){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];S.Log.debug("OidcClient.readSigninResponseState");var j=this._settings.response_mode==="query"||!this._settings.response_mode&&g.SigninRequest.isCode(this._settings.response_type),M=j?"?":"#",H=new y.SigninResponse(I,M);if(!H.state)return S.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));X=X||this._stateStore;var le=O?X.remove.bind(X):X.get.bind(X);return le(H.state).then(function(_e){if(!_e)throw S.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:P.SigninState.fromStorageString(_e),response:H}})},Y.prototype.processSigninResponse=function(I,X){var O=this;return S.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(I,X,!0).then(function(j){var M=j.state,H=j.response;return S.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),O._validator.validateSigninResponse(M,H)})},Y.prototype.createSignoutRequest=function(){var I=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=X.id_token_hint,j=X.data,M=X.state,H=X.post_logout_redirect_uri,le=X.extraQueryParams,_e=X.request_type,J=arguments[1];return S.Log.debug("OidcClient.createSignoutRequest"),H=H||this._settings.post_logout_redirect_uri,le=le||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Ae){if(!Ae)throw S.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");S.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Ae);var Ke=new v.SignoutRequest({url:Ae,id_token_hint:O,post_logout_redirect_uri:H,data:j||M,extraQueryParams:le,request_type:_e}),We=Ke.state;return We&&(S.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(J=J||I._stateStore).set(We.id,We.toStorageString())),Ke})},Y.prototype.readSignoutResponseState=function(I,X){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];S.Log.debug("OidcClient.readSignoutResponseState");var j=new R.SignoutResponse(I);if(!j.state)return S.Log.debug("OidcClient.readSignoutResponseState: No state in response"),j.error?(S.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",j.error),Promise.reject(new T.ErrorResponse(j))):Promise.resolve({state:void 0,response:j});var M=j.state;X=X||this._stateStore;var H=O?X.remove.bind(X):X.get.bind(X);return H(M).then(function(le){if(!le)throw S.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:k.State.fromStorageString(le),response:j}})},Y.prototype.processSignoutResponse=function(I,X){var O=this;return S.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(I,X,!0).then(function(j){var M=j.state,H=j.response;return M?(S.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),O._validator.validateSignoutResponse(M,H)):(S.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),H)})},Y.prototype.clearStaleState=function(I){return S.Log.debug("OidcClient.clearStaleState"),I=I||this._stateStore,k.State.clearStaleState(I,this.settings.staleStateAge)},A(Y,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),Y}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.TokenClient=void 0;var A=m(7),S=m(2),D=m(0);function T(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}c.TokenClient=function(){function g(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.JsonService,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.MetadataService;if(T(this,g),!y)throw D.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new v,this._metadataService=new R(this._settings)}return g.prototype.exchangeCode=function(){var v=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(R=Object.assign({},R)).grant_type=R.grant_type||"authorization_code",R.client_id=R.client_id||this._settings.client_id,R.client_secret=R.client_secret||this._settings.client_secret,R.redirect_uri=R.redirect_uri||this._settings.redirect_uri;var P=void 0,k=R._client_authentication||this._settings._client_authentication;return delete R._client_authentication,R.code?R.redirect_uri?R.code_verifier?R.client_id?R.client_secret||k!="client_secret_basic"?(k=="client_secret_basic"&&(P=R.client_id+":"+R.client_secret,delete R.client_id,delete R.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(ee){return D.Log.debug("TokenClient.exchangeCode: Received token endpoint"),v._jsonService.postForm(ee,R,P).then(function(Y){return D.Log.debug("TokenClient.exchangeCode: response received"),Y})})):(D.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(D.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(D.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(D.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(D.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},g.prototype.exchangeRefreshToken=function(){var v=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(R=Object.assign({},R)).grant_type=R.grant_type||"refresh_token",R.client_id=R.client_id||this._settings.client_id,R.client_secret=R.client_secret||this._settings.client_secret;var P=void 0,k=R._client_authentication||this._settings._client_authentication;return delete R._client_authentication,R.refresh_token?R.client_id?(k=="client_secret_basic"&&(P=R.client_id+":"+R.client_secret,delete R.client_id,delete R.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(ee){return D.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),v._jsonService.postForm(ee,R,P).then(function(Y){return D.Log.debug("TokenClient.exchangeRefreshToken: response received"),Y})})):(D.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(D.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},g}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.ErrorResponse=void 0;var A=m(0);function S(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}function D(T,g){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?T:g}c.ErrorResponse=function(T){function g(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=y.error,R=y.error_description,P=y.error_uri,k=y.state,ee=y.session_state;if(S(this,g),!v)throw A.Log.error("No error passed to ErrorResponse"),new Error("error");var Y=D(this,T.call(this,R||v));return Y.name="ErrorResponse",Y.error=v,Y.error_description=R,Y.error_uri=P,Y.state=k,Y.session_state=ee,Y}return function(v,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);v.prototype=Object.create(R&&R.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(v,R):v.__proto__=R)}(g,T),g}(Error)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SigninState=void 0;var A=function(){function R(P,k){for(var ee=0;ee<k.length;ee++){var Y=k[ee];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(P,Y.key,Y)}}return function(P,k,ee){return k&&R(P.prototype,k),ee&&R(P,ee),P}}(),S=m(0),D=m(9),T=m(4),g=function(P){return P&&P.__esModule?P:{default:P}}(m(14));function y(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function v(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?R:P}c.SigninState=function(R){function P(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=k.nonce,Y=k.authority,K=k.client_id,I=k.redirect_uri,X=k.code_verifier,O=k.response_mode,j=k.client_secret,M=k.scope,H=k.extraTokenParams,le=k.skipUserInfo;y(this,P);var _e=v(this,R.call(this,arguments[0]));if(ee===!0?_e._nonce=(0,g.default)():ee&&(_e._nonce=ee),X===!0?_e._code_verifier=(0,g.default)()+(0,g.default)()+(0,g.default)():X&&(_e._code_verifier=X),_e.code_verifier){var J=T.JoseUtil.hashString(_e.code_verifier,"SHA256");_e._code_challenge=T.JoseUtil.hexToBase64Url(J)}return _e._redirect_uri=I,_e._authority=Y,_e._client_id=K,_e._response_mode=O,_e._client_secret=j,_e._scope=M,_e._extraTokenParams=H,_e._skipUserInfo=le,_e}return function(ee,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);ee.prototype=Object.create(Y&&Y.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,Y):ee.__proto__=Y)}(P,R),P.prototype.toStorageString=function(){return S.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},P.fromStorageString=function(ee){return S.Log.debug("SigninState.fromStorageString"),new P(JSON.parse(ee))},A(P,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),P}(D.State)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){return(A!="undefined"&&A!==null&&A.getRandomValues!==void 0?S:D)().replace(/-/g,"")};var A=typeof window<"u"?window.crypto||window.msCrypto:null;function S(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(T){return(T^A.getRandomValues(new Uint8Array(1))[0]&15>>T/4).toString(16)})}function D(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(T){return(T^16*Math.random()>>T/4).toString(16)})}p.exports=c.default},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.User=void 0;var A=function(){function D(T,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}return function(T,g,y){return g&&D(T.prototype,g),y&&D(T,y),T}}(),S=m(0);c.User=function(){function D(T){var g=T.id_token,y=T.session_state,v=T.access_token,R=T.refresh_token,P=T.token_type,k=T.scope,ee=T.profile,Y=T.expires_at,K=T.state;(function(X,O){if(!(X instanceof O))throw new TypeError("Cannot call a class as a function")})(this,D),this.id_token=g,this.session_state=y,this.access_token=v,this.refresh_token=R,this.token_type=P,this.scope=k,this.profile=ee,this.expires_at=Y,this.state=K}return D.prototype.toStorageString=function(){return S.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},D.fromStorageString=function(g){return S.Log.debug("User.fromStorageString"),new D(JSON.parse(g))},A(D,[{key:"expires_in",get:function(){if(this.expires_at){var g=parseInt(Date.now()/1e3);return this.expires_at-g}},set:function(g){var y=parseInt(g);if(typeof y=="number"&&y>0){var v=parseInt(Date.now()/1e3);this.expires_at=v+y}}},{key:"expired",get:function(){var g=this.expires_in;if(g!==void 0)return g<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.AccessTokenEvents=void 0;var A=m(0),S=m(46);function D(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}c.AccessTokenEvents=function(){function T(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=g.accessTokenExpiringNotificationTime,v=y===void 0?60:y,R=g.accessTokenExpiringTimer,P=R===void 0?new S.Timer("Access token expiring"):R,k=g.accessTokenExpiredTimer,ee=k===void 0?new S.Timer("Access token expired"):k;D(this,T),this._accessTokenExpiringNotificationTime=v,this._accessTokenExpiring=P,this._accessTokenExpired=ee}return T.prototype.load=function(y){if(y.access_token&&y.expires_in!==void 0){var v=y.expires_in;if(A.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",v),v>0){var R=v-this._accessTokenExpiringNotificationTime;R<=0&&(R=1),A.Log.debug("AccessTokenEvents.load: registering expiring timer in:",R),this._accessTokenExpiring.init(R)}else A.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var P=v+1;A.Log.debug("AccessTokenEvents.load: registering expired timer in:",P),this._accessTokenExpired.init(P)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},T.prototype.unload=function(){A.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},T.prototype.addAccessTokenExpiring=function(y){this._accessTokenExpiring.addHandler(y)},T.prototype.removeAccessTokenExpiring=function(y){this._accessTokenExpiring.removeHandler(y)},T.prototype.addAccessTokenExpired=function(y){this._accessTokenExpired.addHandler(y)},T.prototype.removeAccessTokenExpired=function(y){this._accessTokenExpired.removeHandler(y)},T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.Event=void 0;var A=m(0);c.Event=function(){function S(D){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,S),this._name=D,this._callbacks=[]}return S.prototype.addHandler=function(T){this._callbacks.push(T)},S.prototype.removeHandler=function(T){var g=this._callbacks.findIndex(function(y){return y===T});g>=0&&this._callbacks.splice(g,1)},S.prototype.raise=function(){A.Log.debug("Event: Raising event: "+this._name);for(var T=0;T<this._callbacks.length;T++){var g;(g=this._callbacks)[T].apply(g,arguments)}},S}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SessionMonitor=void 0;var A=function(){function y(v,R){for(var P=0;P<R.length;P++){var k=R[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,R,P){return R&&y(v.prototype,R),P&&y(v,P),v}}(),S=m(0),D=m(19),T=m(1);function g(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}c.SessionMonitor=function(){function y(v){var R=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.CheckSessionIFrame,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.Global.timer;if(g(this,y),!v)throw S.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=v,this._CheckSessionIFrameCtor=P,this._timer=k,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(ee){ee?R._start(ee):R._settings.monitorAnonymousSession&&R._userManager.querySessionStatus().then(function(Y){var K={session_state:Y.session_state};Y.sub&&Y.sid&&(K.profile={sub:Y.sub,sid:Y.sid}),R._start(K)}).catch(function(Y){S.Log.error("SessionMonitor ctor: error from querySessionStatus:",Y.message)})}).catch(function(ee){S.Log.error("SessionMonitor ctor: error from getUser:",ee.message)}))}return y.prototype._start=function(R){var P=this,k=R.session_state;k&&(R.profile?(this._sub=R.profile.sub,this._sid=R.profile.sid,S.Log.debug("SessionMonitor._start: session_state:",k,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,S.Log.debug("SessionMonitor._start: session_state:",k,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(k):this._metadataService.getCheckSessionIframe().then(function(ee){if(ee){S.Log.debug("SessionMonitor._start: Initializing check session iframe");var Y=P._client_id,K=P._checkSessionInterval,I=P._stopCheckSessionOnError;P._checkSessionIFrame=new P._CheckSessionIFrameCtor(P._callback.bind(P),Y,ee,K,I),P._checkSessionIFrame.load().then(function(){P._checkSessionIFrame.start(k)})}else S.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(ee){S.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",ee.message)}))},y.prototype._stop=function(){var R=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(S.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var P=this._timer.setInterval(function(){R._timer.clearInterval(P),R._userManager.querySessionStatus().then(function(k){var ee={session_state:k.session_state};k.sub&&k.sid&&(ee.profile={sub:k.sub,sid:k.sid}),R._start(ee)}).catch(function(k){S.Log.error("SessionMonitor: error from querySessionStatus:",k.message)})},1e3)},y.prototype._callback=function(){var R=this;this._userManager.querySessionStatus().then(function(P){var k=!0;P?P.sub===R._sub?(k=!1,R._checkSessionIFrame.start(P.session_state),P.sid===R._sid?S.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",P.session_state):(S.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",P.session_state),R._userManager.events._raiseUserSessionChanged())):S.Log.debug("SessionMonitor._callback: Different subject signed into OP:",P.sub):S.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),k&&(R._sub?(S.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),R._userManager.events._raiseUserSignedOut()):(S.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),R._userManager.events._raiseUserSignedIn()))}).catch(function(P){R._sub&&(S.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",P.message),R._userManager.events._raiseUserSignedOut())})},A(y,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),y}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.CheckSessionIFrame=void 0;var A=m(0);function S(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")}c.CheckSessionIFrame=function(){function D(T,g,y,v){var R=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];S(this,D),this._callback=T,this._client_id=g,this._url=y,this._interval=v||2e3,this._stopOnError=R;var P=y.indexOf("/",y.indexOf("//")+2);this._frame_origin=y.substr(0,P),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=y}return D.prototype.load=function(){var g=this;return new Promise(function(y){g._frame.onload=function(){y()},window.document.body.appendChild(g._frame),g._boundMessageEvent=g._message.bind(g),window.addEventListener("message",g._boundMessageEvent,!1)})},D.prototype._message=function(g){g.origin===this._frame_origin&&g.source===this._frame.contentWindow&&(g.data==="error"?(A.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):g.data==="changed"?(A.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):A.Log.debug("CheckSessionIFrame: "+g.data+" message from check session op iframe"))},D.prototype.start=function(g){var y=this;if(this._session_state!==g){A.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=g;var v=function(){y._frame.contentWindow.postMessage(y._client_id+" "+y._session_state,y._frame_origin)};v(),this._timer=window.setInterval(v,this._interval)}},D.prototype.stop=function(){this._session_state=null,this._timer&&(A.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.TokenRevocationClient=void 0;var A=m(0),S=m(2),D=m(1);function T(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")}var g="access_token",y="refresh_token";c.TokenRevocationClient=function(){function v(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.Global.XMLHttpRequest,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.MetadataService;if(T(this,v),!R)throw A.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=R,this._XMLHttpRequestCtor=P,this._metadataService=new k(this._settings)}return v.prototype.revoke=function(P,k){var ee=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!P)throw A.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(Y!==g&&Y!=y)throw A.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(K){if(K){A.Log.debug("TokenRevocationClient.revoke: Revoking "+Y);var I=ee._settings.client_id,X=ee._settings.client_secret;return ee._revoke(K,I,X,P,Y)}if(k)throw A.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},v.prototype._revoke=function(P,k,ee,Y,K){var I=this;return new Promise(function(X,O){var j=new I._XMLHttpRequestCtor;j.open("POST",P),j.onload=function(){A.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",j.status),j.status===200?X():O(Error(j.statusText+" ("+j.status+")"))},j.onerror=function(){A.Log.debug("TokenRevocationClient.revoke: Network Error."),O("Network Error")};var M="client_id="+encodeURIComponent(k);ee&&(M+="&client_secret="+encodeURIComponent(ee)),M+="&token_type_hint="+encodeURIComponent(K),M+="&token="+encodeURIComponent(Y),j.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),j.send(M)})},v}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.CordovaPopupWindow=void 0;var A=function(){function D(T,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}return function(T,g,y){return g&&D(T.prototype,g),y&&D(T,y),T}}(),S=m(0);c.CordovaPopupWindow=function(){function D(T){var g=this;(function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")})(this,D),this._promise=new Promise(function(y,v){g._resolve=y,g._reject=v}),this.features=T.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=T.popupWindowTarget||"_blank",this.redirect_uri=T.startUrl,S.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return D.prototype._isInAppBrowserInstalled=function(g){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(y){return g.hasOwnProperty(y)})},D.prototype.navigate=function(g){if(g&&g.url){if(!window.cordova)return this._error("cordova is undefined");var y=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(y)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(g.url,this.target,this.features),this._popup?(S.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},D.prototype._loadStartCallback=function(g){g.url.indexOf(this.redirect_uri)===0&&this._success({url:g.url})},D.prototype._exitCallback=function(g){this._error(g)},D.prototype._success=function(g){this._cleanup(),S.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(g)},D.prototype._error=function(g){this._cleanup(),S.Log.error(g),this._reject(new Error(g))},D.prototype.close=function(){this._cleanup()},D.prototype._cleanup=function(){this._popup&&(S.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},A(D,[{key:"promise",get:function(){return this._promise}}]),D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0});var A=m(0),S=m(10),D=m(5),T=m(6),g=m(37),y=m(38),v=m(16),R=m(2),P=m(48),k=m(49),ee=m(19),Y=m(20),K=m(18),I=m(1),X=m(15),O=m(50);c.default={Version:O.Version,Log:A.Log,OidcClient:S.OidcClient,OidcClientSettings:D.OidcClientSettings,WebStorageStateStore:T.WebStorageStateStore,InMemoryWebStorage:g.InMemoryWebStorage,UserManager:y.UserManager,AccessTokenEvents:v.AccessTokenEvents,MetadataService:R.MetadataService,CordovaPopupNavigator:P.CordovaPopupNavigator,CordovaIFrameNavigator:k.CordovaIFrameNavigator,CheckSessionIFrame:ee.CheckSessionIFrame,TokenRevocationClient:Y.TokenRevocationClient,SessionMonitor:K.SessionMonitor,Global:I.Global,User:X.User},p.exports=c.default},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.ClockService=function(){function A(){(function(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")})(this,A)}return A.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},A}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.ResponseValidator=void 0;var A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},S=m(0),D=m(2),T=m(25),g=m(11),y=m(12),v=m(4);function R(k,ee){if(!(k instanceof ee))throw new TypeError("Cannot call a class as a function")}var P=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];c.ResponseValidator=function(){function k(ee){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.MetadataService,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.UserInfoService,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.JoseUtil,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:g.TokenClient;if(R(this,k),!ee)throw S.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=ee,this._metadataService=new Y(this._settings),this._userInfoService=new K(this._settings),this._joseUtil=I,this._tokenClient=new X(this._settings)}return k.prototype.validateSigninResponse=function(Y,K){var I=this;return S.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(Y,K).then(function(X){return S.Log.debug("ResponseValidator.validateSigninResponse: state processed"),I._validateTokens(Y,X).then(function(O){return S.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),I._processClaims(Y,O).then(function(j){return S.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),j})})})},k.prototype.validateSignoutResponse=function(Y,K){return Y.id!==K.state?(S.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(S.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),K.state=Y.data,K.error?(S.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",K.error),Promise.reject(new y.ErrorResponse(K))):Promise.resolve(K))},k.prototype._processSigninParams=function(Y,K){if(Y.id!==K.state)return S.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!Y.client_id)return S.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!Y.authority)return S.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==Y.authority)return S.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=Y.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==Y.client_id)return S.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=Y.client_id;return S.Log.debug("ResponseValidator._processSigninParams: state validated"),K.state=Y.data,K.error?(S.Log.warn("ResponseValidator._processSigninParams: Response was error",K.error),Promise.reject(new y.ErrorResponse(K))):Y.nonce&&!K.id_token?(S.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!Y.nonce&&K.id_token?(S.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):Y.code_verifier&&!K.code?(S.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!Y.code_verifier&&K.code?(S.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(K.scope||(K.scope=Y.scope),Promise.resolve(K))},k.prototype._processClaims=function(Y,K){var I=this;if(K.isOpenIdConnect){if(S.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),K.profile=this._filterProtocolClaims(K.profile),Y.skipUserInfo!==!0&&this._settings.loadUserInfo&&K.access_token)return S.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(K.access_token).then(function(X){return S.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),X.sub!==K.profile.sub?(S.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(K.profile=I._mergeClaims(K.profile,X),S.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",K.profile),K)});S.Log.debug("ResponseValidator._processClaims: not loading user info")}else S.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(K)},k.prototype._mergeClaims=function(Y,K){var I=Object.assign({},Y);for(var X in K){var O=K[X];Array.isArray(O)||(O=[O]);for(var j=0;j<O.length;j++){var M=O[j];I[X]?Array.isArray(I[X])?I[X].indexOf(M)<0&&I[X].push(M):I[X]!==M&&((M===void 0?"undefined":A(M))==="object"&&this._settings.mergeClaims?I[X]=this._mergeClaims(I[X],M):I[X]=[I[X],M]):I[X]=M}}return I},k.prototype._filterProtocolClaims=function(Y){S.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",Y);var K=Object.assign({},Y);return this._settings._filterProtocolClaims?(P.forEach(function(I){delete K[I]}),S.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",K)):S.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),K},k.prototype._validateTokens=function(Y,K){return K.code?(S.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(Y,K)):K.id_token?K.access_token?(S.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(Y,K)):(S.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(Y,K)):(S.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(K))},k.prototype._processCode=function(Y,K){var I=this,X={client_id:Y.client_id,client_secret:Y.client_secret,code:K.code,redirect_uri:Y.redirect_uri,code_verifier:Y.code_verifier};return Y.extraTokenParams&&A(Y.extraTokenParams)==="object"&&Object.assign(X,Y.extraTokenParams),this._tokenClient.exchangeCode(X).then(function(O){for(var j in O)K[j]=O[j];return K.id_token?(S.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),I._validateIdTokenAttributes(Y,K)):(S.Log.debug("ResponseValidator._processCode: token response successful, returning response"),K)})},k.prototype._validateIdTokenAttributes=function(Y,K){var I=this;return this._metadataService.getIssuer().then(function(X){var O=Y.client_id,j=I._settings.clockSkew;return S.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",j),I._settings.getEpochTime().then(function(M){return I._joseUtil.validateJwtAttributes(K.id_token,X,O,j,M).then(function(H){return Y.nonce&&Y.nonce!==H.nonce?(S.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):H.sub?(K.profile=H,K):(S.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},k.prototype._validateIdTokenAndAccessToken=function(Y,K){var I=this;return this._validateIdToken(Y,K).then(function(X){return I._validateAccessToken(X)})},k.prototype._getSigningKeyForJwt=function(Y){var K=this;return this._metadataService.getSigningKeys().then(function(I){var X=Y.header.kid;if(!I)return S.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));S.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var O=void 0;if(X)O=I.filter(function(j){return j.kid===X})[0];else{if((I=K._filterByAlg(I,Y.header.alg)).length>1)return S.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));O=I[0]}return Promise.resolve(O)})},k.prototype._getSigningKeyForJwtWithSingleRetry=function(Y){var K=this;return this._getSigningKeyForJwt(Y).then(function(I){return I?Promise.resolve(I):(K._metadataService.resetSigningKeys(),K._getSigningKeyForJwt(Y))})},k.prototype._validateIdToken=function(Y,K){var I=this;if(!Y.nonce)return S.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var X=this._joseUtil.parseJwt(K.id_token);return X&&X.header&&X.payload?Y.nonce!==X.payload.nonce?(S.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(O){return S.Log.debug("ResponseValidator._validateIdToken: Received issuer"),I._getSigningKeyForJwtWithSingleRetry(X).then(function(j){if(!j)return S.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var M=Y.client_id,H=I._settings.clockSkew;return S.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",H),I._joseUtil.validateJwt(K.id_token,j,O,M,H).then(function(){return S.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),X.payload.sub?(K.profile=X.payload,K):(S.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(S.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",X),Promise.reject(new Error("Failed to parse id_token")))},k.prototype._filterByAlg=function(Y,K){var I=null;if(K.startsWith("RS"))I="RSA";else if(K.startsWith("PS"))I="PS";else{if(!K.startsWith("ES"))return S.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",K),[];I="EC"}return S.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",I),Y=Y.filter(function(X){return X.kty===I}),S.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",I,Y.length),Y},k.prototype._validateAccessToken=function(Y){if(!Y.profile)return S.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!Y.profile.at_hash)return S.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!Y.id_token)return S.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var K=this._joseUtil.parseJwt(Y.id_token);if(!K||!K.header)return S.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",K),Promise.reject(new Error("Failed to parse id_token"));var I=K.header.alg;if(!I||I.length!==5)return S.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I),Promise.reject(new Error("Unsupported alg: "+I));var X=I.substr(2,3);if(!X)return S.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I,X),Promise.reject(new Error("Unsupported alg: "+I));if((X=parseInt(X))!==256&&X!==384&&X!==512)return S.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I,X),Promise.reject(new Error("Unsupported alg: "+I));var O="sha"+X,j=this._joseUtil.hashString(Y.access_token,O);if(!j)return S.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",O),Promise.reject(new Error("Failed to validate at_hash"));var M=j.substr(0,j.length/2),H=this._joseUtil.hexToBase64Url(M);return H!==Y.profile.at_hash?(S.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",H,Y.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(S.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(Y))},k}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.UserInfoService=void 0;var A=m(7),S=m(2),D=m(0),T=m(4);function g(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}c.UserInfoService=function(){function y(v){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.JsonService,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.MetadataService,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T.JoseUtil;if(g(this,y),!v)throw D.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=v,this._jsonService=new R(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new P(this._settings),this._joseUtil=k}return y.prototype.getClaims=function(R){var P=this;return R?this._metadataService.getUserInfoEndpoint().then(function(k){return D.Log.debug("UserInfoService.getClaims: received userinfo url",k),P._jsonService.getJson(k,R).then(function(ee){return D.Log.debug("UserInfoService.getClaims: claims received",ee),ee})}):(D.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},y.prototype._getClaimsFromJwt=function(R){var P=this;try{var k=this._joseUtil.parseJwt(R.responseText);if(!k||!k.header||!k.payload)return D.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",k),Promise.reject(new Error("Failed to parse id_token"));var ee=k.header.kid,Y=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":Y=this._metadataService.getIssuer();break;case"ANY":Y=Promise.resolve(k.payload.iss);break;default:Y=Promise.resolve(this._settings.userInfoJwtIssuer)}return Y.then(function(K){return D.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+K),P._metadataService.getSigningKeys().then(function(I){if(!I)return D.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));D.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var X=void 0;if(ee)X=I.filter(function(M){return M.kid===ee})[0];else{if((I=P._filterByAlg(I,k.header.alg)).length>1)return D.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));X=I[0]}if(!X)return D.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var O=P._settings.client_id,j=P._settings.clockSkew;return D.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",j),P._joseUtil.validateJwt(R.responseText,X,K,O,j,void 0,!0).then(function(){return D.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),k.payload})})})}catch(K){return D.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",K.message),void reject(K)}},y.prototype._filterByAlg=function(R,P){var k=null;if(P.startsWith("RS"))k="RSA";else if(P.startsWith("PS"))k="PS";else{if(!P.startsWith("ES"))return D.Log.debug("UserInfoService._filterByAlg: alg not supported: ",P),[];k="EC"}return D.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",k),R=R.filter(function(ee){return ee.kty===k}),D.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",k,R.length),R},y}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.AllowedSigningAlgs=c.b64tohex=c.hextob64u=c.crypto=c.X509=c.KeyUtil=c.jws=void 0;var A=m(27);c.jws=A.jws,c.KeyUtil=A.KEYUTIL,c.X509=A.X509,c.crypto=A.crypto,c.hextob64u=A.hextob64u,c.b64tohex=A.b64tohex,c.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(p,c,m){(function(A){Object.defineProperty(c,"__esModule",{value:!0});var S,D,T,g,y,v,R,P,k,ee,Y,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I={},X={},O=O||(S=Math,T=(D={}).lib={},g=T.Base=function(){function a(){}return{extend:function(o){a.prototype=this;var u=new a;return o&&u.mixIn(o),u.hasOwnProperty("init")||(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var o=this.extend();return o.init.apply(o,arguments),o},init:function(){},mixIn:function(o){for(var u in o)o.hasOwnProperty(u)&&(this[u]=o[u]);o.hasOwnProperty("toString")&&(this.toString=o.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=T.WordArray=g.extend({init:function(i,o){i=this.words=i||[],this.sigBytes=o??4*i.length},toString:function(i){return(i||R).stringify(this)},concat:function(i){var o=this.words,u=i.words,d=this.sigBytes,_=i.sigBytes;if(this.clamp(),d%4)for(var F=0;F<_;F++){var B=u[F>>>2]>>>24-F%4*8&255;o[d+F>>>2]|=B<<24-(d+F)%4*8}else for(F=0;F<_;F+=4)o[d+F>>>2]=u[F>>>2];return this.sigBytes+=_,this},clamp:function(){var i=this.words,o=this.sigBytes;i[o>>>2]&=4294967295<<32-o%4*8,i.length=S.ceil(o/4)},clone:function(){var i=g.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var o=[],u=0;u<i;u+=4)o.push(4294967296*S.random()|0);return new y.init(o,i)}}),v=D.enc={},R=v.Hex={stringify:function(i){for(var o=i.words,u=i.sigBytes,d=[],_=0;_<u;_++){var F=o[_>>>2]>>>24-_%4*8&255;d.push((F>>>4).toString(16)),d.push((15&F).toString(16))}return d.join("")},parse:function(i){for(var o=i.length,u=[],d=0;d<o;d+=2)u[d>>>3]|=parseInt(i.substr(d,2),16)<<24-d%8*4;return new y.init(u,o/2)}},P=v.Latin1={stringify:function(i){for(var o=i.words,u=i.sigBytes,d=[],_=0;_<u;_++){var F=o[_>>>2]>>>24-_%4*8&255;d.push(String.fromCharCode(F))}return d.join("")},parse:function(i){for(var o=i.length,u=[],d=0;d<o;d++)u[d>>>2]|=(255&i.charCodeAt(d))<<24-d%4*8;return new y.init(u,o)}},k=v.Utf8={stringify:function(i){try{return decodeURIComponent(escape(P.stringify(i)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(i){return P.parse(unescape(encodeURIComponent(i)))}},ee=T.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=k.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var o=this._data,u=o.words,d=o.sigBytes,_=this.blockSize,F=d/(4*_),B=(F=i?S.ceil(F):S.max((0|F)-this._minBufferSize,0))*_,N=S.min(4*B,d);if(B){for(var L=0;L<B;L+=_)this._doProcessBlock(u,L);var V=u.splice(0,B);o.sigBytes-=N}return new y.init(V,N)},clone:function(){var i=g.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0}),T.Hasher=ee.extend({cfg:g.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){ee.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(o,u){return new i.init(u).finalize(o)}},_createHmacHelper:function(i){return function(o,u){return new Y.HMAC.init(i,u).finalize(o)}}}),Y=D.algo={},D);(function(a){var i,o=(i=O).lib,u=o.Base,d=o.WordArray;(i=i.x64={}).Word=u.extend({init:function(F,B){this.high=F,this.low=B}}),i.WordArray=u.extend({init:function(F,B){F=this.words=F||[],this.sigBytes=B??8*F.length},toX32:function(){for(var F=this.words,B=F.length,N=[],L=0;L<B;L++){var V=F[L];N.push(V.high),N.push(V.low)}return d.create(N,this.sigBytes)},clone:function(){for(var F=u.clone.call(this),B=F.words=this.words.slice(0),N=B.length,L=0;L<N;L++)B[L]=B[L].clone();return F}})})(),function(){var a=O,i=a.lib.WordArray;a.enc.Base64={stringify:function(u){var d=u.words,_=u.sigBytes,F=this._map;u.clamp(),u=[];for(var B=0;B<_;B+=3)for(var N=(d[B>>>2]>>>24-B%4*8&255)<<16|(d[B+1>>>2]>>>24-(B+1)%4*8&255)<<8|d[B+2>>>2]>>>24-(B+2)%4*8&255,L=0;4>L&&B+.75*L<_;L++)u.push(F.charAt(N>>>6*(3-L)&63));if(d=F.charAt(64))for(;u.length%4;)u.push(d);return u.join("")},parse:function(u){var d=u.length,_=this._map;(F=_.charAt(64))&&(F=u.indexOf(F))!=-1&&(d=F);for(var F=[],B=0,N=0;N<d;N++)if(N%4){var L=_.indexOf(u.charAt(N-1))<<N%4*2,V=_.indexOf(u.charAt(N))>>>6-N%4*2;F[B>>>2]|=(L|V)<<24-B%4*8,B++}return i.create(F,B)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){for(var i=O,o=(d=i.lib).WordArray,u=d.Hasher,d=i.algo,_=[],F=[],B=function(de){return 4294967296*(de-(0|de))|0},N=2,L=0;64>L;){var V;e:{V=N;for(var z=a.sqrt(V),Z=2;Z<=z;Z++)if(!(V%Z)){V=!1;break e}V=!0}V&&(8>L&&(_[L]=B(a.pow(N,.5))),F[L]=B(a.pow(N,1/3)),L++),N++}var ie=[];d=d.SHA256=u.extend({_doReset:function(){this._hash=new o.init(_.slice(0))},_doProcessBlock:function(de,ye){for(var x=this._hash.words,q=x[0],G=x[1],W=x[2],ue=x[3],me=x[4],Oe=x[5],xe=x[6],Qe=x[7],Ue=0;64>Ue;Ue++){if(16>Ue)ie[Ue]=0|de[ye+Ue];else{var Be=ie[Ue-15],ct=ie[Ue-2];ie[Ue]=((Be<<25|Be>>>7)^(Be<<14|Be>>>18)^Be>>>3)+ie[Ue-7]+((ct<<15|ct>>>17)^(ct<<13|ct>>>19)^ct>>>10)+ie[Ue-16]}Be=Qe+((me<<26|me>>>6)^(me<<21|me>>>11)^(me<<7|me>>>25))+(me&Oe^~me&xe)+F[Ue]+ie[Ue],ct=((q<<30|q>>>2)^(q<<19|q>>>13)^(q<<10|q>>>22))+(q&G^q&W^G&W),Qe=xe,xe=Oe,Oe=me,me=ue+Be|0,ue=W,W=G,G=q,q=Be+ct|0}x[0]=x[0]+q|0,x[1]=x[1]+G|0,x[2]=x[2]+W|0,x[3]=x[3]+ue|0,x[4]=x[4]+me|0,x[5]=x[5]+Oe|0,x[6]=x[6]+xe|0,x[7]=x[7]+Qe|0},_doFinalize:function(){var de=this._data,ye=de.words,x=8*this._nDataBytes,q=8*de.sigBytes;return ye[q>>>5]|=128<<24-q%32,ye[14+(q+64>>>9<<4)]=a.floor(x/4294967296),ye[15+(q+64>>>9<<4)]=x,de.sigBytes=4*ye.length,this._process(),this._hash},clone:function(){var de=u.clone.call(this);return de._hash=this._hash.clone(),de}}),i.SHA256=u._createHelper(d),i.HmacSHA256=u._createHmacHelper(d)}(Math),function(){function a(){return u.create.apply(u,arguments)}for(var i=O,o=i.lib.Hasher,u=(_=i.x64).Word,d=_.WordArray,_=i.algo,F=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],B=[],N=0;80>N;N++)B[N]=a();_=_.SHA512=o.extend({_doReset:function(){this._hash=new d.init([new u.init(1779033703,4089235720),new u.init(3144134277,2227873595),new u.init(1013904242,4271175723),new u.init(2773480762,1595750129),new u.init(1359893119,2917565137),new u.init(2600822924,725511199),new u.init(528734635,4215389547),new u.init(1541459225,327033209)])},_doProcessBlock:function(V,z){for(var Z=(G=this._hash.words)[0],ie=G[1],se=G[2],de=G[3],ye=G[4],x=G[5],q=G[6],G=G[7],W=Z.high,ue=Z.low,me=ie.high,Oe=ie.low,xe=se.high,Qe=se.low,Ue=de.high,Be=de.low,ct=ye.high,ht=ye.low,wt=x.high,rn=x.low,en=q.high,Vt=q.low,dt=G.high,Ht=G.low,Lt=W,kt=ue,mr=me,Yn=Oe,qr=xe,Gn=Qe,zr=Ue,Vr=Be,Ut=ct,Qt=ht,Sr=wt,Xn=rn,Ii=en,_r=Vt,yi=dt,Qn=Ht,mn=0;80>mn;mn++){var or=B[mn];if(16>mn)var Wn=or.high=0|V[z+2*mn],Ot=or.low=0|V[z+2*mn+1];else{Wn=((Ot=(Wn=B[mn-15]).high)>>>1|(Zn=Wn.low)<<31)^(Ot>>>8|Zn<<24)^Ot>>>7;var Zn=(Zn>>>1|Ot<<31)^(Zn>>>8|Ot<<24)^(Zn>>>7|Ot<<25),sr=((Ot=(sr=B[mn-2]).high)>>>19|(Jt=sr.low)<<13)^(Ot<<3|Jt>>>29)^Ot>>>6,Jt=(Jt>>>19|Ot<<13)^(Jt<<3|Ot>>>29)^(Jt>>>6|Ot<<26),Fa=(Ot=B[mn-7]).high,br=(Er=B[mn-16]).high,Er=Er.low;Wn=(Wn=(Wn=Wn+Fa+((Ot=Zn+Ot.low)>>>0<Zn>>>0?1:0))+sr+((Ot=Ot+Jt)>>>0<Jt>>>0?1:0))+br+((Ot=Ot+Er)>>>0<Er>>>0?1:0),or.high=Wn,or.low=Ot}Fa=Ut&Sr^~Ut&Ii,Er=Qt&Xn^~Qt&_r,or=Lt&mr^Lt&qr^mr&qr;var Ps=kt&Yn^kt&Gn^Yn&Gn,Ro=(Zn=(Lt>>>28|kt<<4)^(Lt<<30|kt>>>2)^(Lt<<25|kt>>>7),sr=(kt>>>28|Lt<<4)^(kt<<30|Lt>>>2)^(kt<<25|Lt>>>7),(Jt=F[mn]).high),Co=Jt.low;br=yi+((Ut>>>14|Qt<<18)^(Ut>>>18|Qt<<14)^(Ut<<23|Qt>>>9))+((Jt=Qn+((Qt>>>14|Ut<<18)^(Qt>>>18|Ut<<14)^(Qt<<23|Ut>>>9)))>>>0<Qn>>>0?1:0),yi=Ii,Qn=_r,Ii=Sr,_r=Xn,Sr=Ut,Xn=Qt,Ut=zr+(br=(br=(br=br+Fa+((Jt=Jt+Er)>>>0<Er>>>0?1:0))+Ro+((Jt=Jt+Co)>>>0<Co>>>0?1:0))+Wn+((Jt=Jt+Ot)>>>0<Ot>>>0?1:0))+((Qt=Vr+Jt|0)>>>0<Vr>>>0?1:0)|0,zr=qr,Vr=Gn,qr=mr,Gn=Yn,mr=Lt,Yn=kt,Lt=br+(or=Zn+or+((Ot=sr+Ps)>>>0<sr>>>0?1:0))+((kt=Jt+Ot|0)>>>0<Jt>>>0?1:0)|0}ue=Z.low=ue+kt,Z.high=W+Lt+(ue>>>0<kt>>>0?1:0),Oe=ie.low=Oe+Yn,ie.high=me+mr+(Oe>>>0<Yn>>>0?1:0),Qe=se.low=Qe+Gn,se.high=xe+qr+(Qe>>>0<Gn>>>0?1:0),Be=de.low=Be+Vr,de.high=Ue+zr+(Be>>>0<Vr>>>0?1:0),ht=ye.low=ht+Qt,ye.high=ct+Ut+(ht>>>0<Qt>>>0?1:0),rn=x.low=rn+Xn,x.high=wt+Sr+(rn>>>0<Xn>>>0?1:0),Vt=q.low=Vt+_r,q.high=en+Ii+(Vt>>>0<_r>>>0?1:0),Ht=G.low=Ht+Qn,G.high=dt+yi+(Ht>>>0<Qn>>>0?1:0)},_doFinalize:function(){var V=this._data,z=V.words,Z=8*this._nDataBytes,ie=8*V.sigBytes;return z[ie>>>5]|=128<<24-ie%32,z[30+(ie+128>>>10<<5)]=Math.floor(Z/4294967296),z[31+(ie+128>>>10<<5)]=Z,V.sigBytes=4*z.length,this._process(),this._hash.toX32()},clone:function(){var V=o.clone.call(this);return V._hash=this._hash.clone(),V},blockSize:32}),i.SHA512=o._createHelper(_),i.HmacSHA512=o._createHmacHelper(_)}(),function(){var a=O,i=(d=a.x64).Word,o=d.WordArray,u=(d=a.algo).SHA512,d=d.SHA384=u.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var F=u._doFinalize.call(this);return F.sigBytes-=16,F}});a.SHA384=u._createHelper(d),a.HmacSHA384=u._createHmacHelper(d)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var j,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function H(a){var i,o,u="";for(i=0;i+3<=a.length;i+=3)o=parseInt(a.substring(i,i+3),16),u+=M.charAt(o>>6)+M.charAt(63&o);for(i+1==a.length?(o=parseInt(a.substring(i,i+1),16),u+=M.charAt(o<<2)):i+2==a.length&&(o=parseInt(a.substring(i,i+2),16),u+=M.charAt(o>>2)+M.charAt((3&o)<<4)),"=";(3&u.length)>0;)u+="=";return u}function le(a){var i,o,u,d="",_=0;for(i=0;i<a.length&&a.charAt(i)!="=";++i)(u=M.indexOf(a.charAt(i)))<0||(_==0?(d+=rt(u>>2),o=3&u,_=1):_==1?(d+=rt(o<<2|u>>4),o=15&u,_=2):_==2?(d+=rt(o),d+=rt(u>>2),o=3&u,_=3):(d+=rt(o<<2|u>>4),d+=rt(15&u),_=0));return _==1&&(d+=rt(o<<2)),d}function _e(a){var i,o=le(a),u=new Array;for(i=0;2*i<o.length;++i)u[i]=parseInt(o.substring(2*i,2*i+2),16);return u}function J(a,i,o){a!=null&&(typeof a=="number"?this.fromNumber(a,i,o):i==null&&typeof a!="string"?this.fromString(a,256):this.fromString(a,i))}function Ae(){return new J(null)}I.appName=="Microsoft Internet Explorer"?(J.prototype.am=function(i,o,u,d,_,F){for(var B=32767&o,N=o>>15;--F>=0;){var L=32767&this[i],V=this[i++]>>15,z=N*L+V*B;_=((L=B*L+((32767&z)<<15)+u[d]+(1073741823&_))>>>30)+(z>>>15)+N*V+(_>>>30),u[d++]=1073741823&L}return _},j=30):I.appName!="Netscape"?(J.prototype.am=function(i,o,u,d,_,F){for(;--F>=0;){var B=o*this[i++]+u[d]+_;_=Math.floor(B/67108864),u[d++]=67108863&B}return _},j=26):(J.prototype.am=function(i,o,u,d,_,F){for(var B=16383&o,N=o>>14;--F>=0;){var L=16383&this[i],V=this[i++]>>14,z=N*L+V*B;_=((L=B*L+((16383&z)<<14)+u[d]+_)>>28)+(z>>14)+N*V,u[d++]=268435455&L}return _},j=28),J.prototype.DB=j,J.prototype.DM=(1<<j)-1,J.prototype.DV=1<<j,J.prototype.FV=Math.pow(2,52),J.prototype.F1=52-j,J.prototype.F2=2*j-52;var Ke,We,Ct=new Array;for(Ke=48,We=0;We<=9;++We)Ct[Ke++]=We;for(Ke=97,We=10;We<36;++We)Ct[Ke++]=We;for(Ke=65,We=10;We<36;++We)Ct[Ke++]=We;function rt(a){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(a)}function Se(a,i){var o=Ct[a.charCodeAt(i)];return o??-1}function Fe(a){var i=Ae();return i.fromInt(a),i}function Ne(a){var i,o=1;return(i=a>>>16)!=0&&(a=i,o+=16),(i=a>>8)!=0&&(a=i,o+=8),(i=a>>4)!=0&&(a=i,o+=4),(i=a>>2)!=0&&(a=i,o+=2),(i=a>>1)!=0&&(a=i,o+=1),o}function ke(a){this.m=a}function $(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function Ee(a,i){return a&i}function Ce(a,i){return a|i}function Re(a,i){return a^i}function Me(a,i){return a&~i}function Xe(a){if(a==0)return-1;var i=0;return(65535&a)==0&&(a>>=16,i+=16),(255&a)==0&&(a>>=8,i+=8),(15&a)==0&&(a>>=4,i+=4),(3&a)==0&&(a>>=2,i+=2),(1&a)==0&&++i,i}function Ie(a){for(var i=0;a!=0;)a&=a-1,++i;return i}function pt(){}function $e(a){return a}function Ft(a){this.r2=Ae(),this.q3=Ae(),J.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}ke.prototype.convert=function(i){return i.s<0||i.compareTo(this.m)>=0?i.mod(this.m):i},ke.prototype.revert=function(i){return i},ke.prototype.reduce=function(i){i.divRemTo(this.m,null,i)},ke.prototype.mulTo=function(i,o,u){i.multiplyTo(o,u),this.reduce(u)},ke.prototype.sqrTo=function(i,o){i.squareTo(o),this.reduce(o)},$.prototype.convert=function(i){var o=Ae();return i.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),i.s<0&&o.compareTo(J.ZERO)>0&&this.m.subTo(o,o),o},$.prototype.revert=function(i){var o=Ae();return i.copyTo(o),this.reduce(o),o},$.prototype.reduce=function(i){for(;i.t<=this.mt2;)i[i.t++]=0;for(var o=0;o<this.m.t;++o){var u=32767&i[o],d=u*this.mpl+((u*this.mph+(i[o]>>15)*this.mpl&this.um)<<15)&i.DM;for(i[u=o+this.m.t]+=this.m.am(0,d,i,o,0,this.m.t);i[u]>=i.DV;)i[u]-=i.DV,i[++u]++}i.clamp(),i.drShiftTo(this.m.t,i),i.compareTo(this.m)>=0&&i.subTo(this.m,i)},$.prototype.mulTo=function(i,o,u){i.multiplyTo(o,u),this.reduce(u)},$.prototype.sqrTo=function(i,o){i.squareTo(o),this.reduce(o)},J.prototype.copyTo=function(i){for(var o=this.t-1;o>=0;--o)i[o]=this[o];i.t=this.t,i.s=this.s},J.prototype.fromInt=function(i){this.t=1,this.s=i<0?-1:0,i>0?this[0]=i:i<-1?this[0]=i+this.DV:this.t=0},J.prototype.fromString=function(i,o){var u;if(o==16)u=4;else if(o==8)u=3;else if(o==256)u=8;else if(o==2)u=1;else if(o==32)u=5;else{if(o!=4)return void this.fromRadix(i,o);u=2}this.t=0,this.s=0;for(var d=i.length,_=!1,F=0;--d>=0;){var B=u==8?255&i[d]:Se(i,d);B<0?i.charAt(d)=="-"&&(_=!0):(_=!1,F==0?this[this.t++]=B:F+u>this.DB?(this[this.t-1]|=(B&(1<<this.DB-F)-1)<<F,this[this.t++]=B>>this.DB-F):this[this.t-1]|=B<<F,(F+=u)>=this.DB&&(F-=this.DB))}u==8&&(128&i[0])!=0&&(this.s=-1,F>0&&(this[this.t-1]|=(1<<this.DB-F)-1<<F)),this.clamp(),_&&J.ZERO.subTo(this,this)},J.prototype.clamp=function(){for(var i=this.s&this.DM;this.t>0&&this[this.t-1]==i;)--this.t},J.prototype.dlShiftTo=function(i,o){var u;for(u=this.t-1;u>=0;--u)o[u+i]=this[u];for(u=i-1;u>=0;--u)o[u]=0;o.t=this.t+i,o.s=this.s},J.prototype.drShiftTo=function(i,o){for(var u=i;u<this.t;++u)o[u-i]=this[u];o.t=Math.max(this.t-i,0),o.s=this.s},J.prototype.lShiftTo=function(i,o){var u,d=i%this.DB,_=this.DB-d,F=(1<<_)-1,B=Math.floor(i/this.DB),N=this.s<<d&this.DM;for(u=this.t-1;u>=0;--u)o[u+B+1]=this[u]>>_|N,N=(this[u]&F)<<d;for(u=B-1;u>=0;--u)o[u]=0;o[B]=N,o.t=this.t+B+1,o.s=this.s,o.clamp()},J.prototype.rShiftTo=function(i,o){o.s=this.s;var u=Math.floor(i/this.DB);if(u>=this.t)o.t=0;else{var d=i%this.DB,_=this.DB-d,F=(1<<d)-1;o[0]=this[u]>>d;for(var B=u+1;B<this.t;++B)o[B-u-1]|=(this[B]&F)<<_,o[B-u]=this[B]>>d;d>0&&(o[this.t-u-1]|=(this.s&F)<<_),o.t=this.t-u,o.clamp()}},J.prototype.subTo=function(i,o){for(var u=0,d=0,_=Math.min(i.t,this.t);u<_;)d+=this[u]-i[u],o[u++]=d&this.DM,d>>=this.DB;if(i.t<this.t){for(d-=i.s;u<this.t;)d+=this[u],o[u++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;u<i.t;)d-=i[u],o[u++]=d&this.DM,d>>=this.DB;d-=i.s}o.s=d<0?-1:0,d<-1?o[u++]=this.DV+d:d>0&&(o[u++]=d),o.t=u,o.clamp()},J.prototype.multiplyTo=function(i,o){var u=this.abs(),d=i.abs(),_=u.t;for(o.t=_+d.t;--_>=0;)o[_]=0;for(_=0;_<d.t;++_)o[_+u.t]=u.am(0,d[_],o,_,0,u.t);o.s=0,o.clamp(),this.s!=i.s&&J.ZERO.subTo(o,o)},J.prototype.squareTo=function(i){for(var o=this.abs(),u=i.t=2*o.t;--u>=0;)i[u]=0;for(u=0;u<o.t-1;++u){var d=o.am(u,o[u],i,2*u,0,1);(i[u+o.t]+=o.am(u+1,2*o[u],i,2*u+1,d,o.t-u-1))>=o.DV&&(i[u+o.t]-=o.DV,i[u+o.t+1]=1)}i.t>0&&(i[i.t-1]+=o.am(u,o[u],i,2*u,0,1)),i.s=0,i.clamp()},J.prototype.divRemTo=function(i,o,u){var d=i.abs();if(!(d.t<=0)){var _=this.abs();if(_.t<d.t)return o!=null&&o.fromInt(0),void(u!=null&&this.copyTo(u));u==null&&(u=Ae());var F=Ae(),B=this.s,N=i.s,L=this.DB-Ne(d[d.t-1]);L>0?(d.lShiftTo(L,F),_.lShiftTo(L,u)):(d.copyTo(F),_.copyTo(u));var V=F.t,z=F[V-1];if(z!=0){var Z=z*(1<<this.F1)+(V>1?F[V-2]>>this.F2:0),ie=this.FV/Z,se=(1<<this.F1)/Z,de=1<<this.F2,ye=u.t,x=ye-V,q=o??Ae();for(F.dlShiftTo(x,q),u.compareTo(q)>=0&&(u[u.t++]=1,u.subTo(q,u)),J.ONE.dlShiftTo(V,q),q.subTo(F,F);F.t<V;)F[F.t++]=0;for(;--x>=0;){var G=u[--ye]==z?this.DM:Math.floor(u[ye]*ie+(u[ye-1]+de)*se);if((u[ye]+=F.am(0,G,u,x,0,V))<G)for(F.dlShiftTo(x,q),u.subTo(q,u);u[ye]<--G;)u.subTo(q,u)}o!=null&&(u.drShiftTo(V,o),B!=N&&J.ZERO.subTo(o,o)),u.t=V,u.clamp(),L>0&&u.rShiftTo(L,u),B<0&&J.ZERO.subTo(u,u)}}},J.prototype.invDigit=function(){if(this.t<1)return 0;var i=this[0];if((1&i)==0)return 0;var o=3&i;return(o=(o=(o=(o=o*(2-(15&i)*o)&15)*(2-(255&i)*o)&255)*(2-((65535&i)*o&65535))&65535)*(2-i*o%this.DV)%this.DV)>0?this.DV-o:-o},J.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},J.prototype.exp=function(i,o){if(i>4294967295||i<1)return J.ONE;var u=Ae(),d=Ae(),_=o.convert(this),F=Ne(i)-1;for(_.copyTo(u);--F>=0;)if(o.sqrTo(u,d),(i&1<<F)>0)o.mulTo(d,_,u);else{var B=u;u=d,d=B}return o.revert(u)},J.prototype.toString=function(i){if(this.s<0)return"-"+this.negate().toString(i);var o;if(i==16)o=4;else if(i==8)o=3;else if(i==2)o=1;else if(i==32)o=5;else{if(i!=4)return this.toRadix(i);o=2}var u,d=(1<<o)-1,_=!1,F="",B=this.t,N=this.DB-B*this.DB%o;if(B-- >0)for(N<this.DB&&(u=this[B]>>N)>0&&(_=!0,F=rt(u));B>=0;)N<o?(u=(this[B]&(1<<N)-1)<<o-N,u|=this[--B]>>(N+=this.DB-o)):(u=this[B]>>(N-=o)&d,N<=0&&(N+=this.DB,--B)),u>0&&(_=!0),_&&(F+=rt(u));return _?F:"0"},J.prototype.negate=function(){var i=Ae();return J.ZERO.subTo(this,i),i},J.prototype.abs=function(){return this.s<0?this.negate():this},J.prototype.compareTo=function(i){var o=this.s-i.s;if(o!=0)return o;var u=this.t;if((o=u-i.t)!=0)return this.s<0?-o:o;for(;--u>=0;)if((o=this[u]-i[u])!=0)return o;return 0},J.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ne(this[this.t-1]^this.s&this.DM)},J.prototype.mod=function(i){var o=Ae();return this.abs().divRemTo(i,null,o),this.s<0&&o.compareTo(J.ZERO)>0&&i.subTo(o,o),o},J.prototype.modPowInt=function(i,o){var u;return u=i<256||o.isEven()?new ke(o):new $(o),this.exp(i,u)},J.ZERO=Fe(0),J.ONE=Fe(1),pt.prototype.convert=$e,pt.prototype.revert=$e,pt.prototype.mulTo=function(i,o,u){i.multiplyTo(o,u)},pt.prototype.sqrTo=function(i,o){i.squareTo(o)},Ft.prototype.convert=function(i){if(i.s<0||i.t>2*this.m.t)return i.mod(this.m);if(i.compareTo(this.m)<0)return i;var o=Ae();return i.copyTo(o),this.reduce(o),o},Ft.prototype.revert=function(i){return i},Ft.prototype.reduce=function(i){for(i.drShiftTo(this.m.t-1,this.r2),i.t>this.m.t+1&&(i.t=this.m.t+1,i.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);i.compareTo(this.r2)<0;)i.dAddOffset(1,this.m.t+1);for(i.subTo(this.r2,i);i.compareTo(this.m)>=0;)i.subTo(this.m,i)},Ft.prototype.mulTo=function(i,o,u){i.multiplyTo(o,u),this.reduce(u)},Ft.prototype.sqrTo=function(i,o){i.squareTo(o),this.reduce(o)};var Et=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ne=(1<<26)/Et[Et.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function E(){this.i=0,this.j=0,this.S=new Array}J.prototype.chunkSize=function(i){return Math.floor(Math.LN2*this.DB/Math.log(i))},J.prototype.toRadix=function(i){if(i==null&&(i=10),this.signum()==0||i<2||i>36)return"0";var o=this.chunkSize(i),u=Math.pow(i,o),d=Fe(u),_=Ae(),F=Ae(),B="";for(this.divRemTo(d,_,F);_.signum()>0;)B=(u+F.intValue()).toString(i).substr(1)+B,_.divRemTo(d,_,F);return F.intValue().toString(i)+B},J.prototype.fromRadix=function(i,o){this.fromInt(0),o==null&&(o=10);for(var u=this.chunkSize(o),d=Math.pow(o,u),_=!1,F=0,B=0,N=0;N<i.length;++N){var L=Se(i,N);L<0?i.charAt(N)=="-"&&this.signum()==0&&(_=!0):(B=o*B+L,++F>=u&&(this.dMultiply(d),this.dAddOffset(B,0),F=0,B=0))}F>0&&(this.dMultiply(Math.pow(o,F)),this.dAddOffset(B,0)),_&&J.ZERO.subTo(this,this)},J.prototype.fromNumber=function(i,o,u){if(typeof o=="number")if(i<2)this.fromInt(1);else for(this.fromNumber(i,u),this.testBit(i-1)||this.bitwiseTo(J.ONE.shiftLeft(i-1),Ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(J.ONE.shiftLeft(i-1),this);else{var d=new Array,_=7&i;d.length=1+(i>>3),o.nextBytes(d),_>0?d[0]&=(1<<_)-1:d[0]=0,this.fromString(d,256)}},J.prototype.bitwiseTo=function(i,o,u){var d,_,F=Math.min(i.t,this.t);for(d=0;d<F;++d)u[d]=o(this[d],i[d]);if(i.t<this.t){for(_=i.s&this.DM,d=F;d<this.t;++d)u[d]=o(this[d],_);u.t=this.t}else{for(_=this.s&this.DM,d=F;d<i.t;++d)u[d]=o(_,i[d]);u.t=i.t}u.s=o(this.s,i.s),u.clamp()},J.prototype.changeBit=function(i,o){var u=J.ONE.shiftLeft(i);return this.bitwiseTo(u,o,u),u},J.prototype.addTo=function(i,o){for(var u=0,d=0,_=Math.min(i.t,this.t);u<_;)d+=this[u]+i[u],o[u++]=d&this.DM,d>>=this.DB;if(i.t<this.t){for(d+=i.s;u<this.t;)d+=this[u],o[u++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;u<i.t;)d+=i[u],o[u++]=d&this.DM,d>>=this.DB;d+=i.s}o.s=d<0?-1:0,d>0?o[u++]=d:d<-1&&(o[u++]=this.DV+d),o.t=u,o.clamp()},J.prototype.dMultiply=function(i){this[this.t]=this.am(0,i-1,this,0,0,this.t),++this.t,this.clamp()},J.prototype.dAddOffset=function(i,o){if(i!=0){for(;this.t<=o;)this[this.t++]=0;for(this[o]+=i;this[o]>=this.DV;)this[o]-=this.DV,++o>=this.t&&(this[this.t++]=0),++this[o]}},J.prototype.multiplyLowerTo=function(i,o,u){var d,_=Math.min(this.t+i.t,o);for(u.s=0,u.t=_;_>0;)u[--_]=0;for(d=u.t-this.t;_<d;++_)u[_+this.t]=this.am(0,i[_],u,_,0,this.t);for(d=Math.min(i.t,o);_<d;++_)this.am(0,i[_],u,_,0,o-_);u.clamp()},J.prototype.multiplyUpperTo=function(i,o,u){--o;var d=u.t=this.t+i.t-o;for(u.s=0;--d>=0;)u[d]=0;for(d=Math.max(o-this.t,0);d<i.t;++d)u[this.t+d-o]=this.am(o-d,i[d],u,0,0,this.t+d-o);u.clamp(),u.drShiftTo(1,u)},J.prototype.modInt=function(i){if(i<=0)return 0;var o=this.DV%i,u=this.s<0?i-1:0;if(this.t>0)if(o==0)u=this[0]%i;else for(var d=this.t-1;d>=0;--d)u=(o*u+this[d])%i;return u},J.prototype.millerRabin=function(i){var o=this.subtract(J.ONE),u=o.getLowestSetBit();if(u<=0)return!1;var d=o.shiftRight(u);(i=i+1>>1)>Et.length&&(i=Et.length);for(var _=Ae(),F=0;F<i;++F){_.fromInt(Et[Math.floor(Math.random()*Et.length)]);var B=_.modPow(d,this);if(B.compareTo(J.ONE)!=0&&B.compareTo(o)!=0){for(var N=1;N++<u&&B.compareTo(o)!=0;)if((B=B.modPowInt(2,this)).compareTo(J.ONE)==0)return!1;if(B.compareTo(o)!=0)return!1}}return!0},J.prototype.clone=function(){var i=Ae();return this.copyTo(i),i},J.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},J.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},J.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},J.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},J.prototype.toByteArray=function(){var i=this.t,o=new Array;o[0]=this.s;var u,d=this.DB-i*this.DB%8,_=0;if(i-- >0)for(d<this.DB&&(u=this[i]>>d)!=(this.s&this.DM)>>d&&(o[_++]=u|this.s<<this.DB-d);i>=0;)d<8?(u=(this[i]&(1<<d)-1)<<8-d,u|=this[--i]>>(d+=this.DB-8)):(u=this[i]>>(d-=8)&255,d<=0&&(d+=this.DB,--i)),(128&u)!=0&&(u|=-256),_==0&&(128&this.s)!=(128&u)&&++_,(_>0||u!=this.s)&&(o[_++]=u);return o},J.prototype.equals=function(i){return this.compareTo(i)==0},J.prototype.min=function(i){return this.compareTo(i)<0?this:i},J.prototype.max=function(i){return this.compareTo(i)>0?this:i},J.prototype.and=function(i){var o=Ae();return this.bitwiseTo(i,Ee,o),o},J.prototype.or=function(i){var o=Ae();return this.bitwiseTo(i,Ce,o),o},J.prototype.xor=function(i){var o=Ae();return this.bitwiseTo(i,Re,o),o},J.prototype.andNot=function(i){var o=Ae();return this.bitwiseTo(i,Me,o),o},J.prototype.not=function(){for(var i=Ae(),o=0;o<this.t;++o)i[o]=this.DM&~this[o];return i.t=this.t,i.s=~this.s,i},J.prototype.shiftLeft=function(i){var o=Ae();return i<0?this.rShiftTo(-i,o):this.lShiftTo(i,o),o},J.prototype.shiftRight=function(i){var o=Ae();return i<0?this.lShiftTo(-i,o):this.rShiftTo(i,o),o},J.prototype.getLowestSetBit=function(){for(var i=0;i<this.t;++i)if(this[i]!=0)return i*this.DB+Xe(this[i]);return this.s<0?this.t*this.DB:-1},J.prototype.bitCount=function(){for(var i=0,o=this.s&this.DM,u=0;u<this.t;++u)i+=Ie(this[u]^o);return i},J.prototype.testBit=function(i){var o=Math.floor(i/this.DB);return o>=this.t?this.s!=0:(this[o]&1<<i%this.DB)!=0},J.prototype.setBit=function(i){return this.changeBit(i,Ce)},J.prototype.clearBit=function(i){return this.changeBit(i,Me)},J.prototype.flipBit=function(i){return this.changeBit(i,Re)},J.prototype.add=function(i){var o=Ae();return this.addTo(i,o),o},J.prototype.subtract=function(i){var o=Ae();return this.subTo(i,o),o},J.prototype.multiply=function(i){var o=Ae();return this.multiplyTo(i,o),o},J.prototype.divide=function(i){var o=Ae();return this.divRemTo(i,o,null),o},J.prototype.remainder=function(i){var o=Ae();return this.divRemTo(i,null,o),o},J.prototype.divideAndRemainder=function(i){var o=Ae(),u=Ae();return this.divRemTo(i,o,u),new Array(o,u)},J.prototype.modPow=function(i,o){var u,d,_=i.bitLength(),F=Fe(1);if(_<=0)return F;u=_<18?1:_<48?3:_<144?4:_<768?5:6,d=_<8?new ke(o):o.isEven()?new Ft(o):new $(o);var B=new Array,N=3,L=u-1,V=(1<<u)-1;if(B[1]=d.convert(this),u>1){var z=Ae();for(d.sqrTo(B[1],z);N<=V;)B[N]=Ae(),d.mulTo(z,B[N-2],B[N]),N+=2}var Z,ie,se=i.t-1,de=!0,ye=Ae();for(_=Ne(i[se])-1;se>=0;){for(_>=L?Z=i[se]>>_-L&V:(Z=(i[se]&(1<<_+1)-1)<<L-_,se>0&&(Z|=i[se-1]>>this.DB+_-L)),N=u;(1&Z)==0;)Z>>=1,--N;if((_-=N)<0&&(_+=this.DB,--se),de)B[Z].copyTo(F),de=!1;else{for(;N>1;)d.sqrTo(F,ye),d.sqrTo(ye,F),N-=2;N>0?d.sqrTo(F,ye):(ie=F,F=ye,ye=ie),d.mulTo(ye,B[Z],F)}for(;se>=0&&(i[se]&1<<_)==0;)d.sqrTo(F,ye),ie=F,F=ye,ye=ie,--_<0&&(_=this.DB-1,--se)}return d.revert(F)},J.prototype.modInverse=function(i){var o=i.isEven();if(this.isEven()&&o||i.signum()==0)return J.ZERO;for(var u=i.clone(),d=this.clone(),_=Fe(1),F=Fe(0),B=Fe(0),N=Fe(1);u.signum()!=0;){for(;u.isEven();)u.rShiftTo(1,u),o?(_.isEven()&&F.isEven()||(_.addTo(this,_),F.subTo(i,F)),_.rShiftTo(1,_)):F.isEven()||F.subTo(i,F),F.rShiftTo(1,F);for(;d.isEven();)d.rShiftTo(1,d),o?(B.isEven()&&N.isEven()||(B.addTo(this,B),N.subTo(i,N)),B.rShiftTo(1,B)):N.isEven()||N.subTo(i,N),N.rShiftTo(1,N);u.compareTo(d)>=0?(u.subTo(d,u),o&&_.subTo(B,_),F.subTo(N,F)):(d.subTo(u,d),o&&B.subTo(_,B),N.subTo(F,N))}return d.compareTo(J.ONE)!=0?J.ZERO:N.compareTo(i)>=0?N.subtract(i):N.signum()<0?(N.addTo(i,N),N.signum()<0?N.add(i):N):N},J.prototype.pow=function(i){return this.exp(i,new pt)},J.prototype.gcd=function(i){var o=this.s<0?this.negate():this.clone(),u=i.s<0?i.negate():i.clone();if(o.compareTo(u)<0){var d=o;o=u,u=d}var _=o.getLowestSetBit(),F=u.getLowestSetBit();if(F<0)return o;for(_<F&&(F=_),F>0&&(o.rShiftTo(F,o),u.rShiftTo(F,u));o.signum()>0;)(_=o.getLowestSetBit())>0&&o.rShiftTo(_,o),(_=u.getLowestSetBit())>0&&u.rShiftTo(_,u),o.compareTo(u)>=0?(o.subTo(u,o),o.rShiftTo(1,o)):(u.subTo(o,u),u.rShiftTo(1,u));return F>0&&u.lShiftTo(F,u),u},J.prototype.isProbablePrime=function(i){var o,u=this.abs();if(u.t==1&&u[0]<=Et[Et.length-1]){for(o=0;o<Et.length;++o)if(u[0]==Et[o])return!0;return!1}if(u.isEven())return!1;for(o=1;o<Et.length;){for(var d=Et[o],_=o+1;_<Et.length&&d<ne;)d*=Et[_++];for(d=u.modInt(d);o<_;)if(d%Et[o++]==0)return!1}return u.millerRabin(i)},J.prototype.square=function(){var i=Ae();return this.squareTo(i),i},E.prototype.init=function(i){var o,u,d;for(o=0;o<256;++o)this.S[o]=o;for(u=0,o=0;o<256;++o)u=u+this.S[o]+i[o%i.length]&255,d=this.S[o],this.S[o]=this.S[u],this.S[u]=d;this.i=0,this.j=0},E.prototype.next=function(){var i;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,i=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=i,this.S[i+this.S[this.i]&255]};var w,Q,re;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(i){Q[re++]^=255&i,Q[re++]^=i>>8&255,Q[re++]^=i>>16&255,Q[re++]^=i>>24&255,re>=256&&(re-=256)})(new Date().getTime())}if(Q==null){var ve;if(Q=new Array,re=0,X!==void 0&&(X.crypto!==void 0||X.msCrypto!==void 0)){var Le=X.crypto||X.msCrypto;if(Le.getRandomValues){var Ye=new Uint8Array(32);for(Le.getRandomValues(Ye),ve=0;ve<32;++ve)Q[re++]=Ye[ve]}else if(I.appName=="Netscape"&&I.appVersion<"5"){var lt=X.crypto.random(32);for(ve=0;ve<lt.length;++ve)Q[re++]=255&lt.charCodeAt(ve)}}for(;re<256;)ve=Math.floor(65536*Math.random()),Q[re++]=ve>>>8,Q[re++]=255&ve;re=0,he()}function et(){if(w==null){for(he(),(w=function(){return new E}()).init(Q),re=0;re<Q.length;++re)Q[re]=0;re=0}return w.next()}function yt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function ln(a,i){return new J(a,i)}function Rn(a,i,o){for(var u="",d=0;u.length<i;)u+=o(String.fromCharCode.apply(String,a.concat([(4278190080&d)>>24,(16711680&d)>>16,(65280&d)>>8,255&d]))),d+=1;return u}function Pe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function vt(a,i){this.x=i,this.q=a}function qe(a,i,o,u){this.curve=a,this.x=i,this.y=o,this.z=u??J.ONE,this.zinv=null}function qt(a,i,o){this.q=a,this.a=this.fromBigInteger(i),this.b=this.fromBigInteger(o),this.infinity=new qe(this,null,null)}yt.prototype.nextBytes=function(i){var o;for(o=0;o<i.length;++o)i[o]=et()},Pe.prototype.doPublic=function(i){return i.modPowInt(this.e,this.n)},Pe.prototype.setPublic=function(i,o){if(this.isPublic=!0,this.isPrivate=!1,typeof i!="string")this.n=i,this.e=o;else{if(!(i!=null&&o!=null&&i.length>0&&o.length>0))throw"Invalid RSA public key";this.n=ln(i,16),this.e=parseInt(o,16)}},Pe.prototype.encrypt=function(i){var o=function(F,B){if(B<F.length+11)throw"Message too long for RSA";for(var N=new Array,L=F.length-1;L>=0&&B>0;){var V=F.charCodeAt(L--);V<128?N[--B]=V:V>127&&V<2048?(N[--B]=63&V|128,N[--B]=V>>6|192):(N[--B]=63&V|128,N[--B]=V>>6&63|128,N[--B]=V>>12|224)}N[--B]=0;for(var z=new yt,Z=new Array;B>2;){for(Z[0]=0;Z[0]==0;)z.nextBytes(Z);N[--B]=Z[0]}return N[--B]=2,N[--B]=0,new J(N)}(i,this.n.bitLength()+7>>3);if(o==null)return null;var u=this.doPublic(o);if(u==null)return null;var d=u.toString(16);return(1&d.length)==0?d:"0"+d},Pe.prototype.encryptOAEP=function(i,o,u){var d=function(N,L,V,z){var Z=U.crypto.MessageDigest,ie=U.crypto.Util,se=null;if(V||(V="sha1"),typeof V=="string"&&(se=Z.getCanonicalAlgName(V),z=Z.getHashLength(se),V=function(xe){return En(ie.hashHex(Dn(xe),se))}),N.length+2*z+2>L)throw"Message too long for RSA";var de,ye="";for(de=0;de<L-N.length-2*z-2;de+=1)ye+="\0";var x=V("")+ye+""+N,q=new Array(z);new yt().nextBytes(q);var G=Rn(q,x.length,V),W=[];for(de=0;de<x.length;de+=1)W[de]=x.charCodeAt(de)^G.charCodeAt(de);var ue=Rn(W,q.length,V),me=[0];for(de=0;de<q.length;de+=1)me[de+1]=q[de]^ue.charCodeAt(de);return new J(me.concat(W))}(i,this.n.bitLength()+7>>3,o,u);if(d==null)return null;var _=this.doPublic(d);if(_==null)return null;var F=_.toString(16);return(1&F.length)==0?F:"0"+F},Pe.prototype.type="RSA",vt.prototype.equals=function(i){return i==this||this.q.equals(i.q)&&this.x.equals(i.x)},vt.prototype.toBigInteger=function(){return this.x},vt.prototype.negate=function(){return new vt(this.q,this.x.negate().mod(this.q))},vt.prototype.add=function(i){return new vt(this.q,this.x.add(i.toBigInteger()).mod(this.q))},vt.prototype.subtract=function(i){return new vt(this.q,this.x.subtract(i.toBigInteger()).mod(this.q))},vt.prototype.multiply=function(i){return new vt(this.q,this.x.multiply(i.toBigInteger()).mod(this.q))},vt.prototype.square=function(){return new vt(this.q,this.x.square().mod(this.q))},vt.prototype.divide=function(i){return new vt(this.q,this.x.multiply(i.toBigInteger().modInverse(this.q)).mod(this.q))},qe.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},qe.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},qe.prototype.equals=function(i){return i==this||(this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():!!i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(J.ZERO)&&i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(J.ZERO))},qe.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(J.ZERO)&&!this.y.toBigInteger().equals(J.ZERO)},qe.prototype.negate=function(){return new qe(this.curve,this.x,this.y.negate(),this.z)},qe.prototype.add=function(i){if(this.isInfinity())return i;if(i.isInfinity())return this;var o=i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q),u=i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q);if(J.ZERO.equals(u))return J.ZERO.equals(o)?this.twice():this.curve.getInfinity();var d=new J("3"),_=this.x.toBigInteger(),F=this.y.toBigInteger(),B=(i.x.toBigInteger(),i.y.toBigInteger(),u.square()),N=B.multiply(u),L=_.multiply(B),V=o.square().multiply(this.z),z=V.subtract(L.shiftLeft(1)).multiply(i.z).subtract(N).multiply(u).mod(this.curve.q),Z=L.multiply(d).multiply(o).subtract(F.multiply(N)).subtract(V.multiply(o)).multiply(i.z).add(o.multiply(N)).mod(this.curve.q),ie=N.multiply(this.z).multiply(i.z).mod(this.curve.q);return new qe(this.curve,this.curve.fromBigInteger(z),this.curve.fromBigInteger(Z),ie)},qe.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var i=new J("3"),o=this.x.toBigInteger(),u=this.y.toBigInteger(),d=u.multiply(this.z),_=d.multiply(u).mod(this.curve.q),F=this.curve.a.toBigInteger(),B=o.square().multiply(i);J.ZERO.equals(F)||(B=B.add(this.z.square().multiply(F)));var N=(B=B.mod(this.curve.q)).square().subtract(o.shiftLeft(3).multiply(_)).shiftLeft(1).multiply(d).mod(this.curve.q),L=B.multiply(i).multiply(o).subtract(_.shiftLeft(1)).shiftLeft(2).multiply(_).subtract(B.square().multiply(B)).mod(this.curve.q),V=d.square().multiply(d).shiftLeft(3).mod(this.curve.q);return new qe(this.curve,this.curve.fromBigInteger(N),this.curve.fromBigInteger(L),V)},qe.prototype.multiply=function(i){if(this.isInfinity())return this;if(i.signum()==0)return this.curve.getInfinity();var o,u=i,d=u.multiply(new J("3")),_=this.negate(),F=this,B=this.curve.q.subtract(i),N=B.multiply(new J("3")),L=new qe(this.curve,this.x,this.y),V=L.negate();for(o=d.bitLength()-2;o>0;--o){F=F.twice();var z=d.testBit(o);z!=u.testBit(o)&&(F=F.add(z?this:_))}for(o=N.bitLength()-2;o>0;--o){L=L.twice();var Z=N.testBit(o);Z!=B.testBit(o)&&(L=L.add(Z?L:V))}return F},qe.prototype.multiplyTwo=function(i,o,u){var d;d=i.bitLength()>u.bitLength()?i.bitLength()-1:u.bitLength()-1;for(var _=this.curve.getInfinity(),F=this.add(o);d>=0;)_=_.twice(),i.testBit(d)?_=u.testBit(d)?_.add(F):_.add(this):u.testBit(d)&&(_=_.add(o)),--d;return _},qt.prototype.getQ=function(){return this.q},qt.prototype.getA=function(){return this.a},qt.prototype.getB=function(){return this.b},qt.prototype.equals=function(i){return i==this||this.q.equals(i.q)&&this.a.equals(i.a)&&this.b.equals(i.b)},qt.prototype.getInfinity=function(){return this.infinity},qt.prototype.fromBigInteger=function(i){return new vt(this.q,i)},qt.prototype.decodePointHex=function(i){switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var o=(i.length-2)/2,u=i.substr(2,o),d=i.substr(o+2,o);return new qe(this,this.fromBigInteger(new J(u,16)),this.fromBigInteger(new J(d,16)));default:return null}},vt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},qe.prototype.getEncoded=function(a){var i=function(F,B){var N=F.toByteArrayUnsigned();if(B<N.length)N=N.slice(N.length-B);else for(;B>N.length;)N.unshift(0);return N},o=this.getX().toBigInteger(),u=this.getY().toBigInteger(),d=i(o,32);return a?u.isEven()?d.unshift(2):d.unshift(3):(d.unshift(4),d=d.concat(i(u,32))),d},qe.decodeFrom=function(a,i){i[0];var o=i.length-1,u=i.slice(1,1+o/2),d=i.slice(1+o/2,1+o);u.unshift(0),d.unshift(0);var _=new J(u),F=new J(d);return new qe(a,a.fromBigInteger(_),a.fromBigInteger(F))},qe.decodeFromHex=function(a,i){i.substr(0,2);var o=i.length-2,u=i.substr(2,o/2),d=i.substr(2+o/2,o/2),_=new J(u,16),F=new J(d,16);return new qe(a,a.fromBigInteger(_),a.fromBigInteger(F))},qe.prototype.add2D=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;if(this.x.equals(a.x))return this.y.equals(a.y)?this.twice():this.curve.getInfinity();var i=a.x.subtract(this.x),o=a.y.subtract(this.y).divide(i),u=o.square().subtract(this.x).subtract(a.x),d=o.multiply(this.x.subtract(u)).subtract(this.y);return new qe(this.curve,u,d)},qe.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var a=this.curve.fromBigInteger(J.valueOf(2)),i=this.curve.fromBigInteger(J.valueOf(3)),o=this.x.square().multiply(i).add(this.curve.a).divide(this.y.multiply(a)),u=o.square().subtract(this.x.multiply(a)),d=o.multiply(this.x.subtract(u)).subtract(this.y);return new qe(this.curve,u,d)},qe.prototype.multiply2D=function(a){if(this.isInfinity())return this;if(a.signum()==0)return this.curve.getInfinity();var i,o=a,u=o.multiply(new J("3")),d=this.negate(),_=this;for(i=u.bitLength()-2;i>0;--i){_=_.twice();var F=u.testBit(i);F!=o.testBit(i)&&(_=_.add2D(F?this:d))}return _},qe.prototype.isOnCurve=function(){var a=this.getX().toBigInteger(),i=this.getY().toBigInteger(),o=this.curve.getA().toBigInteger(),u=this.curve.getB().toBigInteger(),d=this.curve.getQ(),_=i.multiply(i).mod(d),F=a.multiply(a).multiply(a).add(o.multiply(a)).add(u).mod(d);return _.equals(F)},qe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},qe.prototype.validate=function(){var a=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var i=this.getX().toBigInteger(),o=this.getY().toBigInteger();if(i.compareTo(J.ONE)<0||i.compareTo(a.subtract(J.ONE))>0)throw new Error("x coordinate out of bounds");if(o.compareTo(J.ONE)<0||o.compareTo(a.subtract(J.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(a).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var yn=function(){var a=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),i=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),o={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function u(F,B,N){return B?o[B]:String.fromCharCode(parseInt(N,16))}var d=new String(""),_=Object.hasOwnProperty;return function(F,B){var N,L,V=F.match(a),z=V[0],Z=!1;z==="{"?N={}:z==="["?N=[]:(N=[],Z=!0);for(var ie=[N],se=1-Z,de=V.length;se<de;++se){var ye;switch((z=V[se]).charCodeAt(0)){default:(ye=ie[0])[L||ye.length]=+z,L=void 0;break;case 34:if((z=z.substring(1,z.length-1)).indexOf("\\")!==-1&&(z=z.replace(i,u)),ye=ie[0],!L){if(!(ye instanceof Array)){L=z||d;break}L=ye.length}ye[L]=z,L=void 0;break;case 91:ye=ie[0],ie.unshift(ye[L||ye.length]=[]),L=void 0;break;case 93:ie.shift();break;case 102:(ye=ie[0])[L||ye.length]=!1,L=void 0;break;case 110:(ye=ie[0])[L||ye.length]=null,L=void 0;break;case 116:(ye=ie[0])[L||ye.length]=!0,L=void 0;break;case 123:ye=ie[0],ie.unshift(ye[L||ye.length]={}),L=void 0;break;case 125:ie.shift()}}if(Z){if(ie.length!==1)throw new Error;N=N[0]}else if(ie.length)throw new Error;return B&&(N=function x(q,G){var W=q[G];if(W&&(W===void 0?"undefined":K(W))==="object"){var ue=null;for(var me in W)if(_.call(W,me)&&W!==q){var Oe=x(W,me);Oe!==void 0?W[me]=Oe:(ue||(ue=[]),ue.push(me))}if(ue)for(var xe=ue.length;--xe>=0;)delete W[ue[xe]]}return B.call(q,G,W)}({"":N},"")),N}}();U!==void 0&&U||(c.KJUR=U={}),U.asn1!==void 0&&U.asn1||(U.asn1={}),U.asn1.ASN1Util=new function(){this.integerToByteHex=function(a){var i=a.toString(16);return i.length%2==1&&(i="0"+i),i},this.bigIntToMinTwosComplementsHex=function(a){var i=a.toString(16);if(i.substr(0,1)!="-")i.length%2==1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{var o=i.substr(1).length;o%2==1?o+=1:i.match(/^[0-7]/)||(o+=2);for(var u="",d=0;d<o;d++)u+="f";i=new J(u,16).xor(a).add(J.ONE).toString(16).replace(/^-/,"")}return i},this.getPEMStringFromHex=function(a,i){return vn(a,i)},this.newObject=function(a){var i=U.asn1,o=i.ASN1Object,u=i.DERBoolean,d=i.DERInteger,_=i.DERBitString,F=i.DEROctetString,B=i.DERNull,N=i.DERObjectIdentifier,L=i.DEREnumerated,V=i.DERUTF8String,z=i.DERNumericString,Z=i.DERPrintableString,ie=i.DERTeletexString,se=i.DERIA5String,de=i.DERUTCTime,ye=i.DERGeneralizedTime,x=i.DERVisibleString,q=i.DERBMPString,G=i.DERSequence,W=i.DERSet,ue=i.DERTaggedObject,me=i.ASN1Util.newObject;if(a instanceof i.ASN1Object)return a;var Oe=Object.keys(a);if(Oe.length!=1)throw new Error("key of param shall be only one.");var xe=Oe[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+xe+":")==-1)throw new Error("undefined key: "+xe);if(xe=="bool")return new u(a[xe]);if(xe=="int")return new d(a[xe]);if(xe=="bitstr")return new _(a[xe]);if(xe=="octstr")return new F(a[xe]);if(xe=="null")return new B(a[xe]);if(xe=="oid")return new N(a[xe]);if(xe=="enum")return new L(a[xe]);if(xe=="utf8str")return new V(a[xe]);if(xe=="numstr")return new z(a[xe]);if(xe=="prnstr")return new Z(a[xe]);if(xe=="telstr")return new ie(a[xe]);if(xe=="ia5str")return new se(a[xe]);if(xe=="utctime")return new de(a[xe]);if(xe=="gentime")return new ye(a[xe]);if(xe=="visstr")return new x(a[xe]);if(xe=="bmpstr")return new q(a[xe]);if(xe=="asn1")return new o(a[xe]);if(xe=="seq"){for(var Qe=a[xe],Ue=[],Be=0;Be<Qe.length;Be++){var ct=me(Qe[Be]);Ue.push(ct)}return new G({array:Ue})}if(xe=="set"){for(Qe=a[xe],Ue=[],Be=0;Be<Qe.length;Be++)ct=me(Qe[Be]),Ue.push(ct);return new W({array:Ue})}if(xe=="tag"){var ht=a[xe];if(Object.prototype.toString.call(ht)==="[object Array]"&&ht.length==3){var wt=me(ht[2]);return new ue({tag:ht[0],explicit:ht[1],obj:wt})}return new ue(ht)}},this.jsonToASN1HEX=function(a){return this.newObject(a).getEncodedHex()}},U.asn1.ASN1Util.oidHexToInt=function(a){for(var i="",o=parseInt(a.substr(0,2),16),u=(i=Math.floor(o/40)+"."+o%40,""),d=2;d<a.length;d+=2){var _=("00000000"+parseInt(a.substr(d,2),16).toString(2)).slice(-8);u+=_.substr(1,7),_.substr(0,1)=="0"&&(i=i+"."+new J(u,2).toString(10),u="")}return i},U.asn1.ASN1Util.oidIntToHex=function(a){var i=function(N){var L=N.toString(16);return L.length==1&&(L="0"+L),L},o=function(N){var L="",V=new J(N,10).toString(2),z=7-V.length%7;z==7&&(z=0);for(var Z="",ie=0;ie<z;ie++)Z+="0";for(V=Z+V,ie=0;ie<V.length-1;ie+=7){var se=V.substr(ie,7);ie!=V.length-7&&(se="1"+se),L+=i(parseInt(se,2))}return L};if(!a.match(/^[0-9.]+$/))throw"malformed oid string: "+a;var u="",d=a.split("."),_=40*parseInt(d[0])+parseInt(d[1]);u+=i(_),d.splice(0,2);for(var F=0;F<d.length;F++)u+=o(d[F]);return u},U.asn1.ASN1Object=function(a){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var i=this.hV.length/2,o=i.toString(16);if(o.length%2==1&&(o="0"+o),i<128)return o;var u=o.length/2;if(u>15)throw"ASN.1 length too long to represent by 8x: n = "+i.toString(16);return(128+u).toString(16)+o},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(i){this.params=i},a!=null&&a.tlv!=null&&(this.hTLV=a.tlv,this.isModified=!1)},U.asn1.DERAbstractString=function(a){U.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=yr(this.s).toLowerCase()},this.setStringHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.getFreshValueHex=function(){return this.hV},a!==void 0&&(typeof a=="string"?this.setString(a):a.str!==void 0?this.setString(a.str):a.hex!==void 0&&this.setStringHex(a.hex))},St(U.asn1.DERAbstractString,U.asn1.ASN1Object),U.asn1.DERAbstractTime=function(a){U.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(i){var o=i.getTime()+6e4*i.getTimezoneOffset();return new Date(o)},this.formatDate=function(i,o,u){var d=this.zeroPadding,_=this.localDateToUTC(i),F=String(_.getFullYear());o=="utc"&&(F=F.substr(2,2));var B=F+d(String(_.getMonth()+1),2)+d(String(_.getDate()),2)+d(String(_.getHours()),2)+d(String(_.getMinutes()),2)+d(String(_.getSeconds()),2);if(u===!0){var N=_.getMilliseconds();if(N!=0){var L=d(String(N),3);B=B+"."+(L=L.replace(/[0]+$/,""))}}return B+"Z"},this.zeroPadding=function(i,o){return i.length>=o?i:new Array(o-i.length+1).join("0")+i},this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=bn(i)},this.setByDateValue=function(i,o,u,d,_,F){var B=new Date(Date.UTC(i,o-1,u,d,_,F,0));this.setByDate(B)},this.getFreshValueHex=function(){return this.hV}},St(U.asn1.DERAbstractTime,U.asn1.ASN1Object),U.asn1.DERAbstractStructured=function(a){U.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array=i},this.appendASN1Object=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array.push(i)},this.asn1Array=new Array,a!==void 0&&a.array!==void 0&&(this.asn1Array=a.array)},St(U.asn1.DERAbstractStructured,U.asn1.ASN1Object),U.asn1.DERBoolean=function(a){U.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=a==0?"010100":"0101ff"},St(U.asn1.DERBoolean,U.asn1.ASN1Object),U.asn1.DERInteger=function(a){U.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(i){this.hTLV=null,this.isModified=!0,this.hV=U.asn1.ASN1Util.bigIntToMinTwosComplementsHex(i)},this.setByInteger=function(i){var o=new J(String(i),10);this.setByBigInteger(o)},this.setValueHex=function(i){this.hV=i},this.getFreshValueHex=function(){return this.hV},a!==void 0&&(a.bigint!==void 0?this.setByBigInteger(a.bigint):a.int!==void 0?this.setByInteger(a.int):typeof a=="number"?this.setByInteger(a):a.hex!==void 0&&this.setValueHex(a.hex))},St(U.asn1.DERInteger,U.asn1.ASN1Object),U.asn1.DERBitString=function(a){if(a!==void 0&&a.obj!==void 0){var i=U.asn1.ASN1Util.newObject(a.obj);a.hex="00"+i.getEncodedHex()}U.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(o){this.hTLV=null,this.isModified=!0,this.hV=o},this.setUnusedBitsAndHexValue=function(o,u){if(o<0||7<o)throw"unused bits shall be from 0 to 7: u = "+o;var d="0"+o;this.hTLV=null,this.isModified=!0,this.hV=d+u},this.setByBinaryString=function(o){var u=8-(o=o.replace(/0+$/,"")).length%8;u==8&&(u=0);for(var d=0;d<=u;d++)o+="0";var _="";for(d=0;d<o.length-1;d+=8){var F=o.substr(d,8),B=parseInt(F,2).toString(16);B.length==1&&(B="0"+B),_+=B}this.hTLV=null,this.isModified=!0,this.hV="0"+u+_},this.setByBooleanArray=function(o){for(var u="",d=0;d<o.length;d++)o[d]==1?u+="1":u+="0";this.setByBinaryString(u)},this.newFalseArray=function(o){for(var u=new Array(o),d=0;d<o;d++)u[d]=!1;return u},this.getFreshValueHex=function(){return this.hV},a!==void 0&&(typeof a=="string"&&a.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(a):a.hex!==void 0?this.setHexValueIncludingUnusedBits(a.hex):a.bin!==void 0?this.setByBinaryString(a.bin):a.array!==void 0&&this.setByBooleanArray(a.array))},St(U.asn1.DERBitString,U.asn1.ASN1Object),U.asn1.DEROctetString=function(a){if(a!==void 0&&a.obj!==void 0){var i=U.asn1.ASN1Util.newObject(a.obj);a.hex=i.getEncodedHex()}U.asn1.DEROctetString.superclass.constructor.call(this,a),this.hT="04"},St(U.asn1.DEROctetString,U.asn1.DERAbstractString),U.asn1.DERNull=function(){U.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},St(U.asn1.DERNull,U.asn1.ASN1Object),U.asn1.DERObjectIdentifier=function(a){U.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueOidString=function(i){var o=function(d){var _=function(Z){var ie=Z.toString(16);return ie.length==1&&(ie="0"+ie),ie},F=function(Z){var ie="",se=parseInt(Z,10).toString(2),de=7-se.length%7;de==7&&(de=0);for(var ye="",x=0;x<de;x++)ye+="0";for(se=ye+se,x=0;x<se.length-1;x+=7){var q=se.substr(x,7);x!=se.length-7&&(q="1"+q),ie+=_(parseInt(q,2))}return ie};try{if(!d.match(/^[0-9.]+$/))return null;var B="",N=d.split("."),L=40*parseInt(N[0],10)+parseInt(N[1],10);B+=_(L),N.splice(0,2);for(var V=0;V<N.length;V++)B+=F(N[V]);return B}catch{return null}}(i);if(o==null)throw new Error("malformed oid string: "+i);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.setValueName=function(i){var o=U.asn1.x509.OID.name2oid(i);if(o==="")throw new Error("DERObjectIdentifier oidName undefined: "+i);this.setValueOidString(o)},this.setValueNameOrOid=function(i){i.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(i):this.setValueName(i)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(i){typeof i=="string"?this.setValueNameOrOid(i):i.oid!==void 0?this.setValueNameOrOid(i.oid):i.name!==void 0?this.setValueNameOrOid(i.name):i.hex!==void 0&&this.setValueHex(i.hex)},a!==void 0&&this.setByParam(a)},St(U.asn1.DERObjectIdentifier,U.asn1.ASN1Object),U.asn1.DEREnumerated=function(a){U.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(i){this.hTLV=null,this.isModified=!0,this.hV=U.asn1.ASN1Util.bigIntToMinTwosComplementsHex(i)},this.setByInteger=function(i){var o=new J(String(i),10);this.setByBigInteger(o)},this.setValueHex=function(i){this.hV=i},this.getFreshValueHex=function(){return this.hV},a!==void 0&&(a.int!==void 0?this.setByInteger(a.int):typeof a=="number"?this.setByInteger(a):a.hex!==void 0&&this.setValueHex(a.hex))},St(U.asn1.DEREnumerated,U.asn1.ASN1Object),U.asn1.DERUTF8String=function(a){U.asn1.DERUTF8String.superclass.constructor.call(this,a),this.hT="0c"},St(U.asn1.DERUTF8String,U.asn1.DERAbstractString),U.asn1.DERNumericString=function(a){U.asn1.DERNumericString.superclass.constructor.call(this,a),this.hT="12"},St(U.asn1.DERNumericString,U.asn1.DERAbstractString),U.asn1.DERPrintableString=function(a){U.asn1.DERPrintableString.superclass.constructor.call(this,a),this.hT="13"},St(U.asn1.DERPrintableString,U.asn1.DERAbstractString),U.asn1.DERTeletexString=function(a){U.asn1.DERTeletexString.superclass.constructor.call(this,a),this.hT="14"},St(U.asn1.DERTeletexString,U.asn1.DERAbstractString),U.asn1.DERIA5String=function(a){U.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="16"},St(U.asn1.DERIA5String,U.asn1.DERAbstractString),U.asn1.DERVisibleString=function(a){U.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="1a"},St(U.asn1.DERVisibleString,U.asn1.DERAbstractString),U.asn1.DERBMPString=function(a){U.asn1.DERBMPString.superclass.constructor.call(this,a),this.hT="1e"},St(U.asn1.DERBMPString,U.asn1.DERAbstractString),U.asn1.DERUTCTime=function(a){U.asn1.DERUTCTime.superclass.constructor.call(this,a),this.hT="17",this.setByDate=function(i){this.hTLV=null,this.isModified=!0,this.date=i,this.s=this.formatDate(this.date,"utc"),this.hV=bn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=bn(this.s)),this.hV},a!==void 0&&(a.str!==void 0?this.setString(a.str):typeof a=="string"&&a.match(/^[0-9]{12}Z$/)?this.setString(a):a.hex!==void 0?this.setStringHex(a.hex):a.date!==void 0&&this.setByDate(a.date))},St(U.asn1.DERUTCTime,U.asn1.DERAbstractTime),U.asn1.DERGeneralizedTime=function(a){U.asn1.DERGeneralizedTime.superclass.constructor.call(this,a),this.hT="18",this.withMillis=!1,this.setByDate=function(i){this.hTLV=null,this.isModified=!0,this.date=i,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bn(this.s)),this.hV},a!==void 0&&(a.str!==void 0?this.setString(a.str):typeof a=="string"&&a.match(/^[0-9]{14}Z$/)?this.setString(a):a.hex!==void 0?this.setStringHex(a.hex):a.date!==void 0&&this.setByDate(a.date),a.millis===!0&&(this.withMillis=!0))},St(U.asn1.DERGeneralizedTime,U.asn1.DERAbstractTime),U.asn1.DERSequence=function(a){U.asn1.DERSequence.superclass.constructor.call(this,a),this.hT="30",this.getFreshValueHex=function(){for(var i="",o=0;o<this.asn1Array.length;o++)i+=this.asn1Array[o].getEncodedHex();return this.hV=i,this.hV}},St(U.asn1.DERSequence,U.asn1.DERAbstractStructured),U.asn1.DERSet=function(a){U.asn1.DERSet.superclass.constructor.call(this,a),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var i=new Array,o=0;o<this.asn1Array.length;o++){var u=this.asn1Array[o];i.push(u.getEncodedHex())}return this.sortFlag==1&&i.sort(),this.hV=i.join(""),this.hV},a!==void 0&&a.sortflag!==void 0&&a.sortflag==0&&(this.sortFlag=!1)},St(U.asn1.DERSet,U.asn1.DERAbstractStructured),U.asn1.DERTaggedObject=function(a){U.asn1.DERTaggedObject.superclass.constructor.call(this);var i=U.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(o,u,d){this.hT=u,this.isExplicit=o,this.asn1Object=d,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=d.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,u),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(o){o.tag!=null&&(this.hT=o.tag),o.explicit!=null&&(this.isExplicit=o.explicit),o.tage!=null&&(this.hT=o.tage,this.isExplicit=!0),o.tagi!=null&&(this.hT=o.tagi,this.isExplicit=!1),o.obj!=null&&(o.obj instanceof i.ASN1Object?(this.asn1Object=o.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):K(o.obj)=="object"&&(this.asn1Object=i.ASN1Util.newObject(o.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},a!=null&&this.setByParam(a)},St(U.asn1.DERTaggedObject,U.asn1.ASN1Object);var U,gi,Cn,De=new function(){};function pi(a){for(var i=new Array,o=0;o<a.length;o++)i[o]=a.charCodeAt(o);return i}function rr(a){for(var i="",o=0;o<a.length;o++)i+=String.fromCharCode(a[o]);return i}function pr(a){for(var i="",o=0;o<a.length;o++){var u=a[o].toString(16);u.length==1&&(u="0"+u),i+=u}return i}function bn(a){return pr(pi(a))}function Mi(a){return a=(a=(a=a.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Lr(a){return a.length%4==2?a+="==":a.length%4==3&&(a+="="),a=(a=a.replace(/-/g,"+")).replace(/_/g,"/")}function jt(a){return a.length%2==1&&(a="0"+a),Mi(H(a))}function mt(a){return le(Lr(a))}function yr(a){return Vn(jr(a))}function zt(a){return decodeURIComponent(Br(a))}function En(a){for(var i="",o=0;o<a.length-1;o+=2)i+=String.fromCharCode(parseInt(a.substr(o,2),16));return i}function Dn(a){for(var i="",o=0;o<a.length;o++)i+=("0"+a.charCodeAt(o).toString(16)).slice(-2);return i}function Hi(a){return H(a)}function Li(a){var i=Hi(a).replace(/(.{64})/g,`$1\r
`);return i=i.replace(/\r\n$/,"")}function wa(a){return le(a.replace(/[^0-9A-Za-z\/+=]*/g,""))}function vn(a,i){return"-----BEGIN "+i+`-----\r
`+Li(a)+`\r
-----END `+i+`-----\r
`}function $t(a,i){if(a.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+i;return wa(a=i!==void 0?(a=a.replace(new RegExp("^[^]*-----BEGIN "+i+"-----"),"")).replace(new RegExp("-----END "+i+"-----[^]*$"),""):(a=a.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Xt(a){var i,o,u,d,_,F,B,N,L,V,z;if(z=a.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return N=z[1],i=parseInt(N),N.length===2&&(50<=i&&i<100?i=1900+i:0<=i&&i<50&&(i=2e3+i)),o=parseInt(z[2])-1,u=parseInt(z[3]),d=parseInt(z[4]),_=parseInt(z[5]),F=parseInt(z[6]),B=0,(L=z[7])!==""&&(V=(L.substr(1)+"00").substr(0,3),B=parseInt(V)),Date.UTC(i,o,u,d,_,F,B);throw"unsupported zulu format: "+a}function cn(a){return~~(Xt(a)/1e3)}function Vn(a){return a.replace(/%/g,"")}function Br(a){return a.replace(/(..)/g,"%$1")}function wo(a){var i="malformed IPv6 address";if(!a.match(/^[0-9A-Fa-f:]+$/))throw i;var o=(a=a.toLowerCase()).split(":").length-1;if(o<2)throw i;var u=":".repeat(7-o+2),d=(a=a.replace("::",u)).split(":");if(d.length!=8)throw i;for(var _=0;_<8;_++)d[_]=("0000"+d[_]).slice(-4);return d.join("")}function Ao(a){if(!a.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var i=(a=a.toLowerCase()).match(/.{1,4}/g),o=0;o<8;o++)i[o]=i[o].replace(/^0+/,""),i[o]==""&&(i[o]="0");var u=(a=":"+i.join(":")+":").match(/:(0:){2,}/g);if(u===null)return a.slice(1,-1);var d="";for(o=0;o<u.length;o++)u[o].length>d.length&&(d=u[o]);return(a=a.replace(d,"::")).slice(1,-1)}function Bi(a){var i="malformed hex value";if(!a.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw i;if(a.length!=8)return a.length==32?Ao(a):a;try{return parseInt(a.substr(0,2),16)+"."+parseInt(a.substr(2,2),16)+"."+parseInt(a.substr(4,2),16)+"."+parseInt(a.substr(6,2),16)}catch{throw i}}function Pr(a){return a.match(/.{4}/g).map(function(o){var u=parseInt(o.substr(0,2),16),d=parseInt(o.substr(2),16);if(u==0&d<128)return String.fromCharCode(d);if(u<8){var _=128|63&d;return zt((192|(7&u)<<3|(192&d)>>6).toString(16)+_.toString(16))}_=128|(15&u)<<2|(192&d)>>6;var F=128|63&d;return zt((224|(240&u)>>4).toString(16)+_.toString(16)+F.toString(16))}).join("")}function jr(a){for(var i=encodeURIComponent(a),o="",u=0;u<i.length;u++)i[u]=="%"?(o+=i.substr(u,3),u+=2):o=o+"%"+bn(i[u]);return o}function vr(a){return!(a.length%2!=0||!a.match(/^[0-9a-f]+$/)&&!a.match(/^[0-9A-F]+$/))}function ir(a){return a.length%2==1?"0"+a:a.substr(0,1)>"7"?"00"+a:a}De.getLblen=function(a,i){if(a.substr(i+2,1)!="8")return 1;var o=parseInt(a.substr(i+3,1));return o==0?-1:0<o&&o<10?o+1:-2},De.getL=function(a,i){var o=De.getLblen(a,i);return o<1?"":a.substr(i+2,2*o)},De.getVblen=function(a,i){var o;return(o=De.getL(a,i))==""?-1:(o.substr(0,1)==="8"?new J(o.substr(2),16):new J(o,16)).intValue()},De.getVidx=function(a,i){var o=De.getLblen(a,i);return o<0?o:i+2*(o+1)},De.getV=function(a,i){var o=De.getVidx(a,i),u=De.getVblen(a,i);return a.substr(o,2*u)},De.getTLV=function(a,i){return a.substr(i,2)+De.getL(a,i)+De.getV(a,i)},De.getTLVblen=function(a,i){return 2+2*De.getLblen(a,i)+2*De.getVblen(a,i)},De.getNextSiblingIdx=function(a,i){return De.getVidx(a,i)+2*De.getVblen(a,i)},De.getChildIdx=function(a,i){var o,u,d,_=De,F=[];o=_.getVidx(a,i),u=2*_.getVblen(a,i),a.substr(i,2)=="03"&&(o+=2,u-=2),d=0;for(var B=o;d<=u;){var N=_.getTLVblen(a,B);if((d+=N)<=u&&F.push(B),B+=N,d>=u)break}return F},De.getNthChildIdx=function(a,i,o){return De.getChildIdx(a,i)[o]},De.getIdxbyList=function(a,i,o,u){var d,_,F=De;return o.length==0?u!==void 0&&a.substr(i,2)!==u?-1:i:(d=o.shift())>=(_=F.getChildIdx(a,i)).length?-1:F.getIdxbyList(a,_[d],o,u)},De.getIdxbyListEx=function(a,i,o,u){var d,_,F=De;if(o.length==0)return u!==void 0&&a.substr(i,2)!==u?-1:i;d=o.shift(),_=F.getChildIdx(a,i);for(var B=0,N=0;N<_.length;N++){var L=a.substr(_[N],2);if(typeof d=="number"&&!F.isContextTag(L)&&B==d||typeof d=="string"&&F.isContextTag(L,d))return F.getIdxbyListEx(a,_[N],o,u);F.isContextTag(L)||B++}return-1},De.getTLVbyList=function(a,i,o,u){var d=De,_=d.getIdxbyList(a,i,o,u);return _==-1||_>=a.length?null:d.getTLV(a,_)},De.getTLVbyListEx=function(a,i,o,u){var d=De,_=d.getIdxbyListEx(a,i,o,u);return _==-1?null:d.getTLV(a,_)},De.getVbyList=function(a,i,o,u,d){var _,F,B=De;return(_=B.getIdxbyList(a,i,o,u))==-1||_>=a.length?null:(F=B.getV(a,_),d===!0&&(F=F.substr(2)),F)},De.getVbyListEx=function(a,i,o,u,d){var _,F,B=De;return(_=B.getIdxbyListEx(a,i,o,u))==-1?null:(F=B.getV(a,_),a.substr(_,2)=="03"&&d!==!1&&(F=F.substr(2)),F)},De.getInt=function(a,i,o){o==null&&(o=-1);try{var u=a.substr(i,2);if(u!="02"&&u!="03")return o;var d=De.getV(a,i);return u=="02"?parseInt(d,16):function(F){try{var B=F.substr(0,2);if(B=="00")return parseInt(F.substr(2),16);var N=parseInt(B,16),L=F.substr(2),V=parseInt(L,16).toString(2);return V=="0"&&(V="00000000"),V=V.slice(0,0-N),parseInt(V,2)}catch{return-1}}(d)}catch{return o}},De.getOID=function(a,i,o){o==null&&(o=null);try{return a.substr(i,2)!="06"?o:function(d){if(!vr(d))return null;try{var _=[],F=d.substr(0,2),B=parseInt(F,16);_[0]=new String(Math.floor(B/40)),_[1]=new String(B%40);for(var N=d.substr(2),L=[],V=0;V<N.length/2;V++)L.push(parseInt(N.substr(2*V,2),16));var z=[],Z="";for(V=0;V<L.length;V++)128&L[V]?Z+=Ir((127&L[V]).toString(2),7):(Z+=Ir((127&L[V]).toString(2),7),z.push(new String(parseInt(Z,2))),Z="");var ie=_.join(".");return z.length>0&&(ie=ie+"."+z.join(".")),ie}catch{return null}}(De.getV(a,i))}catch{return o}},De.getOIDName=function(a,i,o){o==null&&(o=null);try{var u=De.getOID(a,i,o);if(u==o)return o;var d=U.asn1.x509.OID.oid2name(u);return d==""?u:d}catch{return o}},De.getString=function(a,i,o){o==null&&(o=null);try{return En(De.getV(a,i))}catch{return o}},De.hextooidstr=function(a){var i=function(Z,ie){return Z.length>=ie?Z:new Array(ie-Z.length+1).join("0")+Z},o=[],u=a.substr(0,2),d=parseInt(u,16);o[0]=new String(Math.floor(d/40)),o[1]=new String(d%40);for(var _=a.substr(2),F=[],B=0;B<_.length/2;B++)F.push(parseInt(_.substr(2*B,2),16));var N=[],L="";for(B=0;B<F.length;B++)128&F[B]?L+=i((127&F[B]).toString(2),7):(L+=i((127&F[B]).toString(2),7),N.push(new String(parseInt(L,2))),L="");var V=o.join(".");return N.length>0&&(V=V+"."+N.join(".")),V},De.dump=function(a,i,o,u){var d=De,_=d.getV,F=d.dump,B=d.getChildIdx,N=a;a instanceof U.asn1.ASN1Object&&(N=a.getEncodedHex());var L=function(xe,Qe){return xe.length<=2*Qe?xe:xe.substr(0,Qe)+"..(total "+xe.length/2+"bytes).."+xe.substr(xe.length-Qe,Qe)};i===void 0&&(i={ommit_long_octet:32}),o===void 0&&(o=0),u===void 0&&(u="");var V,z=i.ommit_long_octet;if((V=N.substr(o,2))=="01")return(Z=_(N,o))=="00"?u+`BOOLEAN FALSE
`:u+`BOOLEAN TRUE
`;if(V=="02")return u+"INTEGER "+L(Z=_(N,o),z)+`
`;if(V=="03"){var Z=_(N,o);if(d.isASN1HEX(Z.substr(2))){var ie=u+`BITSTRING, encapsulates
`;return ie+=F(Z.substr(2),i,0,u+"  ")}return u+"BITSTRING "+L(Z,z)+`
`}if(V=="04")return Z=_(N,o),d.isASN1HEX(Z)?(ie=u+`OCTETSTRING, encapsulates
`,ie+=F(Z,i,0,u+"  ")):u+"OCTETSTRING "+L(Z,z)+`
`;if(V=="05")return u+`NULL
`;if(V=="06"){var se=_(N,o),de=U.asn1.ASN1Util.oidHexToInt(se),ye=U.asn1.x509.OID.oid2name(de),x=de.replace(/\./g," ");return ye!=""?u+"ObjectIdentifier "+ye+" ("+x+`)
`:u+"ObjectIdentifier ("+x+`)
`}if(V=="0a")return u+"ENUMERATED "+parseInt(_(N,o))+`
`;if(V=="0c")return u+"UTF8String '"+zt(_(N,o))+`'
`;if(V=="13")return u+"PrintableString '"+zt(_(N,o))+`'
`;if(V=="14")return u+"TeletexString '"+zt(_(N,o))+`'
`;if(V=="16")return u+"IA5String '"+zt(_(N,o))+`'
`;if(V=="17")return u+"UTCTime "+zt(_(N,o))+`
`;if(V=="18")return u+"GeneralizedTime "+zt(_(N,o))+`
`;if(V=="1a")return u+"VisualString '"+zt(_(N,o))+`'
`;if(V=="1e")return u+"BMPString '"+Pr(_(N,o))+`'
`;if(V=="30"){if(N.substr(o,4)=="3000")return u+`SEQUENCE {}
`;ie=u+`SEQUENCE
`;var q=i;if(((ue=B(N,o)).length==2||ue.length==3)&&N.substr(ue[0],2)=="06"&&N.substr(ue[ue.length-1],2)=="04"){ye=d.oidname(_(N,ue[0]));var G=JSON.parse(JSON.stringify(i));G.x509ExtName=ye,q=G}for(var W=0;W<ue.length;W++)ie+=F(N,q,ue[W],u+"  ");return ie}if(V=="31"){ie=u+`SET
`;var ue=B(N,o);for(W=0;W<ue.length;W++)ie+=F(N,i,ue[W],u+"  ");return ie}if((128&(V=parseInt(V,16)))!=0){var me=31&V;if((32&V)!=0){for(ie=u+"["+me+`]
`,ue=B(N,o),W=0;W<ue.length;W++)ie+=F(N,i,ue[W],u+"  ");return ie}if(Z=_(N,o),De.isASN1HEX(Z)){var ie=u+"["+me+`]
`;return ie+=F(Z,i,0,u+"  ")}return(Z.substr(0,8)=="68747470"||i.x509ExtName==="subjectAltName"&&me==2)&&(Z=zt(Z)),ie=u+"["+me+"] "+Z+`
`}return u+"UNKNOWN("+V+") "+_(N,o)+`
`},De.isContextTag=function(a,i){var o,u;a=a.toLowerCase();try{o=parseInt(a,16)}catch{return-1}if(i===void 0)return(192&o)==128;try{return i.match(/^\[[0-9]+\]$/)!=null&&!((u=parseInt(i.substr(1,i.length-1),10))>31)&&(192&o)==128&&(31&o)==u}catch{return!1}},De.isASN1HEX=function(a){var i=De;if(a.length%2==1)return!1;var o=i.getVblen(a,0),u=a.substr(0,2),d=i.getL(a,0);return a.length-u.length-d.length==2*o},De.checkStrictDER=function(a,i,o,u,d){var _=De;if(o===void 0){if(typeof a!="string")throw new Error("not hex string");if(a=a.toLowerCase(),!U.lang.String.isHex(a))throw new Error("not hex string");o=a.length,d=(u=a.length/2)<128?1:Math.ceil(u.toString(16))+1}if(_.getL(a,i).length>2*d)throw new Error("L of TLV too long: idx="+i);var F=_.getVblen(a,i);if(F>u)throw new Error("value of L too long than hex: idx="+i);var B=_.getTLV(a,i),N=B.length-2-_.getL(a,i).length;if(N!==2*F)throw new Error("V string length and L's value not the same:"+N+"/"+2*F);if(i===0&&a.length!=B.length)throw new Error("total length and TLV length unmatch:"+a.length+"!="+B.length);var L=a.substr(i,2);if(L==="02"){var V=_.getVidx(a,i);if(a.substr(V,2)=="00"&&a.charCodeAt(V+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(L,16)){for(var z=_.getVblen(a,i),Z=0,ie=_.getChildIdx(a,i),se=0;se<ie.length;se++)Z+=_.getTLV(a,ie[se]).length,_.checkStrictDER(a,ie[se],o,u,d);if(2*z!=Z)throw new Error("sum of children's TLV length and L unmatch: "+2*z+"!="+Z)}},De.oidname=function(a){var i=U.asn1;U.lang.String.isHex(a)&&(a=i.ASN1Util.oidHexToInt(a));var o=i.x509.OID.oid2name(a);return o===""&&(o=a),o},U!==void 0&&U||(c.KJUR=U={}),U.lang!==void 0&&U.lang||(U.lang={}),U.lang.String=function(){},typeof A=="function"?(c.utf8tob64u=gi=function(i){return Mi(A.from(i,"utf8").toString("base64"))},c.b64utoutf8=Cn=function(i){return A.from(Lr(i),"base64").toString("utf8")}):(c.utf8tob64u=gi=function(i){return jt(Vn(jr(i)))},c.b64utoutf8=Cn=function(i){return decodeURIComponent(Br(mt(i)))}),U.lang.String.isInteger=function(a){return!!a.match(/^[0-9]+$/)||!!a.match(/^-[0-9]+$/)},U.lang.String.isHex=function(a){return vr(a)},U.lang.String.isBase64=function(a){return!(!(a=a.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||a.length%4!=0)},U.lang.String.isBase64URL=function(a){return!a.match(/[+/=]/)&&(a=Lr(a),U.lang.String.isBase64(a))},U.lang.String.isIntegerArray=function(a){return!!(a=a.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},U.lang.String.isPrintable=function(a){return a.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},U.lang.String.isIA5=function(a){return a.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},U.lang.String.isMail=function(a){return a.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Ir=function(i,o,u){return u==null&&(u="0"),i.length>=o?i:new Array(o-i.length+1).join(u)+i};function St(a,i){var o=function(){};o.prototype=i.prototype,a.prototype=new o,a.prototype.constructor=a,a.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i)}U!==void 0&&U||(c.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:O.algo.MD5,sha1:O.algo.SHA1,sha224:O.algo.SHA224,sha256:O.algo.SHA256,sha384:O.algo.SHA384,sha512:O.algo.SHA512,ripemd160:O.algo.RIPEMD160},this.getDigestInfoHex=function(a,i){if(this.DIGESTINFOHEAD[i]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+i;return this.DIGESTINFOHEAD[i]+a},this.getPaddedDigestInfoHex=function(a,i,o){var u=this.getDigestInfoHex(a,i),d=o/4;if(u.length+22>d)throw"key is too short for SigAlg: keylen="+o+","+i;for(var _="0001",F="00"+u,B="",N=d-_.length-F.length,L=0;L<N;L+=2)B+="ff";return _+B+F},this.hashString=function(a,i){return new U.crypto.MessageDigest({alg:i}).digestString(a)},this.hashHex=function(a,i){return new U.crypto.MessageDigest({alg:i}).digestHex(a)},this.sha1=function(a){return this.hashString(a,"sha1")},this.sha256=function(a){return this.hashString(a,"sha256")},this.sha256Hex=function(a){return this.hashHex(a,"sha256")},this.sha512=function(a){return this.hashString(a,"sha512")},this.sha512Hex=function(a){return this.hashHex(a,"sha512")},this.isKey=function(a){return a instanceof Pe||a instanceof U.crypto.DSA||a instanceof U.crypto.ECDSA}},U.crypto.Util.md5=function(a){return new U.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(a)},U.crypto.Util.ripemd160=function(a){return new U.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(a)},U.crypto.Util.SECURERANDOMGEN=new yt,U.crypto.Util.getRandomHexOfNbytes=function(a){var i=new Array(a);return U.crypto.Util.SECURERANDOMGEN.nextBytes(i),pr(i)},U.crypto.Util.getRandomBigIntegerOfNbytes=function(a){return new J(U.crypto.Util.getRandomHexOfNbytes(a),16)},U.crypto.Util.getRandomHexOfNbits=function(a){var i=a%8,o=new Array((a-i)/8+1);return U.crypto.Util.SECURERANDOMGEN.nextBytes(o),o[0]=(255<<i&255^255)&o[0],pr(o)},U.crypto.Util.getRandomBigIntegerOfNbits=function(a){return new J(U.crypto.Util.getRandomHexOfNbits(a),16)},U.crypto.Util.getRandomBigIntegerZeroToMax=function(a){for(var i=a.bitLength();;){var o=U.crypto.Util.getRandomBigIntegerOfNbits(i);if(a.compareTo(o)!=-1)return o}},U.crypto.Util.getRandomBigIntegerMinToMax=function(a,i){var o=a.compareTo(i);if(o==1)throw"biMin is greater than biMax";if(o==0)return a;var u=i.subtract(a);return U.crypto.Util.getRandomBigIntegerZeroToMax(u).add(a)},U.crypto.MessageDigest=function(a){this.setAlgAndProvider=function(i,o){if((i=U.crypto.MessageDigest.getCanonicalAlgName(i))!==null&&o===void 0&&(o=U.crypto.Util.DEFAULTPROVIDER[i]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)!=-1&&o=="cryptojs"){try{this.md=U.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i].create()}catch(u){throw"setAlgAndProvider hash alg set fail alg="+i+"/"+u}this.updateString=function(u){this.md.update(u)},this.updateHex=function(u){var d=O.enc.Hex.parse(u);this.md.update(d)},this.digest=function(){return this.md.finalize().toString(O.enc.Hex)},this.digestString=function(u){return this.updateString(u),this.digest()},this.digestHex=function(u){return this.updateHex(u),this.digest()}}if(":sha256:".indexOf(i)!=-1&&o=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(u){throw"setAlgAndProvider hash alg set fail alg="+i+"/"+u}this.updateString=function(u){this.md.update(u)},this.updateHex=function(u){var d=sjcl.codec.hex.toBits(u);this.md.update(d)},this.digest=function(){var u=this.md.finalize();return sjcl.codec.hex.fromBits(u)},this.digestString=function(u){return this.updateString(u),this.digest()},this.digestHex=function(u){return this.updateHex(u),this.digest()}}},this.updateString=function(i){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(i){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(i){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(i){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},a!==void 0&&a.alg!==void 0&&(this.algName=a.alg,a.prov===void 0&&(this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},U.crypto.MessageDigest.getCanonicalAlgName=function(a){return typeof a=="string"&&(a=(a=a.toLowerCase()).replace(/-/,"")),a},U.crypto.MessageDigest.getHashLength=function(a){var i=U.crypto.MessageDigest,o=i.getCanonicalAlgName(a);if(i.HASHLENGTH[o]===void 0)throw"not supported algorithm: "+a;return i.HASHLENGTH[o]},U.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},U.crypto.Mac=function(a){this.setAlgAndProvider=function(i,o){if((i=i.toLowerCase())==null&&(i="hmacsha1"),(i=i.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+i;o===void 0&&(o=U.crypto.Util.DEFAULTPROVIDER[i]),this.algProv=i+"/"+o;var u=i.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(u)!=-1&&o=="cryptojs"){try{var d=U.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[u];this.mac=O.algo.HMAC.create(d,this.pass)}catch(_){throw"setAlgAndProvider hash alg set fail hashAlg="+u+"/"+_}this.updateString=function(_){this.mac.update(_)},this.updateHex=function(_){var F=O.enc.Hex.parse(_);this.mac.update(F)},this.doFinal=function(){return this.mac.finalize().toString(O.enc.Hex)},this.doFinalString=function(_){return this.updateString(_),this.doFinal()},this.doFinalHex=function(_){return this.updateHex(_),this.doFinal()}}},this.updateString=function(i){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(i){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(i){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(i){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(i){if(typeof i=="string"){var o=i;return i.length%2!=1&&i.match(/^[0-9A-Fa-f]+$/)||(o=Dn(i)),void(this.pass=O.enc.Hex.parse(o))}if((i===void 0?"undefined":K(i))!="object")throw"KJUR.crypto.Mac unsupported password type: "+i;if(o=null,i.hex!==void 0){if(i.hex.length%2!=0||!i.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+i.hex;o=i.hex}if(i.utf8!==void 0&&(o=yr(i.utf8)),i.rstr!==void 0&&(o=Dn(i.rstr)),i.b64!==void 0&&(o=le(i.b64)),i.b64u!==void 0&&(o=mt(i.b64u)),o==null)throw"KJUR.crypto.Mac unsupported password type: "+i;this.pass=O.enc.Hex.parse(o)},a!==void 0&&(a.pass!==void 0&&this.setPassword(a.pass),a.alg!==void 0&&(this.algName=a.alg,a.prov===void 0&&(this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},U.crypto.Signature=function(a){var i=null;if(this._setAlgNames=function(){var o=this.algName.match(/^(.+)with(.+)$/);o&&(this.mdAlgName=o[1].toLowerCase(),this.pubkeyAlgName=o[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(o,u){for(var d="",_=u/4-o.length,F=0;F<_;F++)d+="0";return d+o},this.setAlgAndProvider=function(o,u){if(this._setAlgNames(),u!="cryptojs/jsrsa")throw new Error("provider not supported: "+u);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new U.crypto.MessageDigest({alg:this.mdAlgName})}catch(d){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+d)}this.init=function(d,_){var F=null;try{F=_===void 0?tt.getKey(d):tt.getKey(d,_)}catch(B){throw"init failed:"+B}if(F.isPrivate===!0)this.prvKey=F,this.state="SIGN";else{if(F.isPublic!==!0)throw"init failed.:"+F;this.pubKey=F,this.state="VERIFY"}},this.updateString=function(d){this.md.updateString(d)},this.updateHex=function(d){this.md.updateHex(d)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&U.crypto.ECDSA!==void 0&&(this.prvKey=new U.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Pe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Pe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof U.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof U.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(d){return this.updateString(d),this.sign()},this.signHex=function(d){return this.updateHex(d),this.sign()},this.verify=function(d){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&U.crypto.ECDSA!==void 0&&(this.pubKey=new U.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Pe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,d,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Pe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,d);if(U.crypto.ECDSA!==void 0&&this.pubKey instanceof U.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,d);if(U.crypto.DSA!==void 0&&this.pubKey instanceof U.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,d);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(o,u){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(o){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(o){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(o){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(o){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(o){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=a,a!==void 0&&(a.alg!==void 0&&(this.algName=a.alg,a.prov===void 0?this.provName=U.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=a.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),a.psssaltlen!==void 0&&(this.pssSaltLen=a.psssaltlen),a.prvkeypem!==void 0)){if(a.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{i=tt.getKey(a.prvkeypem),this.init(i)}catch(o){throw"fatal error to load pem private key: "+o}}},U.crypto.Cipher=function(a){},U.crypto.Cipher.encrypt=function(a,i,o){if(i instanceof Pe&&i.isPublic){var u=U.crypto.Cipher.getAlgByKeyAndName(i,o);if(u==="RSA")return i.encrypt(a);if(u==="RSAOAEP")return i.encryptOAEP(a,"sha1");var d=u.match(/^RSAOAEP(\d+)$/);if(d!==null)return i.encryptOAEP(a,"sha"+d[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+o}throw"Cipher.encrypt: unsupported key or algorithm"},U.crypto.Cipher.decrypt=function(a,i,o){if(i instanceof Pe&&i.isPrivate){var u=U.crypto.Cipher.getAlgByKeyAndName(i,o);if(u==="RSA")return i.decrypt(a);if(u==="RSAOAEP")return i.decryptOAEP(a,"sha1");var d=u.match(/^RSAOAEP(\d+)$/);if(d!==null)return i.decryptOAEP(a,"sha"+d[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+o}throw"Cipher.decrypt: unsupported key or algorithm"},U.crypto.Cipher.getAlgByKeyAndName=function(a,i){if(a instanceof Pe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(i)!=-1)return i;if(i==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+i}throw"getAlgByKeyAndName: not supported algorithm name: "+i},U.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},U!==void 0&&U||(c.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.ECDSA=function(a){var i=Error,o=J,u=qe,d=U.crypto.ECDSA,_=U.crypto.ECParameterDB,F=d.getName,B=De,N=B.getVbyListEx,L=B.isASN1HEX,V=new yt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(z){return new o(z.bitLength(),V).mod(z.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(z){this.ecparams=_.getByName(z),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=z},this.setPrivateKeyHex=function(z){this.isPrivate=!0,this.prvKeyHex=z},this.setPublicKeyHex=function(z){this.isPublic=!0,this.pubKeyHex=z},this.getPublicKeyXYHex=function(){var z=this.pubKeyHex;if(z.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var Z=this.ecparams.keylen/4;if(z.length!==2+2*Z)throw"malformed public key hex length";var ie={};return ie.x=z.substr(2,Z),ie.y=z.substr(2+Z),ie},this.getShortNISTPCurveName=function(){var z=this.curveName;return z==="secp256r1"||z==="NIST P-256"||z==="P-256"||z==="prime256v1"?"P-256":z==="secp384r1"||z==="NIST P-384"||z==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var z=this.ecparams.n,Z=this.getBigRandom(z),ie=this.ecparams.G.multiply(Z),se=ie.getX().toBigInteger(),de=ie.getY().toBigInteger(),ye=this.ecparams.keylen/4,x=("0000000000"+Z.toString(16)).slice(-ye),q="04"+("0000000000"+se.toString(16)).slice(-ye)+("0000000000"+de.toString(16)).slice(-ye);return this.setPrivateKeyHex(x),this.setPublicKeyHex(q),{ecprvhex:x,ecpubhex:q}},this.signWithMessageHash=function(z){return this.signHex(z,this.prvKeyHex)},this.signHex=function(z,Z){var ie=new o(Z,16),se=this.ecparams.n,de=new o(z.substring(0,this.ecparams.keylen/4),16);do var ye=this.getBigRandom(se),x=this.ecparams.G.multiply(ye).getX().toBigInteger().mod(se);while(x.compareTo(o.ZERO)<=0);var q=ye.modInverse(se).multiply(de.add(ie.multiply(x))).mod(se);return d.biRSSigToASN1Sig(x,q)},this.sign=function(z,Z){var ie=Z,se=this.ecparams.n,de=o.fromByteArrayUnsigned(z);do var ye=this.getBigRandom(se),x=this.ecparams.G.multiply(ye).getX().toBigInteger().mod(se);while(x.compareTo(J.ZERO)<=0);var q=ye.modInverse(se).multiply(de.add(ie.multiply(x))).mod(se);return this.serializeSig(x,q)},this.verifyWithMessageHash=function(z,Z){return this.verifyHex(z,Z,this.pubKeyHex)},this.verifyHex=function(z,Z,ie){try{var se,de,ye=d.parseSigHex(Z);se=ye.r,de=ye.s;var x=u.decodeFromHex(this.ecparams.curve,ie),q=new o(z.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(q,se,de,x)}catch{return!1}},this.verify=function(z,Z,ie){var se,de,ye;if(Bitcoin.Util.isArray(Z)){var x=this.parseSig(Z);se=x.r,de=x.s}else{if((Z===void 0?"undefined":K(Z))!=="object"||!Z.r||!Z.s)throw"Invalid value for signature";se=Z.r,de=Z.s}if(ie instanceof qe)ye=ie;else{if(!Bitcoin.Util.isArray(ie))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ye=u.decodeFrom(this.ecparams.curve,ie)}var q=o.fromByteArrayUnsigned(z);return this.verifyRaw(q,se,de,ye)},this.verifyRaw=function(z,Z,ie,se){var de=this.ecparams.n,ye=this.ecparams.G;if(Z.compareTo(o.ONE)<0||Z.compareTo(de)>=0||ie.compareTo(o.ONE)<0||ie.compareTo(de)>=0)return!1;var x=ie.modInverse(de),q=z.multiply(x).mod(de),G=Z.multiply(x).mod(de);return ye.multiply(q).add(se.multiply(G)).getX().toBigInteger().mod(de).equals(Z)},this.serializeSig=function(z,Z){var ie=z.toByteArraySigned(),se=Z.toByteArraySigned(),de=[];return de.push(2),de.push(ie.length),(de=de.concat(ie)).push(2),de.push(se.length),(de=de.concat(se)).unshift(de.length),de.unshift(48),de},this.parseSig=function(z){var Z;if(z[0]!=48)throw new Error("Signature not a valid DERSequence");if(z[Z=2]!=2)throw new Error("First element in signature must be a DERInteger");var ie=z.slice(Z+2,Z+2+z[Z+1]);if(z[Z+=2+z[Z+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var se=z.slice(Z+2,Z+2+z[Z+1]);return Z+=2+z[Z+1],{r:o.fromByteArrayUnsigned(ie),s:o.fromByteArrayUnsigned(se)}},this.parseSigCompact=function(z){if(z.length!==65)throw"Signature has the wrong length";var Z=z[0]-27;if(Z<0||Z>7)throw"Invalid signature type";var ie=this.ecparams.n;return{r:o.fromByteArrayUnsigned(z.slice(1,33)).mod(ie),s:o.fromByteArrayUnsigned(z.slice(33,65)).mod(ie),i:Z}},this.readPKCS5PrvKeyHex=function(z){if(L(z)===!1)throw new Error("not ASN.1 hex string");var Z,ie,se;try{Z=N(z,0,["[0]",0],"06"),ie=N(z,0,[1],"04");try{se=N(z,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=F(Z),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(se),this.setPrivateKeyHex(ie),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(z){if(L(z)===!1)throw new i("not ASN.1 hex string");var Z,ie,se;try{N(z,0,[1,0],"06"),Z=N(z,0,[1,1],"06"),ie=N(z,0,[2,0,1],"04");try{se=N(z,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new i("malformed PKCS#8 plain ECC private key")}if(this.curveName=F(Z),this.curveName===void 0)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(se),this.setPrivateKeyHex(ie),this.isPublic=!1},this.readPKCS8PubKeyHex=function(z){if(L(z)===!1)throw new i("not ASN.1 hex string");var Z,ie;try{N(z,0,[0,0],"06"),Z=N(z,0,[0,1],"06"),ie=N(z,0,[1],"03")}catch{throw new i("malformed PKCS#8 ECC public key")}if(this.curveName=F(Z),this.curveName===null)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ie)},this.readCertPubKeyHex=function(z,Z){if(L(z)===!1)throw new i("not ASN.1 hex string");var ie,se;try{ie=N(z,0,[0,5,0,1],"06"),se=N(z,0,[0,5,1],"03")}catch{throw new i("malformed X.509 certificate ECC public key")}if(this.curveName=F(ie),this.curveName===null)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(se)},a!==void 0&&a.curve!==void 0&&(this.curveName=a.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),a!==void 0&&(a.prv!==void 0&&this.setPrivateKeyHex(a.prv),a.pub!==void 0&&this.setPublicKeyHex(a.pub))},U.crypto.ECDSA.parseSigHex=function(a){var i=U.crypto.ECDSA.parseSigHexInHexRS(a);return{r:new J(i.r,16),s:new J(i.s,16)}},U.crypto.ECDSA.parseSigHexInHexRS=function(a){var i=De,o=i.getChildIdx,u=i.getV;if(i.checkStrictDER(a,0),a.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var d=o(a,0);if(d.length!=2)throw new Error("signature shall have two elements");var _=d[0],F=d[1];if(a.substr(_,2)!="02")throw new Error("1st item not ASN.1 integer");if(a.substr(F,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:u(a,_),s:u(a,F)}},U.crypto.ECDSA.asn1SigToConcatSig=function(a){var i=U.crypto.ECDSA.parseSigHexInHexRS(a),o=i.r,u=i.s;if(o.substr(0,2)=="00"&&o.length%32==2&&(o=o.substr(2)),u.substr(0,2)=="00"&&u.length%32==2&&(u=u.substr(2)),o.length%32==30&&(o="00"+o),u.length%32==30&&(u="00"+u),o.length%32!=0)throw"unknown ECDSA sig r length error";if(u.length%32!=0)throw"unknown ECDSA sig s length error";return o+u},U.crypto.ECDSA.concatSigToASN1Sig=function(a){if(a.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var i=a.substr(0,a.length/2),o=a.substr(a.length/2);return U.crypto.ECDSA.hexRSSigToASN1Sig(i,o)},U.crypto.ECDSA.hexRSSigToASN1Sig=function(a,i){var o=new J(a,16),u=new J(i,16);return U.crypto.ECDSA.biRSSigToASN1Sig(o,u)},U.crypto.ECDSA.biRSSigToASN1Sig=function(a,i){var o=U.asn1,u=new o.DERInteger({bigint:a}),d=new o.DERInteger({bigint:i});return new o.DERSequence({array:[u,d]}).getEncodedHex()},U.crypto.ECDSA.getName=function(a){return a==="2b8104001f"?"secp192k1":a==="2a8648ce3d030107"?"secp256r1":a==="2b8104000a"?"secp256k1":a==="2b81040021"?"secp224r1":a==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(a)!==-1?"secp256r1":"|secp256k1|".indexOf(a)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(a)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(a)!==-1?"secp384r1":null},U!==void 0&&U||(c.KJUR=U={}),U.crypto!==void 0&&U.crypto||(U.crypto={}),U.crypto.ECParameterDB=new function(){var a={},i={};function o(u){return new J(u,16)}this.getByName=function(u){var d=u;if(i[d]!==void 0&&(d=i[u]),a[d]!==void 0)return a[d];throw"unregistered EC curve name: "+d},this.regist=function(u,d,_,F,B,N,L,V,z,Z,ie,se){a[u]={};var de=o(_),ye=o(F),x=o(B),q=o(N),G=o(L),W=new qt(de,ye,x),ue=W.decodePointHex("04"+V+z);a[u].name=u,a[u].keylen=d,a[u].curve=W,a[u].G=ue,a[u].n=q,a[u].h=G,a[u].oid=ie,a[u].info=se;for(var me=0;me<Z.length;me++)i[Z[me]]=u}},U.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),U.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),U.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),U.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),U.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),U.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),U.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),U.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),U.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),U.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var tt=function(){var a=function(L,V,z){return i(O.AES,L,V,z)},i=function(L,V,z,Z){var ie=O.enc.Hex.parse(V),se=O.enc.Hex.parse(z),de=O.enc.Hex.parse(Z),ye={};ye.key=se,ye.iv=de,ye.ciphertext=ie;var x=L.decrypt(ye,se,{iv:de});return O.enc.Hex.stringify(x)},o=function(L,V,z){return u(O.AES,L,V,z)},u=function(L,V,z,Z){var ie=O.enc.Hex.parse(V),se=O.enc.Hex.parse(z),de=O.enc.Hex.parse(Z),ye=L.encrypt(ie,se,{iv:de}),x=O.enc.Hex.parse(ye.toString());return O.enc.Base64.stringify(x)},d={"AES-256-CBC":{proc:a,eproc:o,keylen:32,ivlen:16},"AES-192-CBC":{proc:a,eproc:o,keylen:24,ivlen:16},"AES-128-CBC":{proc:a,eproc:o,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(L,V,z){return i(O.TripleDES,L,V,z)},eproc:function(L,V,z){return u(O.TripleDES,L,V,z)},keylen:24,ivlen:8},"DES-CBC":{proc:function(L,V,z){return i(O.DES,L,V,z)},eproc:function(L,V,z){return u(O.DES,L,V,z)},keylen:8,ivlen:8}},_=function(L){var V={},z=L.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));z&&(V.cipher=z[1],V.ivsalt=z[2]);var Z=L.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Z&&(V.type=Z[1]);var ie=-1,se=0;L.indexOf(`\r
\r
`)!=-1&&(ie=L.indexOf(`\r
\r
`),se=2),L.indexOf(`

`)!=-1&&(ie=L.indexOf(`

`),se=1);var de=L.indexOf("-----END");if(ie!=-1&&de!=-1){var ye=L.substring(ie+2*se,de-se);ye=ye.replace(/\s+/g,""),V.data=ye}return V},F=function(L,V,z){for(var Z=z.substring(0,16),ie=O.enc.Hex.parse(Z),se=O.enc.Utf8.parse(V),de=d[L].keylen+d[L].ivlen,ye="",x=null;;){var q=O.algo.MD5.create();if(x!=null&&q.update(x),q.update(se),q.update(ie),x=q.finalize(),(ye+=O.enc.Hex.stringify(x)).length>=2*de)break}var G={};return G.keyhex=ye.substr(0,2*d[L].keylen),G.ivhex=ye.substr(2*d[L].keylen,2*d[L].ivlen),G},B=function(L,V,z,Z){var ie=O.enc.Base64.parse(L),se=O.enc.Hex.stringify(ie);return(0,d[V].proc)(se,z,Z)};return{version:"1.0.0",parsePKCS5PEM:function(L){return _(L)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(L,V,z){return F(L,V,z)},decryptKeyB64:function(L,V,z,Z){return B(L,V,z,Z)},getDecryptedKeyHex:function(L,V){var z=_(L),Z=(z.type,z.cipher),ie=z.ivsalt,se=z.data,de=F(Z,V,ie).keyhex;return B(se,Z,de,ie)},getEncryptedPKCS5PEMFromPrvKeyHex:function(L,V,z,Z,ie){var se="";if(Z!==void 0&&Z!=null||(Z="AES-256-CBC"),d[Z]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+Z);ie!==void 0&&ie!=null||(ie=function(x){var q=O.lib.WordArray.random(x);return O.enc.Hex.stringify(q)}(d[Z].ivlen).toUpperCase());var de=function(x,q,G,W){return(0,d[q].eproc)(x,G,W)}(V,Z,F(Z,z,ie).keyhex,ie);return se="-----BEGIN "+L+` PRIVATE KEY-----\r
`,se+=`Proc-Type: 4,ENCRYPTED\r
`,se+="DEK-Info: "+Z+","+ie+`\r
`,se+=`\r
`,se+=de.replace(/(.{64})/g,`$1\r
`),se+=`\r
-----END `+L+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(L){var V=De,z=V.getChildIdx,Z=V.getV,ie={},se=z(L,0);if(se.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+se.length);ie.ciphertext=Z(L,se[1]);var de=z(L,se[0]);if(de.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+de.length);if(Z(L,de[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ye=z(L,de[1]);if(de.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ye.length);var x=z(L,ye[1]);if(x.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+x.length);if(Z(L,x[0])!="2a864886f70d0307")throw"this only supports TripleDES";ie.encryptionSchemeAlg="TripleDES",ie.encryptionSchemeIV=Z(L,x[1]);var q=z(L,ye[0]);if(q.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+q.length);if(Z(L,q[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var G=z(L,q[1]);if(G.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+G.length);ie.pbkdf2Salt=Z(L,G[0]);var W=Z(L,G[1]);try{ie.pbkdf2Iter=parseInt(W,16)}catch{throw new Error("malformed format pbkdf2Iter: "+W)}return ie},getPBKDF2KeyHexFromParam:function(L,V){var z=O.enc.Hex.parse(L.pbkdf2Salt),Z=L.pbkdf2Iter,ie=O.PBKDF2(V,z,{keySize:6,iterations:Z});return O.enc.Hex.stringify(ie)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(L,V){var z=$t(L,"ENCRYPTED PRIVATE KEY"),Z=this.parseHexOfEncryptedPKCS8(z),ie=tt.getPBKDF2KeyHexFromParam(Z,V),se={};se.ciphertext=O.enc.Hex.parse(Z.ciphertext);var de=O.enc.Hex.parse(ie),ye=O.enc.Hex.parse(Z.encryptionSchemeIV),x=O.TripleDES.decrypt(se,de,{iv:ye});return O.enc.Hex.stringify(x)},getKeyFromEncryptedPKCS8PEM:function(L,V){var z=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(L,V);return this.getKeyFromPlainPrivatePKCS8Hex(z)},parsePlainPrivatePKCS8Hex:function(L){var V=De,z=V.getChildIdx,Z=V.getV,ie={algparam:null};if(L.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var se=z(L,0);if(se.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(L.substr(se[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var de=z(L,se[1]);if(de.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(L.substr(de[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(ie.algoid=Z(L,de[0]),L.substr(de[1],2)=="06"&&(ie.algparam=Z(L,de[1])),L.substr(se[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return ie.keyidx=V.getVidx(L,se[2]),ie},getKeyFromPlainPrivatePKCS8PEM:function(L){var V=$t(L,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(V)},getKeyFromPlainPrivatePKCS8Hex:function(L){var V,z=this.parsePlainPrivatePKCS8Hex(L);if(z.algoid=="2a864886f70d010101")V=new Pe;else if(z.algoid=="2a8648ce380401")V=new U.crypto.DSA;else{if(z.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");V=new U.crypto.ECDSA}return V.readPKCS8PrvKeyHex(L),V},_getKeyFromPublicPKCS8Hex:function(L){var V,z=De.getVbyList(L,0,[0,0],"06");if(z==="2a864886f70d010101")V=new Pe;else if(z==="2a8648ce380401")V=new U.crypto.DSA;else{if(z!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");V=new U.crypto.ECDSA}return V.readPKCS8PubKeyHex(L),V},parsePublicRawRSAKeyHex:function(L){var V=De,z=V.getChildIdx,Z=V.getV,ie={};if(L.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var se=z(L,0);if(se.length!=2)throw new Error("malformed RSA key(code:002)");if(L.substr(se[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(ie.n=Z(L,se[0]),L.substr(se[1],2)!="02")throw new Error("malformed RSA key(code:004)");return ie.e=Z(L,se[1]),ie},parsePublicPKCS8Hex:function(L){var V=De,z=V.getChildIdx,Z=V.getV,ie={algparam:null},se=z(L,0);if(se.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+se.length);var de=se[0];if(L.substr(de,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ye=z(L,de);if(ye.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(L.substr(ye[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(ie.algoid=Z(L,ye[0]),L.substr(ye[1],2)=="06"?ie.algparam=Z(L,ye[1]):L.substr(ye[1],2)=="30"&&(ie.algparam={},ie.algparam.p=V.getVbyList(L,ye[1],[0],"02"),ie.algparam.q=V.getVbyList(L,ye[1],[1],"02"),ie.algparam.g=V.getVbyList(L,ye[1],[2],"02")),L.substr(se[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return ie.key=Z(L,se[1]).substr(2),ie}}}();tt.getKey=function(a,i,o){var u=(ye=De).getChildIdx,d=(ye.getV,ye.getVbyList),_=U.crypto,F=_.ECDSA,B=_.DSA,N=Pe,L=$t,V=tt;if(N!==void 0&&a instanceof N||F!==void 0&&a instanceof F||B!==void 0&&a instanceof B)return a;if(a.curve!==void 0&&a.xy!==void 0&&a.d===void 0)return new F({pub:a.xy,curve:a.curve});if(a.curve!==void 0&&a.d!==void 0)return new F({prv:a.d,curve:a.curve});if(a.kty===void 0&&a.n!==void 0&&a.e!==void 0&&a.d===void 0)return(Be=new N).setPublic(a.n,a.e),Be;if(a.kty===void 0&&a.n!==void 0&&a.e!==void 0&&a.d!==void 0&&a.p!==void 0&&a.q!==void 0&&a.dp!==void 0&&a.dq!==void 0&&a.co!==void 0&&a.qi===void 0)return(Be=new N).setPrivateEx(a.n,a.e,a.d,a.p,a.q,a.dp,a.dq,a.co),Be;if(a.kty===void 0&&a.n!==void 0&&a.e!==void 0&&a.d!==void 0&&a.p===void 0)return(Be=new N).setPrivate(a.n,a.e,a.d),Be;if(a.p!==void 0&&a.q!==void 0&&a.g!==void 0&&a.y!==void 0&&a.x===void 0)return(Be=new B).setPublic(a.p,a.q,a.g,a.y),Be;if(a.p!==void 0&&a.q!==void 0&&a.g!==void 0&&a.y!==void 0&&a.x!==void 0)return(Be=new B).setPrivate(a.p,a.q,a.g,a.y,a.x),Be;if(a.kty==="RSA"&&a.n!==void 0&&a.e!==void 0&&a.d===void 0)return(Be=new N).setPublic(mt(a.n),mt(a.e)),Be;if(a.kty==="RSA"&&a.n!==void 0&&a.e!==void 0&&a.d!==void 0&&a.p!==void 0&&a.q!==void 0&&a.dp!==void 0&&a.dq!==void 0&&a.qi!==void 0)return(Be=new N).setPrivateEx(mt(a.n),mt(a.e),mt(a.d),mt(a.p),mt(a.q),mt(a.dp),mt(a.dq),mt(a.qi)),Be;if(a.kty==="RSA"&&a.n!==void 0&&a.e!==void 0&&a.d!==void 0)return(Be=new N).setPrivate(mt(a.n),mt(a.e),mt(a.d)),Be;if(a.kty==="EC"&&a.crv!==void 0&&a.x!==void 0&&a.y!==void 0&&a.d===void 0){var z=(Ue=new F({curve:a.crv})).ecparams.keylen/4,Z="04"+("0000000000"+mt(a.x)).slice(-z)+("0000000000"+mt(a.y)).slice(-z);return Ue.setPublicKeyHex(Z),Ue}if(a.kty==="EC"&&a.crv!==void 0&&a.x!==void 0&&a.y!==void 0&&a.d!==void 0){z=(Ue=new F({curve:a.crv})).ecparams.keylen/4,Z="04"+("0000000000"+mt(a.x)).slice(-z)+("0000000000"+mt(a.y)).slice(-z);var ie=("0000000000"+mt(a.d)).slice(-z);return Ue.setPublicKeyHex(Z),Ue.setPrivateKeyHex(ie),Ue}if(o==="pkcs5prv"){var se,de=a,ye=De;if((se=u(de,0)).length===9)(Be=new N).readPKCS5PrvKeyHex(de);else if(se.length===6)(Be=new B).readPKCS5PrvKeyHex(de);else{if(!(se.length>2&&de.substr(se[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Be=new F).readPKCS5PrvKeyHex(de)}return Be}if(o==="pkcs8prv")return Be=V.getKeyFromPlainPrivatePKCS8Hex(a);if(o==="pkcs8pub")return V._getKeyFromPublicPKCS8Hex(a);if(o==="x509pub")return Dt.getPublicKeyFromCertHex(a);if(a.indexOf("-END CERTIFICATE-",0)!=-1||a.indexOf("-END X509 CERTIFICATE-",0)!=-1||a.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Dt.getPublicKeyFromCertPEM(a);if(a.indexOf("-END PUBLIC KEY-")!=-1){var x=$t(a,"PUBLIC KEY");return V._getKeyFromPublicPKCS8Hex(x)}if(a.indexOf("-END RSA PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")==-1){var q=L(a,"RSA PRIVATE KEY");return V.getKey(q,null,"pkcs5prv")}if(a.indexOf("-END DSA PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")==-1){var G=d(wt=L(a,"DSA PRIVATE KEY"),0,[1],"02"),W=d(wt,0,[2],"02"),ue=d(wt,0,[3],"02"),me=d(wt,0,[4],"02"),Oe=d(wt,0,[5],"02");return(Be=new B).setPrivate(new J(G,16),new J(W,16),new J(ue,16),new J(me,16),new J(Oe,16)),Be}if(a.indexOf("-END EC PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")==-1)return q=L(a,"EC PRIVATE KEY"),V.getKey(q,null,"pkcs5prv");if(a.indexOf("-END PRIVATE KEY-")!=-1)return V.getKeyFromPlainPrivatePKCS8PEM(a);if(a.indexOf("-END RSA PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")!=-1){var xe=V.getDecryptedKeyHex(a,i),Qe=new Pe;return Qe.readPKCS5PrvKeyHex(xe),Qe}if(a.indexOf("-END EC PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")!=-1){var Ue,Be=d(wt=V.getDecryptedKeyHex(a,i),0,[1],"04"),ct=d(wt,0,[2,0],"06"),ht=d(wt,0,[3,0],"03").substr(2);if(U.crypto.OID.oidhex2name[ct]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+ct);return(Ue=new F({curve:U.crypto.OID.oidhex2name[ct]})).setPublicKeyHex(ht),Ue.setPrivateKeyHex(Be),Ue.isPublic=!1,Ue}if(a.indexOf("-END DSA PRIVATE KEY-")!=-1&&a.indexOf("4,ENCRYPTED")!=-1){var wt;return G=d(wt=V.getDecryptedKeyHex(a,i),0,[1],"02"),W=d(wt,0,[2],"02"),ue=d(wt,0,[3],"02"),me=d(wt,0,[4],"02"),Oe=d(wt,0,[5],"02"),(Be=new B).setPrivate(new J(G,16),new J(W,16),new J(ue,16),new J(me,16),new J(Oe,16)),Be}if(a.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return V.getKeyFromEncryptedPKCS8PEM(a,i);throw new Error("not supported argument")},tt.generateKeypair=function(a,i){if(a=="RSA"){var o=i;(F=new Pe).generate(o,"10001"),F.isPrivate=!0,F.isPublic=!0;var u=new Pe,d=F.n.toString(16),_=F.e.toString(16);return u.setPublic(d,_),u.isPrivate=!1,u.isPublic=!0,(B={}).prvKeyObj=F,B.pubKeyObj=u,B}if(a=="EC"){var F,B,N=i,L=new U.crypto.ECDSA({curve:N}).generateKeyPairHex();return(F=new U.crypto.ECDSA({curve:N})).setPublicKeyHex(L.ecpubhex),F.setPrivateKeyHex(L.ecprvhex),F.isPrivate=!0,F.isPublic=!1,(u=new U.crypto.ECDSA({curve:N})).setPublicKeyHex(L.ecpubhex),u.isPrivate=!1,u.isPublic=!0,(B={}).prvKeyObj=F,B.pubKeyObj=u,B}throw new Error("unknown algorithm: "+a)},tt.getPEM=function(a,i,o,u,d,_){var F=U,B=F.asn1,N=B.DERObjectIdentifier,L=B.DERInteger,V=B.ASN1Util.newObject,z=B.x509.SubjectPublicKeyInfo,Z=F.crypto,ie=Z.DSA,se=Z.ECDSA,de=Pe;function ye(Ue){return V({seq:[{int:0},{int:{bigint:Ue.n}},{int:Ue.e},{int:{bigint:Ue.d}},{int:{bigint:Ue.p}},{int:{bigint:Ue.q}},{int:{bigint:Ue.dmp1}},{int:{bigint:Ue.dmq1}},{int:{bigint:Ue.coeff}}]})}function x(Ue){return V({seq:[{int:1},{octstr:{hex:Ue.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ue.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ue.pubKeyHex}}]}]})}function q(Ue){return V({seq:[{int:0},{int:{bigint:Ue.p}},{int:{bigint:Ue.q}},{int:{bigint:Ue.g}},{int:{bigint:Ue.y}},{int:{bigint:Ue.x}}]})}if((de!==void 0&&a instanceof de||ie!==void 0&&a instanceof ie||se!==void 0&&a instanceof se)&&a.isPublic==1&&(i===void 0||i=="PKCS8PUB"))return vn(me=new z(a).getEncodedHex(),"PUBLIC KEY");if(i=="PKCS1PRV"&&de!==void 0&&a instanceof de&&(o===void 0||o==null)&&a.isPrivate==1)return vn(me=ye(a).getEncodedHex(),"RSA PRIVATE KEY");if(i=="PKCS1PRV"&&se!==void 0&&a instanceof se&&(o===void 0||o==null)&&a.isPrivate==1){var G=new N({name:a.curveName}).getEncodedHex(),W=x(a).getEncodedHex(),ue="";return ue+=vn(G,"EC PARAMETERS"),ue+=vn(W,"EC PRIVATE KEY")}if(i=="PKCS1PRV"&&ie!==void 0&&a instanceof ie&&(o===void 0||o==null)&&a.isPrivate==1)return vn(me=q(a).getEncodedHex(),"DSA PRIVATE KEY");if(i=="PKCS5PRV"&&de!==void 0&&a instanceof de&&o!==void 0&&o!=null&&a.isPrivate==1){var me=ye(a).getEncodedHex();return u===void 0&&(u="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",me,o,u,_)}if(i=="PKCS5PRV"&&se!==void 0&&a instanceof se&&o!==void 0&&o!=null&&a.isPrivate==1)return me=x(a).getEncodedHex(),u===void 0&&(u="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",me,o,u,_);if(i=="PKCS5PRV"&&ie!==void 0&&a instanceof ie&&o!==void 0&&o!=null&&a.isPrivate==1)return me=q(a).getEncodedHex(),u===void 0&&(u="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",me,o,u,_);var Oe=function(Be,ct){var ht=xe(Be,ct);return new V({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:ht.pbkdf2Salt}},{int:ht.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:ht.encryptionSchemeIV}}]}]}]},{octstr:{hex:ht.ciphertext}}]}).getEncodedHex()},xe=function(Be,ct){var ht=O.lib.WordArray.random(8),wt=O.lib.WordArray.random(8),rn=O.PBKDF2(ct,ht,{keySize:6,iterations:100}),en=O.enc.Hex.parse(Be),Vt=O.TripleDES.encrypt(en,rn,{iv:wt})+"",dt={};return dt.ciphertext=Vt,dt.pbkdf2Salt=O.enc.Hex.stringify(ht),dt.pbkdf2Iter=100,dt.encryptionSchemeAlg="DES-EDE3-CBC",dt.encryptionSchemeIV=O.enc.Hex.stringify(wt),dt};if(i=="PKCS8PRV"&&de!=null&&a instanceof de&&a.isPrivate==1){var Qe=ye(a).getEncodedHex();return me=V({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Qe}}]}).getEncodedHex(),o===void 0||o==null?vn(me,"PRIVATE KEY"):vn(W=Oe(me,o),"ENCRYPTED PRIVATE KEY")}if(i=="PKCS8PRV"&&se!==void 0&&a instanceof se&&a.isPrivate==1)return Qe=new V({seq:[{int:1},{octstr:{hex:a.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+a.pubKeyHex}}]}]}).getEncodedHex(),me=V({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:a.curveName}}]},{octstr:{hex:Qe}}]}).getEncodedHex(),o===void 0||o==null?vn(me,"PRIVATE KEY"):vn(W=Oe(me,o),"ENCRYPTED PRIVATE KEY");if(i=="PKCS8PRV"&&ie!==void 0&&a instanceof ie&&a.isPrivate==1)return Qe=new L({bigint:a.x}).getEncodedHex(),me=V({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:a.p}},{int:{bigint:a.q}},{int:{bigint:a.g}}]}]},{octstr:{hex:Qe}}]}).getEncodedHex(),o===void 0||o==null?vn(me,"PRIVATE KEY"):vn(W=Oe(me,o),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},tt.getKeyFromCSRPEM=function(a){var i=$t(a,"CERTIFICATE REQUEST");return tt.getKeyFromCSRHex(i)},tt.getKeyFromCSRHex=function(a){var i=tt.parseCSRHex(a);return tt.getKey(i.p8pubkeyhex,null,"pkcs8pub")},tt.parseCSRHex=function(a){var i=De,o=i.getChildIdx,u=i.getTLV,d={},_=a;if(_.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var F=o(_,0);if(F.length<1)throw new Error("malformed CSR(code:002)");if(_.substr(F[0],2)!="30")throw new Error("malformed CSR(code:003)");var B=o(_,F[0]);if(B.length<3)throw new Error("malformed CSR(code:004)");return d.p8pubkeyhex=u(_,B[2]),d},tt.getKeyID=function(a){var i=tt,o=De;typeof a=="string"&&a.indexOf("BEGIN ")!=-1&&(a=i.getKey(a));var u=$t(i.getPEM(a)),d=o.getIdxbyList(u,0,[1]),_=o.getV(u,d).substring(2);return U.crypto.Util.hashHex(_,"sha1")},tt.getJWKFromKey=function(a){var i={};if(a instanceof Pe&&a.isPrivate)return i.kty="RSA",i.n=jt(a.n.toString(16)),i.e=jt(a.e.toString(16)),i.d=jt(a.d.toString(16)),i.p=jt(a.p.toString(16)),i.q=jt(a.q.toString(16)),i.dp=jt(a.dmp1.toString(16)),i.dq=jt(a.dmq1.toString(16)),i.qi=jt(a.coeff.toString(16)),i;if(a instanceof Pe&&a.isPublic)return i.kty="RSA",i.n=jt(a.n.toString(16)),i.e=jt(a.e.toString(16)),i;if(a instanceof U.crypto.ECDSA&&a.isPrivate){if((u=a.getShortNISTPCurveName())!=="P-256"&&u!=="P-384")throw new Error("unsupported curve name for JWT: "+u);var o=a.getPublicKeyXYHex();return i.kty="EC",i.crv=u,i.x=jt(o.x),i.y=jt(o.y),i.d=jt(a.prvKeyHex),i}if(a instanceof U.crypto.ECDSA&&a.isPublic){var u;if((u=a.getShortNISTPCurveName())!=="P-256"&&u!=="P-384")throw new Error("unsupported curve name for JWT: "+u);return o=a.getPublicKeyXYHex(),i.kty="EC",i.crv=u,i.x=jt(o.x),i.y=jt(o.y),i}throw new Error("not supported key object")},Pe.getPosArrayOfChildrenFromHex=function(a){return De.getChildIdx(a,0)},Pe.getHexValueArrayOfChildrenFromHex=function(a){var i,o=De.getV,u=o(a,(i=Pe.getPosArrayOfChildrenFromHex(a))[0]),d=o(a,i[1]),_=o(a,i[2]),F=o(a,i[3]),B=o(a,i[4]),N=o(a,i[5]),L=o(a,i[6]),V=o(a,i[7]),z=o(a,i[8]);return(i=new Array).push(u,d,_,F,B,N,L,V,z),i},Pe.prototype.readPrivateKeyFromPEMString=function(a){var i=$t(a),o=Pe.getHexValueArrayOfChildrenFromHex(i);this.setPrivateEx(o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8])},Pe.prototype.readPKCS5PrvKeyHex=function(a){var i=Pe.getHexValueArrayOfChildrenFromHex(a);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},Pe.prototype.readPKCS8PrvKeyHex=function(a){var i,o,u,d,_,F,B,N,L=De,V=L.getVbyListEx;if(L.isASN1HEX(a)===!1)throw new Error("not ASN.1 hex string");try{i=V(a,0,[2,0,1],"02"),o=V(a,0,[2,0,2],"02"),u=V(a,0,[2,0,3],"02"),d=V(a,0,[2,0,4],"02"),_=V(a,0,[2,0,5],"02"),F=V(a,0,[2,0,6],"02"),B=V(a,0,[2,0,7],"02"),N=V(a,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(i,o,u,d,_,F,B,N)},Pe.prototype.readPKCS5PubKeyHex=function(a){var i=De,o=i.getV;if(i.isASN1HEX(a)===!1)throw new Error("keyHex is not ASN.1 hex string");var u=i.getChildIdx(a,0);if(u.length!==2||a.substr(u[0],2)!=="02"||a.substr(u[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var d=o(a,u[0]),_=o(a,u[1]);this.setPublic(d,_)},Pe.prototype.readPKCS8PubKeyHex=function(a){var i=De;if(i.isASN1HEX(a)===!1)throw new Error("not ASN.1 hex string");if(i.getTLVbyListEx(a,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var o=i.getTLVbyListEx(a,0,[1,0]);this.readPKCS5PubKeyHex(o)},Pe.prototype.readCertPubKeyHex=function(a,i){var o,u;(o=new Dt).readCertHex(a),u=o.getPublicKeyHex(),this.readPKCS8PubKeyHex(u)};function Aa(a,i){for(var o="",u=i/4-a.length,d=0;d<u;d++)o+="0";return o+a}function Ta(a,i,o){for(var u="",d=0;u.length<i;)u+=En(o(Dn(a+String.fromCharCode.apply(String,[(4278190080&d)>>24,(16711680&d)>>16,(65280&d)>>8,255&d])))),d+=1;return u}function ar(a){for(var i in U.crypto.Util.DIGESTINFOHEAD){var o=U.crypto.Util.DIGESTINFOHEAD[i],u=o.length;if(a.substring(0,u)==o)return[i,a.substring(u)]}return[]}function Dt(a){var i,o=De,u=o.getChildIdx,d=o.getV,_=o.getTLV,F=o.getVbyList,B=o.getVbyListEx,N=o.getTLVbyList,L=o.getTLVbyListEx,V=o.getIdxbyList,z=o.getIdxbyListEx,Z=o.getVidx,ie=o.getInt,se=o.oidname,de=o.hextooidstr,ye=$t;try{i=U.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var x=N(this.hex,0,[0,0]);if(x.substr(0,2)=="a0"){var q=N(x,0,[0]),G=ie(q,0);if(G<0||2<G)throw new Error("malformed version field");return this.version=G+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return B(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var x=L(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(x)},this.getAlgorithmIdentifierName=function(x){for(var q in i)if(x===i[q])return q;return se(B(x,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return N(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return N(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var x=F(this.hex,0,[0,4+this.foffset,0]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getNotAfter=function(){var x=F(this.hex,0,[0,4+this.foffset,1]);return x=x.replace(/(..)/g,"%$1"),x=decodeURIComponent(x)},this.getPublicKeyHex=function(){return o.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return V(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var x=this.getPublicKeyIdx();return V(this.hex,x,[1,0],"30")},this.getPublicKey=function(){return tt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var x=N(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(x)},this.getSignatureValueHex=function(){return F(this.hex,0,[2],"03",!0)},this.verifySignature=function(x){var q=this.getSignatureAlgorithmField(),G=this.getSignatureValueHex(),W=N(this.hex,0,[0],"30"),ue=new U.crypto.Signature({alg:q});return ue.init(x),ue.updateHex(W),ue.verify(G)},this.parseExt=function(x){var q,G,W;if(x===void 0){if(W=this.hex,this.version!==3)return-1;q=V(W,0,[0,7,0],"30"),G=u(W,q)}else{W=$t(x);var ue=V(W,0,[0,3,0,0],"06");if(d(W,ue)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);q=V(W,0,[0,3,0,1,0],"30"),G=u(W,q),this.hex=W}this.aExtInfo=new Array;for(var me=0;me<G.length;me++){var Oe={critical:!1},xe=0;u(W,G[me]).length===3&&(Oe.critical=!0,xe=1),Oe.oid=o.hextooidstr(F(W,G[me],[0],"06"));var Qe=V(W,G[me],[1+xe]);Oe.vidx=Z(W,Qe),this.aExtInfo.push(Oe)}},this.getExtInfo=function(x){var q=this.aExtInfo,G=x;if(x.match(/^[0-9.]+$/)||(G=U.asn1.x509.OID.name2oid(x)),G!==""){for(var W=0;W<q.length;W++)if(q[W].oid===G)return q[W]}},this.getExtBasicConstraints=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("basicConstraints");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"basicConstraints"};if(q&&(W.critical=!0),x==="3000")return W;if(x==="30030101ff")return W.cA=!0,W;if(x.substr(0,12)==="30060101ff02"){var ue=d(x,10),me=parseInt(ue,16);return W.cA=!0,W.pathLen=me,W}throw new Error("hExtV parse error: "+x)},this.getExtKeyUsage=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("keyUsage");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"keyUsage"};return q&&(W.critical=!0),W.names=this.getExtKeyUsageString(x).split(","),W},this.getExtKeyUsageBin=function(x){if(x===void 0){var q=this.getExtInfo("keyUsage");if(q===void 0)return"";x=_(this.hex,q.vidx)}if(x.length!=8&&x.length!=10)throw new Error("malformed key usage value: "+x);var G="000000000000000"+parseInt(x.substr(6),16).toString(2);return x.length==8&&(G=G.slice(-8)),x.length==10&&(G=G.slice(-16)),(G=G.replace(/0+$/,""))==""&&(G="0"),G},this.getExtKeyUsageString=function(x){for(var q=this.getExtKeyUsageBin(x),G=new Array,W=0;W<q.length;W++)q.substr(W,1)=="1"&&G.push(Dt.KEYUSAGE_NAME[W]);return G.join(",")},this.getExtSubjectKeyIdentifier=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("subjectKeyIdentifier");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"subjectKeyIdentifier"};q&&(W.critical=!0);var ue=d(x,0);return W.kid={hex:ue},W},this.getExtAuthorityKeyIdentifier=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("authorityKeyIdentifier");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"authorityKeyIdentifier"};q&&(W.critical=!0);for(var ue=u(x,0),me=0;me<ue.length;me++){var Oe=x.substr(ue[me],2);if(Oe==="80"&&(W.kid={hex:d(x,ue[me])}),Oe==="a1"){var xe=_(x,ue[me]),Qe=this.getGeneralNames(xe);W.issuer=Qe[0].dn}Oe==="82"&&(W.sn={hex:d(x,ue[me])})}return W},this.getExtExtKeyUsage=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("extKeyUsage");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"extKeyUsage",array:[]};q&&(W.critical=!0);for(var ue=u(x,0),me=0;me<ue.length;me++)W.array.push(se(d(x,ue[me])));return W},this.getExtExtKeyUsageName=function(){var x=this.getExtInfo("extKeyUsage");if(x===void 0)return x;var q=new Array,G=_(this.hex,x.vidx);if(G==="")return q;for(var W=u(G,0),ue=0;ue<W.length;ue++)q.push(se(d(G,W[ue])));return q},this.getExtSubjectAltName=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("subjectAltName");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"subjectAltName",array:[]};return q&&(W.critical=!0),W.array=this.getGeneralNames(x),W},this.getExtIssuerAltName=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("issuerAltName");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"issuerAltName",array:[]};return q&&(W.critical=!0),W.array=this.getGeneralNames(x),W},this.getGeneralNames=function(x){for(var q=u(x,0),G=[],W=0;W<q.length;W++){var ue=this.getGeneralName(_(x,q[W]));ue!==void 0&&G.push(ue)}return G},this.getGeneralName=function(x){var q=x.substr(0,2),G=d(x,0),W=En(G);return q=="81"?{rfc822:W}:q=="82"?{dns:W}:q=="86"?{uri:W}:q=="87"?{ip:Bi(G)}:q=="a4"?{dn:this.getX500Name(G)}:void 0},this.getExtSubjectAltName2=function(){var x,q,G,W=this.getExtInfo("subjectAltName");if(W===void 0)return W;for(var ue=new Array,me=_(this.hex,W.vidx),Oe=u(me,0),xe=0;xe<Oe.length;xe++)G=me.substr(Oe[xe],2),x=d(me,Oe[xe]),G==="81"&&(q=zt(x),ue.push(["MAIL",q])),G==="82"&&(q=zt(x),ue.push(["DNS",q])),G==="84"&&(q=Dt.hex2dn(x,0),ue.push(["DN",q])),G==="86"&&(q=zt(x),ue.push(["URI",q])),G==="87"&&(q=Bi(x),ue.push(["IP",q]));return ue},this.getExtCRLDistributionPoints=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("cRLDistributionPoints");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"cRLDistributionPoints",array:[]};q&&(W.critical=!0);for(var ue=u(x,0),me=0;me<ue.length;me++){var Oe=_(x,ue[me]);W.array.push(this.getDistributionPoint(Oe))}return W},this.getDistributionPoint=function(x){for(var q={},G=u(x,0),W=0;W<G.length;W++){var ue=x.substr(G[W],2),me=_(x,G[W]);ue=="a0"&&(q.dpname=this.getDistributionPointName(me))}return q},this.getDistributionPointName=function(x){for(var q={},G=u(x,0),W=0;W<G.length;W++){var ue=x.substr(G[W],2),me=_(x,G[W]);ue=="a0"&&(q.full=this.getGeneralNames(me))}return q},this.getExtCRLDistributionPointsURI=function(){var x=this.getExtInfo("cRLDistributionPoints");if(x===void 0)return x;for(var q=new Array,G=u(this.hex,x.vidx),W=0;W<G.length;W++)try{var ue=zt(F(this.hex,G[W],[0,0,0],"86"));q.push(ue)}catch{}return q},this.getExtAIAInfo=function(){var x=this.getExtInfo("authorityInfoAccess");if(x===void 0)return x;for(var q={ocsp:[],caissuer:[]},G=u(this.hex,x.vidx),W=0;W<G.length;W++){var ue=F(this.hex,G[W],[0],"06"),me=F(this.hex,G[W],[1],"86");ue==="2b06010505073001"&&q.ocsp.push(zt(me)),ue==="2b06010505073002"&&q.caissuer.push(zt(me))}return q},this.getExtAuthorityInfoAccess=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("authorityInfoAccess");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"authorityInfoAccess",array:[]};q&&(W.critical=!0);for(var ue=u(x,0),me=0;me<ue.length;me++){var Oe=B(x,ue[me],[0],"06"),xe=zt(F(x,ue[me],[1],"86"));if(Oe=="2b06010505073001")W.array.push({ocsp:xe});else{if(Oe!="2b06010505073002")throw new Error("unknown method: "+Oe);W.array.push({caissuer:xe})}}return W},this.getExtCertificatePolicies=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("certificatePolicies");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"certificatePolicies",array:[]};q&&(W.critical=!0);for(var ue=u(x,0),me=0;me<ue.length;me++){var Oe=_(x,ue[me]),xe=this.getPolicyInformation(Oe);W.array.push(xe)}return W},this.getPolicyInformation=function(x){var q={},G=F(x,0,[0],"06");q.policyoid=se(G);var W=z(x,0,[1],"30");if(W!=-1){q.array=[];for(var ue=u(x,W),me=0;me<ue.length;me++){var Oe=_(x,ue[me]),xe=this.getPolicyQualifierInfo(Oe);q.array.push(xe)}}return q},this.getPolicyQualifierInfo=function(x){var q={},G=F(x,0,[0],"06");if(G==="2b06010505070201"){var W=B(x,0,[1],"16");q.cps=En(W)}else if(G==="2b06010505070202"){var ue=N(x,0,[1],"30");q.unotice=this.getUserNotice(ue)}return q},this.getUserNotice=function(x){for(var q={},G=u(x,0),W=0;W<G.length;W++){var ue=_(x,G[W]);ue.substr(0,2)!="30"&&(q.exptext=this.getDisplayText(ue))}return q},this.getDisplayText=function(x){var q={};return q.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[x.substr(0,2)],q.str=En(d(x,0)),q},this.getExtCRLNumber=function(x,q){var G={extname:"cRLNumber"};if(q&&(G.critical=!0),x.substr(0,2)=="02")return G.num={hex:d(x,0)},G;throw new Error("hExtV parse error: "+x)},this.getExtCRLReason=function(x,q){var G={extname:"cRLReason"};if(q&&(G.critical=!0),x.substr(0,2)=="0a")return G.code=parseInt(d(x,0),16),G;throw new Error("hExtV parse error: "+x)},this.getExtOcspNonce=function(x,q){var G={extname:"ocspNonce"};q&&(G.critical=!0);var W=d(x,0);return G.hex=W,G},this.getExtOcspNoCheck=function(x,q){var G={extname:"ocspNoCheck"};return q&&(G.critical=!0),G},this.getExtAdobeTimeStamp=function(x,q){if(x===void 0&&q===void 0){var G=this.getExtInfo("adobeTimeStamp");if(G===void 0)return;x=_(this.hex,G.vidx),q=G.critical}var W={extname:"adobeTimeStamp"};q&&(W.critical=!0);var ue=u(x,0);if(ue.length>1){var me=_(x,ue[1]),Oe=this.getGeneralName(me);Oe.uri!=null&&(W.uri=Oe.uri)}if(ue.length>2){var xe=_(x,ue[2]);xe=="0101ff"&&(W.reqauth=!0),xe=="010100"&&(W.reqauth=!1)}return W},this.getX500NameRule=function(x){for(var q=null,G=[],W=0;W<x.length;W++)for(var ue=x[W],me=0;me<ue.length;me++)G.push(ue[me]);for(W=0;W<G.length;W++){var Oe=G[W],xe=Oe.ds,Qe=Oe.value,Ue=Oe.type;if(xe!="prn"&&xe!="utf8"&&xe!="ia5")return"mixed";if(xe=="ia5"){if(Ue!="CN")return"mixed";if(U.lang.String.isMail(Qe))continue;return"mixed"}if(Ue=="C"){if(xe=="prn")continue;return"mixed"}if(q==null)q=xe;else if(q!==xe)return"mixed"}return q??"prn"},this.getX500Name=function(x){var q=this.getX500NameArray(x);return{array:q,str:this.dnarraytostr(q)}},this.getX500NameArray=function(x){for(var q=[],G=u(x,0),W=0;W<G.length;W++)q.push(this.getRDN(_(x,G[W])));return q},this.getRDN=function(x){for(var q=[],G=u(x,0),W=0;W<G.length;W++)q.push(this.getAttrTypeAndValue(_(x,G[W])));return q},this.getAttrTypeAndValue=function(x){var q={type:null,value:null,ds:null},G=u(x,0),W=F(x,G[0],[],"06"),ue=F(x,G[1],[]),me=U.asn1.ASN1Util.oidHexToInt(W);return q.type=U.asn1.x509.OID.oid2atype(me),q.ds=this.HEX2STAG[x.substr(G[1],2)],q.ds!="bmp"?q.value=zt(ue):q.value=Pr(ue),q},this.readCertPEM=function(x){this.readCertHex(ye(x))},this.readCertHex=function(x){this.hex=x,this.getVersion();try{V(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var x={};return x.version=this.getVersion(),x.serial={hex:this.getSerialNumberHex()},x.sigalg=this.getSignatureAlgorithmField(),x.issuer=this.getIssuer(),x.notbefore=this.getNotBefore(),x.notafter=this.getNotAfter(),x.subject=this.getSubject(),x.sbjpubkey=vn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(x.ext=this.getExtParamArray()),x.sighex=this.getSignatureValueHex(),x},this.getExtParamArray=function(x){x==null&&z(this.hex,0,[0,"[3]"])!=-1&&(x=L(this.hex,0,[0,"[3]",0],"30"));for(var q=[],G=u(x,0),W=0;W<G.length;W++){var ue=_(x,G[W]),me=this.getExtParam(ue);me!=null&&q.push(me)}return q},this.getExtParam=function(x){var q=u(x,0).length;if(q!=2&&q!=3)throw new Error("wrong number elements in Extension: "+q+" "+x);var G=de(F(x,0,[0],"06")),W=!1;q==3&&N(x,0,[1])=="0101ff"&&(W=!0);var ue=N(x,0,[q-1,0]),me=void 0;if(G=="2.5.29.14"?me=this.getExtSubjectKeyIdentifier(ue,W):G=="2.5.29.15"?me=this.getExtKeyUsage(ue,W):G=="2.5.29.17"?me=this.getExtSubjectAltName(ue,W):G=="2.5.29.18"?me=this.getExtIssuerAltName(ue,W):G=="2.5.29.19"?me=this.getExtBasicConstraints(ue,W):G=="2.5.29.31"?me=this.getExtCRLDistributionPoints(ue,W):G=="2.5.29.32"?me=this.getExtCertificatePolicies(ue,W):G=="2.5.29.35"?me=this.getExtAuthorityKeyIdentifier(ue,W):G=="2.5.29.37"?me=this.getExtExtKeyUsage(ue,W):G=="1.3.6.1.5.5.7.1.1"?me=this.getExtAuthorityInfoAccess(ue,W):G=="2.5.29.20"?me=this.getExtCRLNumber(ue,W):G=="2.5.29.21"?me=this.getExtCRLReason(ue,W):G=="1.3.6.1.5.5.7.48.1.2"?me=this.getExtOcspNonce(ue,W):G=="1.3.6.1.5.5.7.48.1.5"?me=this.getExtOcspNoCheck(ue,W):G=="1.2.840.113583.1.1.9.1"&&(me=this.getExtAdobeTimeStamp(ue,W)),me!=null)return me;var Oe={extname:G,extn:ue};return W&&(Oe.critical=!0),Oe},this.findExt=function(x,q){for(var G=0;G<x.length;G++)if(x[G].extname==q)return x[G];return null},this.updateExtCDPFullURI=function(x,q){var G=this.findExt(x,"cRLDistributionPoints");if(G!=null&&G.array!=null){for(var W=G.array,ue=0;ue<W.length;ue++)if(W[ue].dpname!=null&&W[ue].dpname.full!=null)for(var me=W[ue].dpname.full,Oe=0;Oe<me.length;Oe++){var xe=me[ue];xe.uri!=null&&(xe.uri=q)}}},this.updateExtAIAOCSP=function(x,q){var G=this.findExt(x,"authorityInfoAccess");if(G!=null&&G.array!=null)for(var W=G.array,ue=0;ue<W.length;ue++)W[ue].ocsp!=null&&(W[ue].ocsp=q)},this.updateExtAIACAIssuer=function(x,q){var G=this.findExt(x,"authorityInfoAccess");if(G!=null&&G.array!=null)for(var W=G.array,ue=0;ue<W.length;ue++)W[ue].caissuer!=null&&(W[ue].caissuer=q)},this.dnarraytostr=function(x){return"/"+x.map(function(q){return function(W){return W.map(function(ue){return function(Oe){return Oe.type+"="+Oe.value}(ue).replace(/\+/,"\\+")}).join("+")}(q).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var x,q,G,W=function(rn){return JSON.stringify(rn.array).replace(/[\[\]\{\}\"]/g,"")},ue=function(rn){for(var en="",Vt=rn.array,dt=0;dt<Vt.length;dt++){var Ht=Vt[dt];if(en+="    policy oid: "+Ht.policyoid+`
`,Ht.array!==void 0)for(var Lt=0;Lt<Ht.array.length;Lt++){var kt=Ht.array[Lt];kt.cps!==void 0&&(en+="    cps: "+kt.cps+`
`)}}return en},me=function(rn){for(var en="",Vt=rn.array,dt=0;dt<Vt.length;dt++){var Ht=Vt[dt];try{Ht.dpname.full[0].uri!==void 0&&(en+="    "+Ht.dpname.full[0].uri+`
`)}catch{}try{Ht.dname.full[0].dn.hex!==void 0&&(en+="    "+Dt.hex2dn(Ht.dpname.full[0].dn.hex)+`
`)}catch{}}return en},Oe=function(rn){for(var en="",Vt=rn.array,dt=0;dt<Vt.length;dt++){var Ht=Vt[dt];Ht.caissuer!==void 0&&(en+="    caissuer: "+Ht.caissuer+`
`),Ht.ocsp!==void 0&&(en+="    ocsp: "+Ht.ocsp+`
`)}return en};if(x=`Basic Fields
`,x+="  serial number: "+this.getSerialNumberHex()+`
`,x+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,x+="  issuer: "+this.getIssuerString()+`
`,x+="  notBefore: "+this.getNotBefore()+`
`,x+="  notAfter: "+this.getNotAfter()+`
`,x+="  subject: "+this.getSubjectString()+`
`,x+=`  subject public key info: 
`,x+="    key algorithm: "+(q=this.getPublicKey()).type+`
`,q.type==="RSA"&&(x+="    n="+ir(q.n.toString(16)).substr(0,16)+`...
`,x+="    e="+ir(q.e.toString(16))+`
`),(G=this.aExtInfo)!=null){x+=`X509v3 Extensions:
`;for(var xe=0;xe<G.length;xe++){var Qe=G[xe],Ue=U.asn1.x509.OID.oid2name(Qe.oid);Ue===""&&(Ue=Qe.oid);var Be="";if(Qe.critical===!0&&(Be="CRITICAL"),x+="  "+Ue+" "+Be+`:
`,Ue==="basicConstraints"){var ct=this.getExtBasicConstraints();ct.cA===void 0?x+=`    {}
`:(x+="    cA=true",ct.pathLen!==void 0&&(x+=", pathLen="+ct.pathLen),x+=`
`)}else if(Ue==="keyUsage")x+="    "+this.getExtKeyUsageString()+`
`;else if(Ue==="subjectKeyIdentifier")x+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ue==="authorityKeyIdentifier"){var ht=this.getExtAuthorityKeyIdentifier();ht.kid!==void 0&&(x+="    kid="+ht.kid.hex+`
`)}else Ue==="extKeyUsage"?x+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ue==="subjectAltName"?x+="    "+W(this.getExtSubjectAltName())+`
`:Ue==="cRLDistributionPoints"?x+=me(this.getExtCRLDistributionPoints()):Ue==="authorityInfoAccess"?x+=Oe(this.getExtAuthorityInfoAccess()):Ue==="certificatePolicies"&&(x+=ue(this.getExtCertificatePolicies()))}}return x+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,x+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof a=="string"&&(a.indexOf("-----BEGIN")!=-1?this.readCertPEM(a):U.lang.String.isHex(a)&&this.readCertHex(a))}Pe.prototype.sign=function(a,i){var o=function(d){return U.crypto.Util.hashString(d,i)}(a);return this.signWithMessageHash(o,i)},Pe.prototype.signWithMessageHash=function(a,i){var o=ln(U.crypto.Util.getPaddedDigestInfoHex(a,i,this.n.bitLength()),16);return Aa(this.doPrivate(o).toString(16),this.n.bitLength())},Pe.prototype.signPSS=function(a,i,o){var u=function(_){return U.crypto.Util.hashHex(_,i)}(Dn(a));return o===void 0&&(o=-1),this.signWithMessageHashPSS(u,i,o)},Pe.prototype.signWithMessageHashPSS=function(a,i,o){var u,d=En(a),_=d.length,F=this.n.bitLength()-1,B=Math.ceil(F/8),N=function(x){return U.crypto.Util.hashHex(x,i)};if(o===-1||o===void 0)o=_;else if(o===-2)o=B-_-2;else if(o<-2)throw new Error("invalid salt length");if(B<_+o+2)throw new Error("data too long");var L="";o>0&&(L=new Array(o),new yt().nextBytes(L),L=String.fromCharCode.apply(String,L));var V=En(N(Dn("\0\0\0\0\0\0\0\0"+d+L))),z=[];for(u=0;u<B-o-_-2;u+=1)z[u]=0;var Z=String.fromCharCode.apply(String,z)+""+L,ie=Ta(V,Z.length,N),se=[];for(u=0;u<Z.length;u+=1)se[u]=Z.charCodeAt(u)^ie.charCodeAt(u);var de=65280>>8*B-F&255;for(se[0]&=~de,u=0;u<_;u++)se.push(V.charCodeAt(u));return se.push(188),Aa(this.doPrivate(new J(se)).toString(16),this.n.bitLength())},Pe.prototype.verify=function(a,i){if((i=i.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var o=ln(i,16),u=this.n.bitLength();if(o.bitLength()>u)return!1;var d=this.doPublic(o).toString(16);if(d.length+3!=u/4)return!1;var _=ar(d.replace(/^1f+00/,""));if(_.length==0)return!1;var F=_[0];return _[1]==function(N){return U.crypto.Util.hashString(N,F)}(a)},Pe.prototype.verifyWithMessageHash=function(a,i){if(i.length!=Math.ceil(this.n.bitLength()/4))return!1;var o=ln(i,16);if(o.bitLength()>this.n.bitLength())return 0;var u=ar(this.doPublic(o).toString(16).replace(/^1f+00/,""));return u.length==0?!1:(u[0],u[1]==a)},Pe.prototype.verifyPSS=function(a,i,o,u){var d=function(F){return U.crypto.Util.hashHex(F,o)}(Dn(a));return u===void 0&&(u=-1),this.verifyWithMessageHashPSS(d,i,o,u)},Pe.prototype.verifyWithMessageHashPSS=function(a,i,o,u){if(i.length!=Math.ceil(this.n.bitLength()/4))return!1;var d,_=new J(i,16),F=function(G){return U.crypto.Util.hashHex(G,o)},B=En(a),N=B.length,L=this.n.bitLength()-1,V=Math.ceil(L/8);if(u===-1||u===void 0)u=N;else if(u===-2)u=V-N-2;else if(u<-2)throw new Error("invalid salt length");if(V<N+u+2)throw new Error("data too long");var z=this.doPublic(_).toByteArray();for(d=0;d<z.length;d+=1)z[d]&=255;for(;z.length<V;)z.unshift(0);if(z[V-1]!==188)throw new Error("encoded message does not end in 0xbc");var Z=(z=String.fromCharCode.apply(String,z)).substr(0,V-N-1),ie=z.substr(Z.length,N),se=65280>>8*V-L&255;if((Z.charCodeAt(0)&se)!=0)throw new Error("bits beyond keysize not zero");var de=Ta(ie,Z.length,F),ye=[];for(d=0;d<Z.length;d+=1)ye[d]=Z.charCodeAt(d)^de.charCodeAt(d);ye[0]&=~se;var x=V-N-u-2;for(d=0;d<x;d+=1)if(ye[d]!==0)throw new Error("leftmost octets not zero");if(ye[x]!==1)throw new Error("0x01 marker not found");return ie===En(F(Dn("\0\0\0\0\0\0\0\0"+B+String.fromCharCode.apply(String,ye.slice(-u)))))},Pe.SALT_LEN_HLEN=-1,Pe.SALT_LEN_MAX=-2,Pe.SALT_LEN_RECOVER=-2,Dt.hex2dn=function(a,i){i===void 0&&(i=0);var o=new Dt;return De.getTLV(a,i),o.getX500Name(a).str},Dt.hex2rdn=function(a,i){if(i===void 0&&(i=0),a.substr(i,2)!=="31")throw new Error("malformed RDN");for(var o=new Array,u=De.getChildIdx(a,i),d=0;d<u.length;d++)o.push(Dt.hex2attrTypeValue(a,u[d]));return(o=o.map(function(_){return _.replace("+","\\+")})).join("+")},Dt.hex2attrTypeValue=function(a,i){var o=De,u=o.getV;if(i===void 0&&(i=0),a.substr(i,2)!=="30")throw new Error("malformed attribute type and value");var d=o.getChildIdx(a,i);d.length!==2||a.substr(d[0],2);var _=u(a,d[0]),F=U.asn1.ASN1Util.oidHexToInt(_);return U.asn1.x509.OID.oid2atype(F)+"="+En(u(a,d[1]))},Dt.getPublicKeyFromCertHex=function(a){var i=new Dt;return i.readCertHex(a),i.getPublicKey()},Dt.getPublicKeyFromCertPEM=function(a){var i=new Dt;return i.readCertPEM(a),i.getPublicKey()},Dt.getPublicKeyInfoPropOfCertPEM=function(a){var i,o,u=De.getVbyList,d={};return d.algparam=null,(i=new Dt).readCertPEM(a),o=i.getPublicKeyHex(),d.keyhex=u(o,0,[1],"03").substr(2),d.algoid=u(o,0,[0,0],"06"),d.algoid==="2a8648ce3d0201"&&(d.algparam=u(o,0,[0,1],"06")),d},Dt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],U!==void 0&&U||(c.KJUR=U={}),U.jws!==void 0&&U.jws||(U.jws={}),U.jws.JWS=function(){var a=U.jws.JWS.isSafeJSONString;this.parseJWS=function(i,o){if(this.parsedJWS===void 0||!o&&this.parsedJWS.sigvalH===void 0){var u=i.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(u==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var d=u[1],_=u[2],F=u[3],B=d+"."+_;if(this.parsedJWS={},this.parsedJWS.headB64U=d,this.parsedJWS.payloadB64U=_,this.parsedJWS.sigvalB64U=F,this.parsedJWS.si=B,!o){var N=mt(F),L=ln(N,16);this.parsedJWS.sigvalH=N,this.parsedJWS.sigvalBI=L}var V=Cn(d),z=Cn(_);if(this.parsedJWS.headS=V,this.parsedJWS.payloadS=z,!a(V,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+V}}},U.jws.JWS.sign=function(a,i,o,u,d){var _,F,B,N=U,L=N.jws.JWS,V=L.readSafeJSONString,z=L.isSafeJSONString,Z=N.crypto,ie=(Z.ECDSA,Z.Mac),se=Z.Signature,de=JSON;if(typeof i!="string"&&(i===void 0?"undefined":K(i))!="object")throw"spHeader must be JSON string or object: "+i;if((i===void 0?"undefined":K(i))=="object"&&(F=i,_=de.stringify(F)),typeof i=="string"){if(!z(_=i))throw"JWS Head is not safe JSON string: "+_;F=V(_)}if(B=o,(o===void 0?"undefined":K(o))=="object"&&(B=de.stringify(o)),a!=""&&a!=null||F.alg===void 0||(a=F.alg),a!=""&&a!=null&&F.alg===void 0&&(F.alg=a,_=de.stringify(F)),a!==F.alg)throw"alg and sHeader.alg doesn't match: "+a+"!="+F.alg;var ye=null;if(L.jwsalg2sigalg[a]===void 0)throw"unsupported alg name: "+a;ye=L.jwsalg2sigalg[a];var x=gi(_)+"."+gi(B),q="";if(ye.substr(0,4)=="Hmac"){if(u===void 0)throw"mac key shall be specified for HS* alg";var G=new ie({alg:ye,prov:"cryptojs",pass:u});G.updateString(x),q=G.doFinal()}else if(ye.indexOf("withECDSA")!=-1){(ue=new se({alg:ye})).init(u,d),ue.updateString(x);var W=ue.sign();q=U.crypto.ECDSA.asn1SigToConcatSig(W)}else{var ue;ye!="none"&&((ue=new se({alg:ye})).init(u,d),ue.updateString(x),q=ue.sign())}return x+"."+jt(q)},U.jws.JWS.verify=function(a,i,o){var u,d=U,_=d.jws.JWS,F=_.readSafeJSONString,B=d.crypto,N=B.ECDSA,L=B.Mac,V=B.Signature;K(Pe)!==void 0&&(u=Pe);var z=a.split(".");if(z.length!==3)return!1;var Z=z[0]+"."+z[1],ie=mt(z[2]),se=F(Cn(z[0])),de=null,ye=null;if(se.alg===void 0)throw"algorithm not specified in header";if(ye=(de=se.alg).substr(0,2),o!=null&&Object.prototype.toString.call(o)==="[object Array]"&&o.length>0&&(":"+o.join(":")+":").indexOf(":"+de+":")==-1)throw"algorithm '"+de+"' not accepted in the list";if(de!="none"&&i===null)throw"key shall be specified to verify.";if(typeof i=="string"&&i.indexOf("-----BEGIN ")!=-1&&(i=tt.getKey(i)),!(ye!="RS"&&ye!="PS"||i instanceof u))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ye=="ES"&&!(i instanceof N))throw"key shall be a ECDSA obj for ES* algs";var x=null;if(_.jwsalg2sigalg[se.alg]===void 0)throw"unsupported alg name: "+de;if((x=_.jwsalg2sigalg[de])=="none")throw"not supported";if(x.substr(0,4)=="Hmac"){if(i===void 0)throw"hexadecimal key shall be specified for HMAC";var q=new L({alg:x,pass:i});return q.updateString(Z),ie==q.doFinal()}if(x.indexOf("withECDSA")!=-1){var G,W=null;try{W=N.concatSigToASN1Sig(ie)}catch{return!1}return(G=new V({alg:x})).init(i),G.updateString(Z),G.verify(W)}return(G=new V({alg:x})).init(i),G.updateString(Z),G.verify(ie)},U.jws.JWS.parse=function(a){var i,o,u,d=a.split("."),_={};if(d.length!=2&&d.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return i=d[0],o=d[1],d.length==3&&(u=d[2]),_.headerObj=U.jws.JWS.readSafeJSONString(Cn(i)),_.payloadObj=U.jws.JWS.readSafeJSONString(Cn(o)),_.headerPP=JSON.stringify(_.headerObj,null,"  "),_.payloadObj==null?_.payloadPP=Cn(o):_.payloadPP=JSON.stringify(_.payloadObj,null,"  "),u!==void 0&&(_.sigHex=mt(u)),_},U.jws.JWS.verifyJWT=function(a,i,o){var u=U.jws,d=u.JWS,_=d.readSafeJSONString,F=d.inArray,B=d.includedArray,N=a.split("."),L=N[0],V=N[1],z=(mt(N[2]),_(Cn(L))),Z=_(Cn(V));if(z.alg===void 0)return!1;if(o.alg===void 0)throw"acceptField.alg shall be specified";if(!F(z.alg,o.alg)||Z.iss!==void 0&&K(o.iss)==="object"&&!F(Z.iss,o.iss)||Z.sub!==void 0&&K(o.sub)==="object"&&!F(Z.sub,o.sub))return!1;if(Z.aud!==void 0&&K(o.aud)==="object"){if(typeof Z.aud=="string"){if(!F(Z.aud,o.aud))return!1}else if(K(Z.aud)=="object"&&!B(Z.aud,o.aud))return!1}var ie=u.IntDate.getNow();return o.verifyAt!==void 0&&typeof o.verifyAt=="number"&&(ie=o.verifyAt),o.gracePeriod!==void 0&&typeof o.gracePeriod=="number"||(o.gracePeriod=0),!(Z.exp!==void 0&&typeof Z.exp=="number"&&Z.exp+o.gracePeriod<ie)&&!(Z.nbf!==void 0&&typeof Z.nbf=="number"&&ie<Z.nbf-o.gracePeriod)&&!(Z.iat!==void 0&&typeof Z.iat=="number"&&ie<Z.iat-o.gracePeriod)&&(Z.jti===void 0||o.jti===void 0||Z.jti===o.jti)&&!!d.verify(a,i,o.alg)},U.jws.JWS.includedArray=function(a,i){var o=U.jws.JWS.inArray;if(a===null||(a===void 0?"undefined":K(a))!=="object"||typeof a.length!="number")return!1;for(var u=0;u<a.length;u++)if(!o(a[u],i))return!1;return!0},U.jws.JWS.inArray=function(a,i){if(i===null||(i===void 0?"undefined":K(i))!=="object"||typeof i.length!="number")return!1;for(var o=0;o<i.length;o++)if(i[o]==a)return!0;return!1},U.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},U.jws.JWS.isSafeJSONString=function(a,i,o){var u=null;try{return((u=yn(a))===void 0?"undefined":K(u))!="object"||u.constructor===Array?0:(i&&(i[o]=u),1)}catch{return 0}},U.jws.JWS.readSafeJSONString=function(a){var i=null;try{return((i=yn(a))===void 0?"undefined":K(i))!="object"||i.constructor===Array?null:i}catch{return null}},U.jws.JWS.getEncodedSignatureValueFromJWS=function(a){var i=a.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(i==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return i[1]},U.jws.JWS.getJWKthumbprint=function(a){if(a.kty!=="RSA"&&a.kty!=="EC"&&a.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var i="{";if(a.kty==="RSA"){if(typeof a.n!="string"||typeof a.e!="string")throw"wrong n and e value for RSA key";i+='"e":"'+a.e+'",',i+='"kty":"'+a.kty+'",',i+='"n":"'+a.n+'"}'}else if(a.kty==="EC"){if(typeof a.crv!="string"||typeof a.x!="string"||typeof a.y!="string")throw"wrong crv, x and y value for EC key";i+='"crv":"'+a.crv+'",',i+='"kty":"'+a.kty+'",',i+='"x":"'+a.x+'",',i+='"y":"'+a.y+'"}'}else if(a.kty==="oct"){if(typeof a.k!="string")throw"wrong k value for oct(symmetric) key";i+='"kty":"'+a.kty+'",',i+='"k":"'+a.k+'"}'}var o=Dn(i);return jt(U.crypto.Util.hashHex(o,"sha256"))},U.jws.IntDate={},U.jws.IntDate.get=function(a){var i=U.jws.IntDate,o=i.getNow,u=i.getZulu;if(a=="now")return o();if(a=="now + 1hour")return o()+3600;if(a=="now + 1day")return o()+86400;if(a=="now + 1month")return o()+2592e3;if(a=="now + 1year")return o()+31536e3;if(a.match(/Z$/))return u(a);if(a.match(/^[0-9]+$/))return parseInt(a);throw"unsupported format: "+a},U.jws.IntDate.getZulu=function(a){return cn(a)},U.jws.IntDate.getNow=function(){return~~(new Date/1e3)},U.jws.IntDate.intDate2UTCString=function(a){return new Date(1e3*a).toUTCString()},U.jws.IntDate.intDate2Zulu=function(a){var i=new Date(1e3*a);return("0000"+i.getUTCFullYear()).slice(-4)+("00"+(i.getUTCMonth()+1)).slice(-2)+("00"+i.getUTCDate()).slice(-2)+("00"+i.getUTCHours()).slice(-2)+("00"+i.getUTCMinutes()).slice(-2)+("00"+i.getUTCSeconds()).slice(-2)+"Z"},c.SecureRandom=yt,c.rng_seed_time=he,c.BigInteger=J,c.RSAKey=Pe;var Ls=U.crypto.EDSA;c.EDSA=Ls;var To=U.crypto.DSA;c.DSA=To;var xo=U.crypto.Signature;c.Signature=xo;var Bs=U.crypto.MessageDigest;c.MessageDigest=Bs;var Pi=U.crypto.Mac;c.Mac=Pi;var ji=U.crypto.Cipher;c.Cipher=ji,c.KEYUTIL=tt,c.ASN1HEX=De,c.X509=Dt,c.CryptoJS=O,c.b64tohex=le,c.b64toBA=_e,c.stoBA=pi,c.BAtos=rr,c.BAtohex=pr,c.stohex=bn,c.stob64=function(i){return H(bn(i))},c.stob64u=function(i){return Mi(H(bn(i)))},c.b64utos=function(i){return rr(_e(Lr(i)))},c.b64tob64u=Mi,c.b64utob64=Lr,c.hex2b64=H,c.hextob64u=jt,c.b64utohex=mt,c.utf8tob64u=gi,c.b64utoutf8=Cn,c.utf8tob64=function(i){return H(Vn(jr(i)))},c.b64toutf8=function(i){return decodeURIComponent(Br(le(i)))},c.utf8tohex=yr,c.hextoutf8=zt,c.hextorstr=En,c.rstrtohex=Dn,c.hextob64=Hi,c.hextob64nl=Li,c.b64nltohex=wa,c.hextopem=vn,c.pemtohex=$t,c.hextoArrayBuffer=function(i){if(i.length%2!=0)throw"input is not even length";if(i.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var o=new ArrayBuffer(i.length/2),u=new DataView(o),d=0;d<i.length/2;d++)u.setUint8(d,parseInt(i.substr(2*d,2),16));return o},c.ArrayBuffertohex=function(i){for(var o="",u=new DataView(i),d=0;d<i.byteLength;d++)o+=("00"+u.getUint8(d).toString(16)).slice(-2);return o},c.zulutomsec=Xt,c.zulutosec=cn,c.zulutodate=function(i){return new Date(Xt(i))},c.datetozulu=function(i,o,u){var d,_=i.getUTCFullYear();if(o){if(_<1950||2049<_)throw"not proper year for UTCTime: "+_;d=(""+_).slice(-2)}else d=("000"+_).slice(-4);if(d+=("0"+(i.getUTCMonth()+1)).slice(-2),d+=("0"+i.getUTCDate()).slice(-2),d+=("0"+i.getUTCHours()).slice(-2),d+=("0"+i.getUTCMinutes()).slice(-2),d+=("0"+i.getUTCSeconds()).slice(-2),u){var F=i.getUTCMilliseconds();F!==0&&(d+="."+(F=(F=("00"+F).slice(-3)).replace(/0+$/g,"")))}return d+="Z"},c.uricmptohex=Vn,c.hextouricmp=Br,c.ipv6tohex=wo,c.hextoipv6=Ao,c.hextoip=Bi,c.iptohex=function(i){var o="malformed IP address";if(!(i=i.toLowerCase(i)).match(/^[0-9.]+$/)){if(i.match(/^[0-9a-f:]+$/)&&i.indexOf(":")!==-1)return wo(i);throw o}var u=i.split(".");if(u.length!==4)throw o;var d="";try{for(var _=0;_<4;_++)d+=("0"+parseInt(u[_]).toString(16)).slice(-2);return d}catch{throw o}},c.encodeURIComponentAll=jr,c.newline_toUnix=function(i){return i=i.replace(/\r\n/gm,`
`)},c.newline_toDos=function(i){return i=(i=i.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},c.hextoposhex=ir,c.intarystrtohex=function(i){i=(i=(i=i.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return i.split(/,/).map(function(o,u,d){var _=parseInt(o);if(_<0||255<_)throw"integer not in range 0-255";return("00"+_.toString(16)).slice(-2)}).join("")}catch(o){throw"malformed integer array string: "+o}},c.strdiffidx=function(i,o){var u=i.length;i.length>o.length&&(u=o.length);for(var d=0;d<u;d++)if(i.charCodeAt(d)!=o.charCodeAt(d))return d;return i.length!=o.length?u:-1},c.KJUR=U;var Jn=U.crypto;c.crypto=Jn;var xa=U.asn1;c.asn1=xa;var Fo=U.jws;c.jws=Fo;var Kr=U.lang;c.lang=Kr}).call(this,m(28).Buffer)},function(p,c,m){(function(A){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var S=m(30),D=m(31),T=m(32);function g(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(ne,E){if(g()<E)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(ne=new Uint8Array(E)).__proto__=v.prototype:(ne===null&&(ne=new v(E)),ne.length=E),ne}function v(ne,E,w){if(!(v.TYPED_ARRAY_SUPPORT||this instanceof v))return new v(ne,E,w);if(typeof ne=="number"){if(typeof E=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,ne)}return R(this,ne,E,w)}function R(ne,E,w,Q){if(typeof E=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer?function(he,ve,Le,Ye){if(ve.byteLength,Le<0||ve.byteLength<Le)throw new RangeError("'offset' is out of bounds");if(ve.byteLength<Le+(Ye||0))throw new RangeError("'length' is out of bounds");return ve=Le===void 0&&Ye===void 0?new Uint8Array(ve):Ye===void 0?new Uint8Array(ve,Le):new Uint8Array(ve,Le,Ye),v.TYPED_ARRAY_SUPPORT?(he=ve).__proto__=v.prototype:he=ee(he,ve),he}(ne,E,w,Q):typeof E=="string"?function(he,ve,Le){if(typeof Le=="string"&&Le!==""||(Le="utf8"),!v.isEncoding(Le))throw new TypeError('"encoding" must be a valid string encoding');var Ye=0|K(ve,Le),lt=(he=y(he,Ye)).write(ve,Le);return lt!==Ye&&(he=he.slice(0,lt)),he}(ne,E,w):function(he,ve){if(v.isBuffer(ve)){var Le=0|Y(ve.length);return(he=y(he,Le)).length===0||ve.copy(he,0,0,Le),he}if(ve){if(typeof ArrayBuffer<"u"&&ve.buffer instanceof ArrayBuffer||"length"in ve)return typeof ve.length!="number"||function(lt){return lt!=lt}(ve.length)?y(he,0):ee(he,ve);if(ve.type==="Buffer"&&T(ve.data))return ee(he,ve.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ne,E)}function P(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be a number');if(ne<0)throw new RangeError('"size" argument must not be negative')}function k(ne,E){if(P(E),ne=y(ne,E<0?0:0|Y(E)),!v.TYPED_ARRAY_SUPPORT)for(var w=0;w<E;++w)ne[w]=0;return ne}function ee(ne,E){var w=E.length<0?0:0|Y(E.length);ne=y(ne,w);for(var Q=0;Q<w;Q+=1)ne[Q]=255&E[Q];return ne}function Y(ne){if(ne>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|ne}function K(ne,E){if(v.isBuffer(ne))return ne.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ne)||ne instanceof ArrayBuffer))return ne.byteLength;typeof ne!="string"&&(ne=""+ne);var w=ne.length;if(w===0)return 0;for(var Q=!1;;)switch(E){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return $e(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*w;case"hex":return w>>>1;case"base64":return Ft(ne).length;default:if(Q)return $e(ne).length;E=(""+E).toLowerCase(),Q=!0}}function I(ne,E,w){var Q=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0)<=(E>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return Fe(this,E,w);case"utf8":case"utf-8":return We(this,E,w);case"ascii":return rt(this,E,w);case"latin1":case"binary":return Se(this,E,w);case"base64":return Ke(this,E,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,E,w);default:if(Q)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),Q=!0}}function X(ne,E,w){var Q=ne[E];ne[E]=ne[w],ne[w]=Q}function O(ne,E,w,Q,re){if(ne.length===0)return-1;if(typeof w=="string"?(Q=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=re?0:ne.length-1),w<0&&(w=ne.length+w),w>=ne.length){if(re)return-1;w=ne.length-1}else if(w<0){if(!re)return-1;w=0}if(typeof E=="string"&&(E=v.from(E,Q)),v.isBuffer(E))return E.length===0?-1:j(ne,E,w,Q,re);if(typeof E=="number")return E&=255,v.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(ne,E,w):Uint8Array.prototype.lastIndexOf.call(ne,E,w):j(ne,[E],w,Q,re);throw new TypeError("val must be string, number or Buffer")}function j(ne,E,w,Q,re){var he,ve=1,Le=ne.length,Ye=E.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(ne.length<2||E.length<2)return-1;ve=2,Le/=2,Ye/=2,w/=2}function lt(Rn,Pe){return ve===1?Rn[Pe]:Rn.readUInt16BE(Pe*ve)}if(re){var et=-1;for(he=w;he<Le;he++)if(lt(ne,he)===lt(E,et===-1?0:he-et)){if(et===-1&&(et=he),he-et+1===Ye)return et*ve}else et!==-1&&(he-=he-et),et=-1}else for(w+Ye>Le&&(w=Le-Ye),he=w;he>=0;he--){for(var yt=!0,ln=0;ln<Ye;ln++)if(lt(ne,he+ln)!==lt(E,ln)){yt=!1;break}if(yt)return he}return-1}function M(ne,E,w,Q){w=Number(w)||0;var re=ne.length-w;Q?(Q=Number(Q))>re&&(Q=re):Q=re;var he=E.length;if(he%2!=0)throw new TypeError("Invalid hex string");Q>he/2&&(Q=he/2);for(var ve=0;ve<Q;++ve){var Le=parseInt(E.substr(2*ve,2),16);if(isNaN(Le))return ve;ne[w+ve]=Le}return ve}function H(ne,E,w,Q){return Et($e(E,ne.length-w),ne,w,Q)}function le(ne,E,w,Q){return Et(function(he){for(var ve=[],Le=0;Le<he.length;++Le)ve.push(255&he.charCodeAt(Le));return ve}(E),ne,w,Q)}function _e(ne,E,w,Q){return le(ne,E,w,Q)}function J(ne,E,w,Q){return Et(Ft(E),ne,w,Q)}function Ae(ne,E,w,Q){return Et(function(he,ve){for(var Le,Ye,lt,et=[],yt=0;yt<he.length&&!((ve-=2)<0);++yt)Ye=(Le=he.charCodeAt(yt))>>8,lt=Le%256,et.push(lt),et.push(Ye);return et}(E,ne.length-w),ne,w,Q)}function Ke(ne,E,w){return E===0&&w===ne.length?S.fromByteArray(ne):S.fromByteArray(ne.slice(E,w))}function We(ne,E,w){w=Math.min(ne.length,w);for(var Q=[],re=E;re<w;){var he,ve,Le,Ye,lt=ne[re],et=null,yt=lt>239?4:lt>223?3:lt>191?2:1;if(re+yt<=w)switch(yt){case 1:lt<128&&(et=lt);break;case 2:(192&(he=ne[re+1]))==128&&(Ye=(31&lt)<<6|63&he)>127&&(et=Ye);break;case 3:he=ne[re+1],ve=ne[re+2],(192&he)==128&&(192&ve)==128&&(Ye=(15&lt)<<12|(63&he)<<6|63&ve)>2047&&(Ye<55296||Ye>57343)&&(et=Ye);break;case 4:he=ne[re+1],ve=ne[re+2],Le=ne[re+3],(192&he)==128&&(192&ve)==128&&(192&Le)==128&&(Ye=(15&lt)<<18|(63&he)<<12|(63&ve)<<6|63&Le)>65535&&Ye<1114112&&(et=Ye)}et===null?(et=65533,yt=1):et>65535&&(et-=65536,Q.push(et>>>10&1023|55296),et=56320|1023&et),Q.push(et),re+=yt}return function(Rn){var Pe=Rn.length;if(Pe<=Ct)return String.fromCharCode.apply(String,Rn);for(var vt="",qe=0;qe<Pe;)vt+=String.fromCharCode.apply(String,Rn.slice(qe,qe+=Ct));return vt}(Q)}c.Buffer=v,c.SlowBuffer=function(E){return+E!=E&&(E=0),v.alloc(+E)},c.INSPECT_MAX_BYTES=50,v.TYPED_ARRAY_SUPPORT=A.TYPED_ARRAY_SUPPORT!==void 0?A.TYPED_ARRAY_SUPPORT:function(){try{var E=new Uint8Array(1);return E.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},E.foo()===42&&typeof E.subarray=="function"&&E.subarray(1,1).byteLength===0}catch{return!1}}(),c.kMaxLength=g(),v.poolSize=8192,v._augment=function(ne){return ne.__proto__=v.prototype,ne},v.from=function(ne,E,w){return R(null,ne,E,w)},v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0})),v.alloc=function(ne,E,w){return function(re,he,ve,Le){return P(he),he<=0?y(re,he):ve!==void 0?typeof Le=="string"?y(re,he).fill(ve,Le):y(re,he).fill(ve):y(re,he)}(null,ne,E,w)},v.allocUnsafe=function(ne){return k(null,ne)},v.allocUnsafeSlow=function(ne){return k(null,ne)},v.isBuffer=function(E){return!(E==null||!E._isBuffer)},v.compare=function(E,w){if(!v.isBuffer(E)||!v.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(E===w)return 0;for(var Q=E.length,re=w.length,he=0,ve=Math.min(Q,re);he<ve;++he)if(E[he]!==w[he]){Q=E[he],re=w[he];break}return Q<re?-1:re<Q?1:0},v.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(E,w){if(!T(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return v.alloc(0);var Q;if(w===void 0)for(w=0,Q=0;Q<E.length;++Q)w+=E[Q].length;var re=v.allocUnsafe(w),he=0;for(Q=0;Q<E.length;++Q){var ve=E[Q];if(!v.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(re,he),he+=ve.length}return re},v.byteLength=K,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<E;w+=2)X(this,w,w+1);return this},v.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<E;w+=4)X(this,w,w+3),X(this,w+1,w+2);return this},v.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<E;w+=8)X(this,w,w+7),X(this,w+1,w+6),X(this,w+2,w+5),X(this,w+3,w+4);return this},v.prototype.toString=function(){var E=0|this.length;return E===0?"":arguments.length===0?We(this,0,E):I.apply(this,arguments)},v.prototype.equals=function(E){if(!v.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||v.compare(this,E)===0},v.prototype.inspect=function(){var E="",w=c.INSPECT_MAX_BYTES;return this.length>0&&(E=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(E+=" ... ")),"<Buffer "+E+">"},v.prototype.compare=function(E,w,Q,re,he){if(!v.isBuffer(E))throw new TypeError("Argument must be a Buffer");if(w===void 0&&(w=0),Q===void 0&&(Q=E?E.length:0),re===void 0&&(re=0),he===void 0&&(he=this.length),w<0||Q>E.length||re<0||he>this.length)throw new RangeError("out of range index");if(re>=he&&w>=Q)return 0;if(re>=he)return-1;if(w>=Q)return 1;if(this===E)return 0;for(var ve=(he>>>=0)-(re>>>=0),Le=(Q>>>=0)-(w>>>=0),Ye=Math.min(ve,Le),lt=this.slice(re,he),et=E.slice(w,Q),yt=0;yt<Ye;++yt)if(lt[yt]!==et[yt]){ve=lt[yt],Le=et[yt];break}return ve<Le?-1:Le<ve?1:0},v.prototype.includes=function(E,w,Q){return this.indexOf(E,w,Q)!==-1},v.prototype.indexOf=function(E,w,Q){return O(this,E,w,Q,!0)},v.prototype.lastIndexOf=function(E,w,Q){return O(this,E,w,Q,!1)},v.prototype.write=function(E,w,Q,re){if(w===void 0)re="utf8",Q=this.length,w=0;else if(Q===void 0&&typeof w=="string")re=w,Q=this.length,w=0;else{if(!isFinite(w))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");w|=0,isFinite(Q)?(Q|=0,re===void 0&&(re="utf8")):(re=Q,Q=void 0)}var he=this.length-w;if((Q===void 0||Q>he)&&(Q=he),E.length>0&&(Q<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ve=!1;;)switch(re){case"hex":return M(this,E,w,Q);case"utf8":case"utf-8":return H(this,E,w,Q);case"ascii":return le(this,E,w,Q);case"latin1":case"binary":return _e(this,E,w,Q);case"base64":return J(this,E,w,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,E,w,Q);default:if(ve)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ve=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ct=4096;function rt(ne,E,w){var Q="";w=Math.min(ne.length,w);for(var re=E;re<w;++re)Q+=String.fromCharCode(127&ne[re]);return Q}function Se(ne,E,w){var Q="";w=Math.min(ne.length,w);for(var re=E;re<w;++re)Q+=String.fromCharCode(ne[re]);return Q}function Fe(ne,E,w){var Q=ne.length;(!E||E<0)&&(E=0),(!w||w<0||w>Q)&&(w=Q);for(var re="",he=E;he<w;++he)re+=pt(ne[he]);return re}function Ne(ne,E,w){for(var Q=ne.slice(E,w),re="",he=0;he<Q.length;he+=2)re+=String.fromCharCode(Q[he]+256*Q[he+1]);return re}function ke(ne,E,w){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+E>w)throw new RangeError("Trying to access beyond buffer length")}function $(ne,E,w,Q,re,he){if(!v.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>re||E<he)throw new RangeError('"value" argument is out of bounds');if(w+Q>ne.length)throw new RangeError("Index out of range")}function Ee(ne,E,w,Q){E<0&&(E=65535+E+1);for(var re=0,he=Math.min(ne.length-w,2);re<he;++re)ne[w+re]=(E&255<<8*(Q?re:1-re))>>>8*(Q?re:1-re)}function Ce(ne,E,w,Q){E<0&&(E=4294967295+E+1);for(var re=0,he=Math.min(ne.length-w,4);re<he;++re)ne[w+re]=E>>>8*(Q?re:3-re)&255}function Re(ne,E,w,Q,re,he){if(w+Q>ne.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Me(ne,E,w,Q,re){return re||Re(ne,0,w,4),D.write(ne,E,w,Q,23,4),w+4}function Xe(ne,E,w,Q,re){return re||Re(ne,0,w,8),D.write(ne,E,w,Q,52,8),w+8}v.prototype.slice=function(E,w){var Q,re=this.length;if((E=~~E)<0?(E+=re)<0&&(E=0):E>re&&(E=re),(w=w===void 0?re:~~w)<0?(w+=re)<0&&(w=0):w>re&&(w=re),w<E&&(w=E),v.TYPED_ARRAY_SUPPORT)(Q=this.subarray(E,w)).__proto__=v.prototype;else{var he=w-E;Q=new v(he,void 0);for(var ve=0;ve<he;++ve)Q[ve]=this[ve+E]}return Q},v.prototype.readUIntLE=function(E,w,Q){E|=0,w|=0,Q||ke(E,w,this.length);for(var re=this[E],he=1,ve=0;++ve<w&&(he*=256);)re+=this[E+ve]*he;return re},v.prototype.readUIntBE=function(E,w,Q){E|=0,w|=0,Q||ke(E,w,this.length);for(var re=this[E+--w],he=1;w>0&&(he*=256);)re+=this[E+--w]*he;return re},v.prototype.readUInt8=function(E,w){return w||ke(E,1,this.length),this[E]},v.prototype.readUInt16LE=function(E,w){return w||ke(E,2,this.length),this[E]|this[E+1]<<8},v.prototype.readUInt16BE=function(E,w){return w||ke(E,2,this.length),this[E]<<8|this[E+1]},v.prototype.readUInt32LE=function(E,w){return w||ke(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},v.prototype.readUInt32BE=function(E,w){return w||ke(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},v.prototype.readIntLE=function(E,w,Q){E|=0,w|=0,Q||ke(E,w,this.length);for(var re=this[E],he=1,ve=0;++ve<w&&(he*=256);)re+=this[E+ve]*he;return re>=(he*=128)&&(re-=Math.pow(2,8*w)),re},v.prototype.readIntBE=function(E,w,Q){E|=0,w|=0,Q||ke(E,w,this.length);for(var re=w,he=1,ve=this[E+--re];re>0&&(he*=256);)ve+=this[E+--re]*he;return ve>=(he*=128)&&(ve-=Math.pow(2,8*w)),ve},v.prototype.readInt8=function(E,w){return w||ke(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},v.prototype.readInt16LE=function(E,w){w||ke(E,2,this.length);var Q=this[E]|this[E+1]<<8;return 32768&Q?4294901760|Q:Q},v.prototype.readInt16BE=function(E,w){w||ke(E,2,this.length);var Q=this[E+1]|this[E]<<8;return 32768&Q?4294901760|Q:Q},v.prototype.readInt32LE=function(E,w){return w||ke(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},v.prototype.readInt32BE=function(E,w){return w||ke(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},v.prototype.readFloatLE=function(E,w){return w||ke(E,4,this.length),D.read(this,E,!0,23,4)},v.prototype.readFloatBE=function(E,w){return w||ke(E,4,this.length),D.read(this,E,!1,23,4)},v.prototype.readDoubleLE=function(E,w){return w||ke(E,8,this.length),D.read(this,E,!0,52,8)},v.prototype.readDoubleBE=function(E,w){return w||ke(E,8,this.length),D.read(this,E,!1,52,8)},v.prototype.writeUIntLE=function(E,w,Q,re){E=+E,w|=0,Q|=0,re||$(this,E,w,Q,Math.pow(2,8*Q)-1,0);var he=1,ve=0;for(this[w]=255&E;++ve<Q&&(he*=256);)this[w+ve]=E/he&255;return w+Q},v.prototype.writeUIntBE=function(E,w,Q,re){E=+E,w|=0,Q|=0,re||$(this,E,w,Q,Math.pow(2,8*Q)-1,0);var he=Q-1,ve=1;for(this[w+he]=255&E;--he>=0&&(ve*=256);)this[w+he]=E/ve&255;return w+Q},v.prototype.writeUInt8=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,1,255,0),v.TYPED_ARRAY_SUPPORT||(E=Math.floor(E)),this[w]=255&E,w+1},v.prototype.writeUInt16LE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[w]=255&E,this[w+1]=E>>>8):Ee(this,E,w,!0),w+2},v.prototype.writeUInt16BE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[w]=E>>>8,this[w+1]=255&E):Ee(this,E,w,!1),w+2},v.prototype.writeUInt32LE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[w+3]=E>>>24,this[w+2]=E>>>16,this[w+1]=E>>>8,this[w]=255&E):Ce(this,E,w,!0),w+4},v.prototype.writeUInt32BE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[w]=E>>>24,this[w+1]=E>>>16,this[w+2]=E>>>8,this[w+3]=255&E):Ce(this,E,w,!1),w+4},v.prototype.writeIntLE=function(E,w,Q,re){if(E=+E,w|=0,!re){var he=Math.pow(2,8*Q-1);$(this,E,w,Q,he-1,-he)}var ve=0,Le=1,Ye=0;for(this[w]=255&E;++ve<Q&&(Le*=256);)E<0&&Ye===0&&this[w+ve-1]!==0&&(Ye=1),this[w+ve]=(E/Le>>0)-Ye&255;return w+Q},v.prototype.writeIntBE=function(E,w,Q,re){if(E=+E,w|=0,!re){var he=Math.pow(2,8*Q-1);$(this,E,w,Q,he-1,-he)}var ve=Q-1,Le=1,Ye=0;for(this[w+ve]=255&E;--ve>=0&&(Le*=256);)E<0&&Ye===0&&this[w+ve+1]!==0&&(Ye=1),this[w+ve]=(E/Le>>0)-Ye&255;return w+Q},v.prototype.writeInt8=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,1,127,-128),v.TYPED_ARRAY_SUPPORT||(E=Math.floor(E)),E<0&&(E=255+E+1),this[w]=255&E,w+1},v.prototype.writeInt16LE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[w]=255&E,this[w+1]=E>>>8):Ee(this,E,w,!0),w+2},v.prototype.writeInt16BE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[w]=E>>>8,this[w+1]=255&E):Ee(this,E,w,!1),w+2},v.prototype.writeInt32LE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[w]=255&E,this[w+1]=E>>>8,this[w+2]=E>>>16,this[w+3]=E>>>24):Ce(this,E,w,!0),w+4},v.prototype.writeInt32BE=function(E,w,Q){return E=+E,w|=0,Q||$(this,E,w,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),v.TYPED_ARRAY_SUPPORT?(this[w]=E>>>24,this[w+1]=E>>>16,this[w+2]=E>>>8,this[w+3]=255&E):Ce(this,E,w,!1),w+4},v.prototype.writeFloatLE=function(E,w,Q){return Me(this,E,w,!0,Q)},v.prototype.writeFloatBE=function(E,w,Q){return Me(this,E,w,!1,Q)},v.prototype.writeDoubleLE=function(E,w,Q){return Xe(this,E,w,!0,Q)},v.prototype.writeDoubleBE=function(E,w,Q){return Xe(this,E,w,!1,Q)},v.prototype.copy=function(E,w,Q,re){if(Q||(Q=0),re||re===0||(re=this.length),w>=E.length&&(w=E.length),w||(w=0),re>0&&re<Q&&(re=Q),re===Q||E.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),E.length-w<re-Q&&(re=E.length-w+Q);var he,ve=re-Q;if(this===E&&Q<w&&w<re)for(he=ve-1;he>=0;--he)E[he+w]=this[he+Q];else if(ve<1e3||!v.TYPED_ARRAY_SUPPORT)for(he=0;he<ve;++he)E[he+w]=this[he+Q];else Uint8Array.prototype.set.call(E,this.subarray(Q,Q+ve),w);return ve},v.prototype.fill=function(E,w,Q,re){if(typeof E=="string"){if(typeof w=="string"?(re=w,w=0,Q=this.length):typeof Q=="string"&&(re=Q,Q=this.length),E.length===1){var he=E.charCodeAt(0);he<256&&(E=he)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!v.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof E=="number"&&(E&=255);if(w<0||this.length<w||this.length<Q)throw new RangeError("Out of range index");if(Q<=w)return this;var ve;if(w>>>=0,Q=Q===void 0?this.length:Q>>>0,E||(E=0),typeof E=="number")for(ve=w;ve<Q;++ve)this[ve]=E;else{var Le=v.isBuffer(E)?E:$e(new v(E,re).toString()),Ye=Le.length;for(ve=0;ve<Q-w;++ve)this[ve+w]=Le[ve%Ye]}return this};var Ie=/[^+\/0-9A-Za-z-_]/g;function pt(ne){return ne<16?"0"+ne.toString(16):ne.toString(16)}function $e(ne,E){var w;E=E||1/0;for(var Q=ne.length,re=null,he=[],ve=0;ve<Q;++ve){if((w=ne.charCodeAt(ve))>55295&&w<57344){if(!re){if(w>56319){(E-=3)>-1&&he.push(239,191,189);continue}if(ve+1===Q){(E-=3)>-1&&he.push(239,191,189);continue}re=w;continue}if(w<56320){(E-=3)>-1&&he.push(239,191,189),re=w;continue}w=65536+(re-55296<<10|w-56320)}else re&&(E-=3)>-1&&he.push(239,191,189);if(re=null,w<128){if((E-=1)<0)break;he.push(w)}else if(w<2048){if((E-=2)<0)break;he.push(w>>6|192,63&w|128)}else if(w<65536){if((E-=3)<0)break;he.push(w>>12|224,w>>6&63|128,63&w|128)}else{if(!(w<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;he.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}}return he}function Ft(ne){return S.toByteArray(function(w){if((w=function(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(w).replace(Ie,"")).length<2)return"";for(;w.length%4!=0;)w+="=";return w}(ne))}function Et(ne,E,w,Q){for(var re=0;re<Q&&!(re+w>=E.length||re>=ne.length);++re)E[re+w]=ne[re];return re}}).call(this,m(29))},function(p,c){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch{typeof window=="object"&&(m=window)}p.exports=m},function(p,c,m){c.byteLength=function(k){var ee=v(k),Y=ee[0],K=ee[1];return 3*(Y+K)/4-K},c.toByteArray=function(k){var ee,Y,K=v(k),I=K[0],X=K[1],O=new D(function(le,_e,J){return 3*(_e+J)/4-J}(0,I,X)),j=0,M=X>0?I-4:I;for(Y=0;Y<M;Y+=4)ee=S[k.charCodeAt(Y)]<<18|S[k.charCodeAt(Y+1)]<<12|S[k.charCodeAt(Y+2)]<<6|S[k.charCodeAt(Y+3)],O[j++]=ee>>16&255,O[j++]=ee>>8&255,O[j++]=255&ee;return X===2&&(ee=S[k.charCodeAt(Y)]<<2|S[k.charCodeAt(Y+1)]>>4,O[j++]=255&ee),X===1&&(ee=S[k.charCodeAt(Y)]<<10|S[k.charCodeAt(Y+1)]<<4|S[k.charCodeAt(Y+2)]>>2,O[j++]=ee>>8&255,O[j++]=255&ee),O},c.fromByteArray=function(k){for(var ee,Y=k.length,K=Y%3,I=[],X=16383,O=0,j=Y-K;O<j;O+=X)I.push(R(k,O,O+X>j?j:O+X));return K===1?(ee=k[Y-1],I.push(A[ee>>2]+A[ee<<4&63]+"==")):K===2&&(ee=(k[Y-2]<<8)+k[Y-1],I.push(A[ee>>10]+A[ee>>4&63]+A[ee<<2&63]+"=")),I.join("")};for(var A=[],S=[],D=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,y=T.length;g<y;++g)A[g]=T[g],S[T.charCodeAt(g)]=g;function v(P){var k=P.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=P.indexOf("=");return ee===-1&&(ee=k),[ee,ee===k?0:4-ee%4]}function R(P,k,ee){for(var Y,K,I=[],X=k;X<ee;X+=3)Y=(P[X]<<16&16711680)+(P[X+1]<<8&65280)+(255&P[X+2]),I.push(A[(K=Y)>>18&63]+A[K>>12&63]+A[K>>6&63]+A[63&K]);return I.join("")}S[45]=62,S[95]=63},function(p,c){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */c.read=function(m,A,S,D,T){var g,y,v=8*T-D-1,R=(1<<v)-1,P=R>>1,k=-7,ee=S?T-1:0,Y=S?-1:1,K=m[A+ee];for(ee+=Y,g=K&(1<<-k)-1,K>>=-k,k+=v;k>0;g=256*g+m[A+ee],ee+=Y,k-=8);for(y=g&(1<<-k)-1,g>>=-k,k+=D;k>0;y=256*y+m[A+ee],ee+=Y,k-=8);if(g===0)g=1-P;else{if(g===R)return y?NaN:1/0*(K?-1:1);y+=Math.pow(2,D),g-=P}return(K?-1:1)*y*Math.pow(2,g-D)},c.write=function(m,A,S,D,T,g){var y,v,R,P=8*g-T-1,k=(1<<P)-1,ee=k>>1,Y=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=D?0:g-1,I=D?1:-1,X=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(v=isNaN(A)?1:0,y=k):(y=Math.floor(Math.log(A)/Math.LN2),A*(R=Math.pow(2,-y))<1&&(y--,R*=2),(A+=y+ee>=1?Y/R:Y*Math.pow(2,1-ee))*R>=2&&(y++,R/=2),y+ee>=k?(v=0,y=k):y+ee>=1?(v=(A*R-1)*Math.pow(2,T),y+=ee):(v=A*Math.pow(2,ee-1)*Math.pow(2,T),y=0));T>=8;m[S+K]=255&v,K+=I,v/=256,T-=8);for(y=y<<T|v,P+=T;P>0;m[S+K]=255&y,K+=I,y/=256,P-=8);m[S+K-I]|=128*X}},function(p,c){var m={}.toString;p.exports=Array.isArray||function(A){return m.call(A)=="[object Array]"}},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(D){var T=D.jws,g=D.KeyUtil,y=D.X509,v=D.crypto,R=D.hextob64u,P=D.b64tohex,k=D.AllowedSigningAlgs;return function(){function ee(){(function(K,I){if(!(K instanceof I))throw new TypeError("Cannot call a class as a function")})(this,ee)}return ee.parseJwt=function(K){A.Log.debug("JoseUtil.parseJwt");try{var I=T.JWS.parse(K);return{header:I.headerObj,payload:I.payloadObj}}catch(X){A.Log.error(X)}},ee.validateJwt=function(K,I,X,O,j,M,H){A.Log.debug("JoseUtil.validateJwt");try{if(I.kty==="RSA")if(I.e&&I.n)I=g.getKey(I);else{if(!I.x5c||!I.x5c.length)return A.Log.error("JoseUtil.validateJwt: RSA key missing key material",I),Promise.reject(new Error("RSA key missing key material"));var le=P(I.x5c[0]);I=y.getPublicKeyFromCertHex(le)}else{if(I.kty!=="EC")return A.Log.error("JoseUtil.validateJwt: Unsupported key type",I&&I.kty),Promise.reject(new Error(I.kty));if(!(I.crv&&I.x&&I.y))return A.Log.error("JoseUtil.validateJwt: EC key missing key material",I),Promise.reject(new Error("EC key missing key material"));I=g.getKey(I)}return ee._validateJwt(K,I,X,O,j,M,H)}catch(_e){return A.Log.error(_e&&_e.message||_e),Promise.reject("JWT validation failed")}},ee.validateJwtAttributes=function(K,I,X,O,j,M){O||(O=0),j||(j=parseInt(Date.now()/1e3));var H=ee.parseJwt(K).payload;if(!H.iss)return A.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(H.iss!==I)return A.Log.error("JoseUtil._validateJwt: Invalid issuer in token",H.iss),Promise.reject(new Error("Invalid issuer in token: "+H.iss));if(!H.aud)return A.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(H.aud===X||Array.isArray(H.aud)&&H.aud.indexOf(X)>=0))return A.Log.error("JoseUtil._validateJwt: Invalid audience in token",H.aud),Promise.reject(new Error("Invalid audience in token: "+H.aud));if(H.azp&&H.azp!==X)return A.Log.error("JoseUtil._validateJwt: Invalid azp in token",H.azp),Promise.reject(new Error("Invalid azp in token: "+H.azp));if(!M){var le=j+O,_e=j-O;if(!H.iat)return A.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(le<H.iat)return A.Log.error("JoseUtil._validateJwt: iat is in the future",H.iat),Promise.reject(new Error("iat is in the future: "+H.iat));if(H.nbf&&le<H.nbf)return A.Log.error("JoseUtil._validateJwt: nbf is in the future",H.nbf),Promise.reject(new Error("nbf is in the future: "+H.nbf));if(!H.exp)return A.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(H.exp<_e)return A.Log.error("JoseUtil._validateJwt: exp is in the past",H.exp),Promise.reject(new Error("exp is in the past:"+H.exp))}return Promise.resolve(H)},ee._validateJwt=function(K,I,X,O,j,M,H){return ee.validateJwtAttributes(K,X,O,j,M,H).then(function(le){try{return T.JWS.verify(K,I,k)?le:(A.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(_e){return A.Log.error(_e&&_e.message||_e),Promise.reject(new Error("signature validation failed"))}})},ee.hashString=function(K,I){try{return v.Util.hashString(K,I)}catch(X){A.Log.error(X)}},ee.hexToBase64Url=function(K){try{return R(K)}catch(I){A.Log.error(I)}},ee}()};var A=m(0);p.exports=c.default},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SigninResponse=void 0;var A=function(){function T(g,y){for(var v=0;v<y.length;v++){var R=y[v];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}return function(g,y,v){return y&&T(g.prototype,y),v&&T(g,v),g}}(),S=m(3);function D(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}c.SigninResponse=function(){function T(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";D(this,T);var v=S.UrlUtility.parseUrlFragment(g,y);this.error=v.error,this.error_description=v.error_description,this.error_uri=v.error_uri,this.code=v.code,this.state=v.state,this.id_token=v.id_token,this.session_state=v.session_state,this.access_token=v.access_token,this.token_type=v.token_type,this.scope=v.scope,this.profile=void 0,this.expires_in=v.expires_in}return A(T,[{key:"expires_in",get:function(){if(this.expires_at){var y=parseInt(Date.now()/1e3);return this.expires_at-y}},set:function(y){var v=parseInt(y);if(typeof v=="number"&&v>0){var R=parseInt(Date.now()/1e3);this.expires_at=R+v}}},{key:"expired",get:function(){var y=this.expires_in;if(y!==void 0)return y<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SignoutRequest=void 0;var A=m(0),S=m(3),D=m(9);c.SignoutRequest=function T(g){var y=g.url,v=g.id_token_hint,R=g.post_logout_redirect_uri,P=g.data,k=g.extraQueryParams,ee=g.request_type;if(function(I,X){if(!(I instanceof X))throw new TypeError("Cannot call a class as a function")}(this,T),!y)throw A.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var Y in v&&(y=S.UrlUtility.addQueryParam(y,"id_token_hint",v)),R&&(y=S.UrlUtility.addQueryParam(y,"post_logout_redirect_uri",R),P&&(this.state=new D.State({data:P,request_type:ee}),y=S.UrlUtility.addQueryParam(y,"state",this.state.id))),k)y=S.UrlUtility.addQueryParam(y,Y,k[Y]);this.url=y}},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SignoutResponse=void 0;var A=m(3);c.SignoutResponse=function S(D){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,S);var T=A.UrlUtility.parseUrlFragment(D,"?");this.error=T.error,this.error_description=T.error_description,this.error_uri=T.error_uri,this.state=T.state}},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.InMemoryWebStorage=void 0;var A=function(){function D(T,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}return function(T,g,y){return g&&D(T.prototype,g),y&&D(T,y),T}}(),S=m(0);c.InMemoryWebStorage=function(){function D(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,D),this._data={}}return D.prototype.getItem=function(g){return S.Log.debug("InMemoryWebStorage.getItem",g),this._data[g]},D.prototype.setItem=function(g,y){S.Log.debug("InMemoryWebStorage.setItem",g),this._data[g]=y},D.prototype.removeItem=function(g){S.Log.debug("InMemoryWebStorage.removeItem",g),delete this._data[g]},D.prototype.key=function(g){return Object.getOwnPropertyNames(this._data)[g]},A(D,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.UserManager=void 0;var A=function(){function X(O,j){for(var M=0;M<j.length;M++){var H=j[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(O,H.key,H)}}return function(O,j,M){return j&&X(O.prototype,j),M&&X(O,M),O}}(),S=m(0),D=m(10),T=m(39),g=m(15),y=m(45),v=m(47),R=m(18),P=m(8),k=m(20),ee=m(11),Y=m(4);function K(X,O){if(!(X instanceof O))throw new TypeError("Cannot call a class as a function")}function I(X,O){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?X:O}c.UserManager=function(X){function O(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.SilentRenewService,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.SessionMonitor,le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k.TokenRevocationClient,_e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ee.TokenClient,J=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Y.JoseUtil;K(this,O),j instanceof T.UserManagerSettings||(j=new T.UserManagerSettings(j));var Ae=I(this,X.call(this,j));return Ae._events=new y.UserManagerEvents(j),Ae._silentRenewService=new M(Ae),Ae.settings.automaticSilentRenew&&(S.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Ae.startSilentRenew()),Ae.settings.monitorSession&&(S.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Ae._sessionMonitor=new H(Ae)),Ae._tokenRevocationClient=new le(Ae._settings),Ae._tokenClient=new _e(Ae._settings),Ae._joseUtil=J,Ae}return function(M,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(M,H):M.__proto__=H)}(O,X),O.prototype.getUser=function(){var M=this;return this._loadUser().then(function(H){return H?(S.Log.info("UserManager.getUser: user loaded"),M._events.load(H,!1),H):(S.Log.info("UserManager.getUser: user not found in storage"),null)})},O.prototype.removeUser=function(){var M=this;return this.storeUser(null).then(function(){S.Log.info("UserManager.removeUser: user removed from storage"),M._events.unload()})},O.prototype.signinRedirect=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="si:r";var H={useReplaceToNavigate:M.useReplaceToNavigate};return this._signinStart(M,this._redirectNavigator,H).then(function(){S.Log.info("UserManager.signinRedirect: successful")})},O.prototype.signinRedirectCallback=function(M){return this._signinEnd(M||this._redirectNavigator.url).then(function(H){return H.profile&&H.profile.sub?S.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",H.profile.sub):S.Log.info("UserManager.signinRedirectCallback: no sub"),H})},O.prototype.signinPopup=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="si:p";var H=M.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return H?(M.redirect_uri=H,M.display="popup",this._signin(M,this._popupNavigator,{startUrl:H,popupWindowFeatures:M.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:M.popupWindowTarget||this.settings.popupWindowTarget}).then(function(le){return le&&(le.profile&&le.profile.sub?S.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",le.profile.sub):S.Log.info("UserManager.signinPopup: no sub")),le})):(S.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},O.prototype.signinPopupCallback=function(M){return this._signinCallback(M,this._popupNavigator).then(function(H){return H&&(H.profile&&H.profile.sub?S.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",H.profile.sub):S.Log.info("UserManager.signinPopupCallback: no sub")),H}).catch(function(H){S.Log.error(H.message)})},O.prototype.signinSilent=function(){var M=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H=Object.assign({},H),this._loadUser().then(function(le){return le&&le.refresh_token?(H.refresh_token=le.refresh_token,M._useRefreshToken(H)):(H.request_type="si:s",H.id_token_hint=H.id_token_hint||M.settings.includeIdTokenInSilentRenew&&le&&le.id_token,le&&M._settings.validateSubOnSilentRenew&&(S.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",le.profile.sub),H.current_sub=le.profile.sub),M._signinSilentIframe(H))})},O.prototype._useRefreshToken=function(){var M=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(H).then(function(le){return le?le.access_token?M._loadUser().then(function(_e){if(_e){var J=Promise.resolve();return le.id_token&&(J=M._validateIdTokenFromTokenRefreshToken(_e.profile,le.id_token)),J.then(function(){return S.Log.debug("UserManager._useRefreshToken: refresh token response success"),_e.id_token=le.id_token||_e.id_token,_e.access_token=le.access_token,_e.refresh_token=le.refresh_token||_e.refresh_token,_e.expires_in=le.expires_in,M.storeUser(_e).then(function(){return M._events.load(_e),_e})})}return null}):(S.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(S.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},O.prototype._validateIdTokenFromTokenRefreshToken=function(M,H){var le=this;return this._metadataService.getIssuer().then(function(_e){return le.settings.getEpochTime().then(function(J){return le._joseUtil.validateJwtAttributes(H,_e,le._settings.client_id,le._settings.clockSkew,J).then(function(Ae){return Ae?Ae.sub!==M.sub?(S.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Ae.auth_time&&Ae.auth_time!==M.auth_time?(S.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Ae.azp&&Ae.azp!==M.azp?(S.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Ae.azp&&M.azp?(S.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(S.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},O.prototype._signinSilentIframe=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=M.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return H?(M.redirect_uri=H,M.prompt=M.prompt||"none",this._signin(M,this._iframeNavigator,{startUrl:H,silentRequestTimeout:M.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(le){return le&&(le.profile&&le.profile.sub?S.Log.info("UserManager.signinSilent: successful, signed in sub: ",le.profile.sub):S.Log.info("UserManager.signinSilent: no sub")),le})):(S.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},O.prototype.signinSilentCallback=function(M){return this._signinCallback(M,this._iframeNavigator).then(function(H){return H&&(H.profile&&H.profile.sub?S.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",H.profile.sub):S.Log.info("UserManager.signinSilentCallback: no sub")),H})},O.prototype.signinCallback=function(M){var H=this;return this.readSigninResponseState(M).then(function(le){var _e=le.state;return le.response,_e.request_type==="si:r"?H.signinRedirectCallback(M):_e.request_type==="si:p"?H.signinPopupCallback(M):_e.request_type==="si:s"?H.signinSilentCallback(M):Promise.reject(new Error("invalid response_type in state"))})},O.prototype.signoutCallback=function(M,H){var le=this;return this.readSignoutResponseState(M).then(function(_e){var J=_e.state,Ae=_e.response;return J?J.request_type==="so:r"?le.signoutRedirectCallback(M):J.request_type==="so:p"?le.signoutPopupCallback(M,H):Promise.reject(new Error("invalid response_type in state")):Ae})},O.prototype.querySessionStatus=function(){var M=this,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(H=Object.assign({},H)).request_type="si:s";var le=H.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return le?(H.redirect_uri=le,H.prompt="none",H.response_type=H.response_type||this.settings.query_status_response_type,H.scope=H.scope||"openid",H.skipUserInfo=!0,this._signinStart(H,this._iframeNavigator,{startUrl:le,silentRequestTimeout:H.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(_e){return M.processSigninResponse(_e.url).then(function(J){if(S.Log.debug("UserManager.querySessionStatus: got signin response"),J.session_state&&J.profile.sub)return S.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",J.profile.sub),{session_state:J.session_state,sub:J.profile.sub,sid:J.profile.sid};S.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(J){if(J.session_state&&M.settings.monitorAnonymousSession&&(J.message=="login_required"||J.message=="consent_required"||J.message=="interaction_required"||J.message=="account_selection_required"))return S.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:J.session_state};throw J})})):(S.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},O.prototype._signin=function(M,H){var le=this,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(M,H,_e).then(function(J){return le._signinEnd(J.url,M)})},O.prototype._signinStart=function(M,H){var le=this,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H.prepare(_e).then(function(J){return S.Log.debug("UserManager._signinStart: got navigator window handle"),le.createSigninRequest(M).then(function(Ae){return S.Log.debug("UserManager._signinStart: got signin request"),_e.url=Ae.url,_e.id=Ae.state.id,J.navigate(_e)}).catch(function(Ae){throw J.close&&(S.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),J.close()),Ae})})},O.prototype._signinEnd=function(M){var H=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(M).then(function(_e){S.Log.debug("UserManager._signinEnd: got signin response");var J=new g.User(_e);if(le.current_sub){if(le.current_sub!==J.profile.sub)return S.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",J.profile.sub),Promise.reject(new Error("login_required"));S.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return H.storeUser(J).then(function(){return S.Log.debug("UserManager._signinEnd: user stored"),H._events.load(J),J})})},O.prototype._signinCallback=function(M,H){S.Log.debug("UserManager._signinCallback");var le=this._settings.response_mode==="query"||!this._settings.response_mode&&P.SigninRequest.isCode(this._settings.response_type)?"?":"#";return H.callback(M,void 0,le)},O.prototype.signoutRedirect=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="so:r";var H=M.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;H&&(M.post_logout_redirect_uri=H);var le={useReplaceToNavigate:M.useReplaceToNavigate};return this._signoutStart(M,this._redirectNavigator,le).then(function(){S.Log.info("UserManager.signoutRedirect: successful")})},O.prototype.signoutRedirectCallback=function(M){return this._signoutEnd(M||this._redirectNavigator.url).then(function(H){return S.Log.info("UserManager.signoutRedirectCallback: successful"),H})},O.prototype.signoutPopup=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="so:p";var H=M.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return M.post_logout_redirect_uri=H,M.display="popup",M.post_logout_redirect_uri&&(M.state=M.state||{}),this._signout(M,this._popupNavigator,{startUrl:H,popupWindowFeatures:M.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:M.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){S.Log.info("UserManager.signoutPopup: successful")})},O.prototype.signoutPopupCallback=function(M,H){return H===void 0&&typeof M=="boolean"&&(H=M,M=null),this._popupNavigator.callback(M,H,"?").then(function(){S.Log.info("UserManager.signoutPopupCallback: successful")})},O.prototype._signout=function(M,H){var le=this,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(M,H,_e).then(function(J){return le._signoutEnd(J.url)})},O.prototype._signoutStart=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=this,le=arguments[1],_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return le.prepare(_e).then(function(J){return S.Log.debug("UserManager._signoutStart: got navigator window handle"),H._loadUser().then(function(Ae){return S.Log.debug("UserManager._signoutStart: loaded current user from storage"),(H._settings.revokeAccessTokenOnSignout?H._revokeInternal(Ae):Promise.resolve()).then(function(){var Ke=M.id_token_hint||Ae&&Ae.id_token;return Ke&&(S.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),M.id_token_hint=Ke),H.removeUser().then(function(){return S.Log.debug("UserManager._signoutStart: user removed, creating signout request"),H.createSignoutRequest(M).then(function(We){return S.Log.debug("UserManager._signoutStart: got signout request"),_e.url=We.url,We.state&&(_e.id=We.state.id),J.navigate(_e)})})})}).catch(function(Ae){throw J.close&&(S.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),J.close()),Ae})})},O.prototype._signoutEnd=function(M){return this.processSignoutResponse(M).then(function(H){return S.Log.debug("UserManager._signoutEnd: got signout response"),H})},O.prototype.revokeAccessToken=function(){var M=this;return this._loadUser().then(function(H){return M._revokeInternal(H,!0).then(function(le){if(le)return S.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),H.access_token=null,H.refresh_token=null,H.expires_at=null,H.token_type=null,M.storeUser(H).then(function(){S.Log.debug("UserManager.revokeAccessToken: user stored"),M._events.load(H)})})}).then(function(){S.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},O.prototype._revokeInternal=function(M,H){var le=this;if(M){var _e=M.access_token,J=M.refresh_token;return this._revokeAccessTokenInternal(_e,H).then(function(Ae){return le._revokeRefreshTokenInternal(J,H).then(function(Ke){return Ae||Ke||S.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Ae||Ke})})}return Promise.resolve(!1)},O.prototype._revokeAccessTokenInternal=function(M,H){return!M||M.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(M,H).then(function(){return!0})},O.prototype._revokeRefreshTokenInternal=function(M,H){return M?this._tokenRevocationClient.revoke(M,H,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},O.prototype.startSilentRenew=function(){this._silentRenewService.start()},O.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},O.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(M){return M?(S.Log.debug("UserManager._loadUser: user storageString loaded"),g.User.fromStorageString(M)):(S.Log.debug("UserManager._loadUser: no user storageString"),null)})},O.prototype.storeUser=function(M){if(M){S.Log.debug("UserManager.storeUser: storing user");var H=M.toStorageString();return this._userStore.set(this._userStoreKey,H)}return S.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},A(O,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),O}(D.OidcClient)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.UserManagerSettings=void 0;var A=function(){function ee(Y,K){for(var I=0;I<K.length;I++){var X=K[I];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Y,X.key,X)}}return function(Y,K,I){return K&&ee(Y.prototype,K),I&&ee(Y,I),Y}}(),S=(m(0),m(5)),D=m(40),T=m(41),g=m(43),y=m(6),v=m(1),R=m(8);function P(ee,Y){if(!(ee instanceof Y))throw new TypeError("Cannot call a class as a function")}function k(ee,Y){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||typeof Y!="object"&&typeof Y!="function"?ee:Y}c.UserManagerSettings=function(ee){function Y(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=K.popup_redirect_uri,X=K.popup_post_logout_redirect_uri,O=K.popupWindowFeatures,j=K.popupWindowTarget,M=K.silent_redirect_uri,H=K.silentRequestTimeout,le=K.automaticSilentRenew,_e=le!==void 0&&le,J=K.validateSubOnSilentRenew,Ae=J!==void 0&&J,Ke=K.includeIdTokenInSilentRenew,We=Ke===void 0||Ke,Ct=K.monitorSession,rt=Ct===void 0||Ct,Se=K.monitorAnonymousSession,Fe=Se!==void 0&&Se,Ne=K.checkSessionInterval,ke=Ne===void 0?2e3:Ne,$=K.stopCheckSessionOnError,Ee=$===void 0||$,Ce=K.query_status_response_type,Re=K.revokeAccessTokenOnSignout,Me=Re!==void 0&&Re,Xe=K.accessTokenExpiringNotificationTime,Ie=Xe===void 0?60:Xe,pt=K.redirectNavigator,$e=pt===void 0?new D.RedirectNavigator:pt,Ft=K.popupNavigator,Et=Ft===void 0?new T.PopupNavigator:Ft,ne=K.iframeNavigator,E=ne===void 0?new g.IFrameNavigator:ne,w=K.userStore,Q=w===void 0?new y.WebStorageStateStore({store:v.Global.sessionStorage}):w;P(this,Y);var re=k(this,ee.call(this,arguments[0]));return re._popup_redirect_uri=I,re._popup_post_logout_redirect_uri=X,re._popupWindowFeatures=O,re._popupWindowTarget=j,re._silent_redirect_uri=M,re._silentRequestTimeout=H,re._automaticSilentRenew=_e,re._validateSubOnSilentRenew=Ae,re._includeIdTokenInSilentRenew=We,re._accessTokenExpiringNotificationTime=Ie,re._monitorSession=rt,re._monitorAnonymousSession=Fe,re._checkSessionInterval=ke,re._stopCheckSessionOnError=Ee,Ce?re._query_status_response_type=Ce:arguments[0]&&arguments[0].response_type?re._query_status_response_type=R.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":re._query_status_response_type="id_token",re._revokeAccessTokenOnSignout=Me,re._redirectNavigator=$e,re._popupNavigator=Et,re._iframeNavigator=E,re._userStore=Q,re}return function(I,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);I.prototype=Object.create(X&&X.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(I,X):I.__proto__=X)}(Y,ee),A(Y,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),Y}(S.OidcClientSettings)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.RedirectNavigator=void 0;var A=function(){function D(T,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}return function(T,g,y){return g&&D(T.prototype,g),y&&D(T,y),T}}(),S=m(0);c.RedirectNavigator=function(){function D(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,D)}return D.prototype.prepare=function(){return Promise.resolve(this)},D.prototype.navigate=function(g){return g&&g.url?(g.useReplaceToNavigate?window.location.replace(g.url):window.location=g.url,Promise.resolve()):(S.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},A(D,[{key:"url",get:function(){return window.location.href}}]),D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.PopupNavigator=void 0;var A=m(0),S=m(42);c.PopupNavigator=function(){function D(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,D)}return D.prototype.prepare=function(g){var y=new S.PopupWindow(g);return Promise.resolve(y)},D.prototype.callback=function(g,y,v){A.Log.debug("PopupNavigator.callback");try{return S.PopupWindow.notifyOpener(g,y,v),Promise.resolve()}catch(R){return Promise.reject(R)}},D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.PopupWindow=void 0;var A=function(){function T(g,y){for(var v=0;v<y.length;v++){var R=y[v];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(g,R.key,R)}}return function(g,y,v){return y&&T(g.prototype,y),v&&T(g,v),g}}(),S=m(0),D=m(3);c.PopupWindow=function(){function T(g){var y=this;(function(k,ee){if(!(k instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,T),this._promise=new Promise(function(P,k){y._resolve=P,y._reject=k});var v=g.popupWindowTarget||"_blank",R=g.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",v,R),this._popup&&(S.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return T.prototype.navigate=function(y){return this._popup?y&&y.url?(S.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=y.id,this._id&&(window["popupCallback_"+y.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=y.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},T.prototype._success=function(y){S.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(y)},T.prototype._error=function(y){S.Log.error("PopupWindow.error: ",y),this._cleanup(),this._reject(new Error(y))},T.prototype.close=function(){this._cleanup(!1)},T.prototype._cleanup=function(y){S.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!y&&this._popup.close(),this._popup=null},T.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},T.prototype._callback=function(y,v){this._cleanup(v),y?(S.Log.debug("PopupWindow.callback success"),this._success({url:y})):(S.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},T.notifyOpener=function(y,v,R){if(window.opener){if(y=y||window.location.href){var P=D.UrlUtility.parseUrlFragment(y,R);if(P.state){var k="popupCallback_"+P.state,ee=window.opener[k];ee?(S.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),ee(y,v)):S.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else S.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else S.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},A(T,[{key:"promise",get:function(){return this._promise}}]),T}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.IFrameNavigator=void 0;var A=m(0),S=m(44);c.IFrameNavigator=function(){function D(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,D)}return D.prototype.prepare=function(g){var y=new S.IFrameWindow(g);return Promise.resolve(y)},D.prototype.callback=function(g){A.Log.debug("IFrameNavigator.callback");try{return S.IFrameWindow.notifyParent(g),Promise.resolve()}catch(y){return Promise.reject(y)}},D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.IFrameWindow=void 0;var A=function(){function D(T,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,v.key,v)}}return function(T,g,y){return g&&D(T.prototype,g),y&&D(T,y),T}}(),S=m(0);c.IFrameWindow=function(){function D(T){var g=this;(function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")})(this,D),this._promise=new Promise(function(y,v){g._resolve=y,g._reject=v}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return D.prototype.navigate=function(g){if(g&&g.url){var y=g.silentRequestTimeout||1e4;S.Log.debug("IFrameWindow.navigate: Using timeout of:",y),this._timer=window.setTimeout(this._timeout.bind(this),y),this._frame.src=g.url}else this._error("No url provided");return this.promise},D.prototype._success=function(g){this._cleanup(),S.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(g)},D.prototype._error=function(g){this._cleanup(),S.Log.error(g),this._reject(new Error(g))},D.prototype.close=function(){this._cleanup()},D.prototype._cleanup=function(){this._frame&&(S.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},D.prototype._timeout=function(){S.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},D.prototype._message=function(g){if(S.Log.debug("IFrameWindow.message"),this._timer&&g.origin===this._origin&&g.source===this._frame.contentWindow&&typeof g.data=="string"&&(g.data.startsWith("http://")||g.data.startsWith("https://"))){var y=g.data;y?this._success({url:y}):this._error("Invalid response from frame")}},D.notifyParent=function(g){S.Log.debug("IFrameWindow.notifyParent"),(g=g||window.location.href)&&(S.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(g,location.protocol+"//"+location.host))},A(D,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),D}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.UserManagerEvents=void 0;var A=m(0),S=m(16),D=m(17);c.UserManagerEvents=function(T){function g(y){(function(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")})(this,g);var v=function(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?P:k}(this,T.call(this,y));return v._userLoaded=new D.Event("User loaded"),v._userUnloaded=new D.Event("User unloaded"),v._silentRenewError=new D.Event("Silent renew error"),v._userSignedIn=new D.Event("User signed in"),v._userSignedOut=new D.Event("User signed out"),v._userSessionChanged=new D.Event("User session changed"),v}return function(v,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);v.prototype=Object.create(R&&R.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(v,R):v.__proto__=R)}(g,T),g.prototype.load=function(v){var R=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];A.Log.debug("UserManagerEvents.load"),T.prototype.load.call(this,v),R&&this._userLoaded.raise(v)},g.prototype.unload=function(){A.Log.debug("UserManagerEvents.unload"),T.prototype.unload.call(this),this._userUnloaded.raise()},g.prototype.addUserLoaded=function(v){this._userLoaded.addHandler(v)},g.prototype.removeUserLoaded=function(v){this._userLoaded.removeHandler(v)},g.prototype.addUserUnloaded=function(v){this._userUnloaded.addHandler(v)},g.prototype.removeUserUnloaded=function(v){this._userUnloaded.removeHandler(v)},g.prototype.addSilentRenewError=function(v){this._silentRenewError.addHandler(v)},g.prototype.removeSilentRenewError=function(v){this._silentRenewError.removeHandler(v)},g.prototype._raiseSilentRenewError=function(v){A.Log.debug("UserManagerEvents._raiseSilentRenewError",v.message),this._silentRenewError.raise(v)},g.prototype.addUserSignedIn=function(v){this._userSignedIn.addHandler(v)},g.prototype.removeUserSignedIn=function(v){this._userSignedIn.removeHandler(v)},g.prototype._raiseUserSignedIn=function(){A.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},g.prototype.addUserSignedOut=function(v){this._userSignedOut.addHandler(v)},g.prototype.removeUserSignedOut=function(v){this._userSignedOut.removeHandler(v)},g.prototype._raiseUserSignedOut=function(){A.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},g.prototype.addUserSessionChanged=function(v){this._userSessionChanged.addHandler(v)},g.prototype.removeUserSessionChanged=function(v){this._userSessionChanged.removeHandler(v)},g.prototype._raiseUserSessionChanged=function(){A.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},g}(S.AccessTokenEvents)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.Timer=void 0;var A=function(){function v(R,P){for(var k=0;k<P.length;k++){var ee=P[k];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(R,ee.key,ee)}}return function(R,P,k){return P&&v(R.prototype,P),k&&v(R,k),R}}(),S=m(0),D=m(1),T=m(17);function g(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")}function y(v,R){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||typeof R!="object"&&typeof R!="function"?v:R}c.Timer=function(v){function R(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.Global.timer,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;g(this,R);var Y=y(this,v.call(this,P));return Y._timer=k,Y._nowFunc=ee||function(){return Date.now()/1e3},Y}return function(k,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);k.prototype=Object.create(ee&&ee.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(k,ee):k.__proto__=ee)}(R,v),R.prototype.init=function(k){k<=0&&(k=1),k=parseInt(k);var ee=this.now+k;if(this.expiration===ee&&this._timerHandle)S.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),S.Log.debug("Timer.init timer "+this._name+" for duration:",k),this._expiration=ee;var Y=5;k<Y&&(Y=k),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*Y)}},R.prototype.cancel=function(){this._timerHandle&&(S.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},R.prototype._callback=function(){var k=this._expiration-this.now;S.Log.debug("Timer.callback; "+this._name+" timer expires in:",k),this._expiration<=this.now&&(this.cancel(),v.prototype.raise.call(this))},A(R,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),R}(T.Event)},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.SilentRenewService=void 0;var A=m(0);c.SilentRenewService=function(){function S(D){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,S),this._userManager=D}return S.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(T){}).catch(function(T){A.Log.error("SilentRenewService.start: Error from getUser:",T.message)}))},S.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},S.prototype._tokenExpiring=function(){var T=this;this._userManager.signinSilent().then(function(g){A.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(g){A.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",g.message),T._userManager.events._raiseSilentRenewError(g)})},S}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.CordovaPopupNavigator=void 0;var A=m(21);c.CordovaPopupNavigator=function(){function S(){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,S)}return S.prototype.prepare=function(T){var g=new A.CordovaPopupWindow(T);return Promise.resolve(g)},S}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.CordovaIFrameNavigator=void 0;var A=m(21);c.CordovaIFrameNavigator=function(){function S(){(function(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")})(this,S)}return S.prototype.prepare=function(T){T.popupWindowFeatures="hidden=yes";var g=new A.CordovaPopupWindow(T);return Promise.resolve(g)},S}()},function(p,c,m){Object.defineProperty(c,"__esModule",{value:!0}),c.Version="1.11.6"}])})}(Ns)),Ns.exports}var Wl=fv();function hv(h,f){var p;throw h.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(p=f.redirectUrl)==null?void 0:p.toString()}] is invalid - ${h.error_description??""}`):h.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(f)} is invalid - ${h.error_description??""}`):new Error(`Dynamic client registration failed: ${h.error} - ${h.error_description??""}`)}function dv(h){return typeof h.client_id=="string"}function gv(h){return Array.isArray(h.redirect_uris)&&h.redirect_uris.every(f=>typeof f=="string")}function pv(h,f){if(!dv(h))throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(h)}`);if(f.redirectUrl&&gv(h)&&h.redirect_uris[0]!==f.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(h.redirect_uris)} don't match the provided ${JSON.stringify([f.redirectUrl.toString()])}`);return!0}async function yv(h,f){var S;if(!f.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(f.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const p=Vy(f.idTokenSigningAlgValuesSupported,Ms),c={client_name:h.clientName,application_type:"web",redirect_uris:[(S=h.redirectUrl)==null?void 0:S.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:p,grant_types:["authorization_code","refresh_token"]},m={"Content-Type":"application/json"},A=await fetch(f.registrationEndpoint.toString(),{method:"POST",headers:m,body:JSON.stringify(c)});if(A.ok){const D=await A.json();return pv(D,h),{clientId:D.client_id,clientSecret:D.client_secret,expiresAt:D.client_secret_expires_at,idTokenSignedResponseAlg:D.id_token_signed_response_alg,clientType:"dynamic"}}throw A.status===400&&hv(await A.json(),h),new Error(`Dynamic client registration failed: the server returned ${A.status} ${A.statusText} - ${await A.text()}`)}function vv(h){return h.error!==void 0&&typeof h.error=="string"}function Yd(h){return h.error_description!==void 0&&typeof h.error_description=="string"}function mv(h){return h.error_uri!==void 0&&typeof h.error_uri=="string"}function Sv(h){return h.access_token!==void 0&&typeof h.access_token=="string"}function _v(h){return h.id_token!==void 0&&typeof h.id_token=="string"}function bv(h){return h.refresh_token!==void 0&&typeof h.refresh_token=="string"}function Ev(h){return h.token_type!==void 0&&typeof h.token_type=="string"}function wv(h){return h.expires_in===void 0||typeof h.expires_in=="number"}function Av(h,f){if(f.grantType&&(!h.grantTypesSupported||!h.grantTypesSupported.includes(f.grantType)))throw new Error(`The issuer [${h.issuer}] does not support the [${f.grantType}] grant`);if(!h.tokenEndpoint)throw new Error(`This issuer [${h.issuer}] does not have a token endpoint`)}function Ug(h,f){if(vv(h))throw new Cg(`Token endpoint returned error [${h.error}]${Yd(h)?`: ${h.error_description}`:""}${mv(h)?` (see ${h.error_uri})`:""}`,h.error,Yd(h)?h.error_description:void 0);if(!Sv(h))throw new _o(["access_token"]);if(!_v(h))throw new _o(["id_token"]);if(!Ev(h))throw new _o(["token_type"]);if(!wv(h))throw new _o(["expires_in"]);if(!f&&h.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${h.token_type}].`);return h}async function Tv(h,f,p,c){Av(h,p);const m={"content-type":"application/x-www-form-urlencoded"};let A;c&&(A=await tv(),m.DPoP=await oc(h.tokenEndpoint,"POST",A)),f.clientSecret&&(m.Authorization=`Basic ${btoa(`${f.clientId}:${f.clientSecret}`)}`);const S={grant_type:p.grantType,redirect_uri:p.redirectUrl,code:p.code,code_verifier:p.codeVerifier,client_id:f.clientId},D={method:"POST",headers:m,body:new URLSearchParams(S).toString()},g=await(await fetch(h.tokenEndpoint,D)).json(),y=Ug(g,c),{webId:v,clientId:R}=await Eg(y.id_token,h.jwksUri,h.issuer,f.clientId);return{accessToken:y.access_token,idToken:y.id_token,refreshToken:bv(y)?y.refresh_token:void 0,webId:v,clientId:R,dpopKey:A,expiresIn:y.expires_in}}const xv=h=>{try{return new URL(h),!0}catch{return!1}};async function Fv(h,f,p,c){if(p.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const m={grant_type:"refresh_token",refresh_token:h,scope:bg};let A={};c!==void 0&&(A={DPoP:await oc(f.tokenEndpoint,"POST",c)});let S={};p.clientSecret!==void 0?S={Authorization:`Basic ${btoa(`${p.clientId}:${p.clientSecret}`)}`}:xv(p.clientId)&&(m.client_id=p.clientId);const D=await fetch(f.tokenEndpoint,{method:"POST",body:new URLSearchParams(m).toString(),headers:{...A,...S,"Content-Type":"application/x-www-form-urlencoded"}});let T;try{T=await D.json()}catch{throw new Error(`The token endpoint of issuer ${f.issuer} returned a malformed response.`)}const g=Ug(T,c!==void 0),{webId:y}=await Eg(g.id_token,f.jwksUri,f.issuer,p.clientId);return{accessToken:g.access_token,idToken:g.id_token,refreshToken:typeof g.refresh_token=="string"?g.refresh_token:void 0,webId:y,dpopKey:c,expiresIn:g.expires_in}}function Rv(h){const f=Ag(h);return f.hash="",h.includes(`${f.origin}/`)?f.href:`${f.origin}${f.href.substring(f.origin.length+1)}`}async function Cv(){await new Wl.OidcClient({response_mode:"query"}).clearStaleState(new Wl.WebStorageStateStore({}));const f=window.localStorage,p=[];for(let c=0;c<=f.length;c+=1){const m=f.key(c);m&&(m.match(/^oidc\..+$/)||m.match(/^solidClientAuthenticationUser:.+$/))&&p.push(m)}p.forEach(c=>f.removeItem(c))}class Dv extends Zy{constructor(f,p){super(f,p)}}class Uv extends Qy{constructor(){super(...arguments);Ve(this,"login",async(p,c)=>{p.prompt!=="none"&&await this.sessionInfoManager.clear(p.sessionId);const m=p.redirectUrl??Rv(window.location.href);if(!wg(m))throw new Error(`${m} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...p,redirectUrl:m,clientName:p.clientName??p.clientId,eventEmitter:c})});Ve(this,"validateCurrentSession",async p=>{const c=await this.sessionInfoManager.get(p);return c===void 0||c.clientAppId===void 0||c.issuer===void 0?null:c});Ve(this,"handleIncomingRedirect",async(p,c)=>{try{const m=await this.redirectHandler.handle(p,c,void 0);return this.fetch=m.fetch.bind(window),this.boundLogout=m.getLogoutUrl,await this.cleanUrlAfterRedirect(p),{isLoggedIn:m.isLoggedIn,webId:m.webId,sessionId:m.sessionId,expirationDate:m.expirationDate,clientAppId:m.clientAppId}}catch(m){await this.cleanUrlAfterRedirect(p),c.emit(un.ERROR,"redirect",m);return}})}async cleanUrlAfterRedirect(p){const c=Ag(p).href;for(window.history.replaceState(null,"",c);window.location.href!==c;)await new Promise(m=>{setTimeout(()=>m(),1)})}}function Gd(h){return typeof h.oidcIssuer=="string"}function Xd(h){return typeof h.redirectUrl=="string"}class Ov{constructor(f,p,c,m){Ve(this,"storageUtility");Ve(this,"oidcHandler");Ve(this,"issuerConfigFetcher");Ve(this,"clientRegistrar");this.storageUtility=f,this.oidcHandler=p,this.issuerConfigFetcher=c,this.clientRegistrar=m,this.storageUtility=f,this.oidcHandler=p,this.issuerConfigFetcher=c,this.clientRegistrar=m}async canHandle(f){return Gd(f)&&Xd(f)}async handle(f){if(!Gd(f))throw new Ql(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(f)}`);if(!Xd(f))throw new Ql(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(f)}`);const p=await this.issuerConfigFetcher.fetchConfig(f.oidcIssuer),c=await Xy(f,p,this.storageUtility,this.clientRegistrar),m={issuer:p.issuer,dpop:f.tokenType.toLowerCase()==="dpop",...f,issuerConfiguration:p,client:c};return this.oidcHandler.handle(m)}}class Nv extends Ly{async handle(f){const p={authority:f.issuer.toString(),client_id:f.client.clientId,client_secret:f.client.clientSecret,redirect_uri:f.redirectUrl,response_type:"code",scope:bg,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:f.prompt??"consent"},c=new Wl.OidcClient(p);try{const m=await c.createSigninRequest();return await this.setupRedirectHandler({oidcLoginOptions:f,state:m.state._id,codeVerifier:m.state._code_verifier,targetUrl:m.url.toString()})}catch(m){console.error(m)}}}const kv=".well-known/openid-configuration",Qd={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function Mv(h){const f={};return Object.keys(h).forEach(p=>{Qd[p]&&(f[Qd[p].toKey]=h[p])}),Array.isArray(f.scopesSupported)||(f.scopesSupported=["openid"]),f}class sc{constructor(f){Ve(this,"storageUtility");this.storageUtility=f,this.storageUtility=f}static getLocalStorageKey(f){return`issuerConfig:${f}`}async fetchConfig(f){let p;const c=new URL(kv,f.endsWith("/")?f:`${f}/`).href,m=await fetch(c);try{p=Mv(await m.json())}catch(A){throw new Ql(`[${f.toString()}] has an invalid configuration: ${A.message}`)}return await this.storageUtility.set(sc.getLocalStorageKey(f),JSON.stringify(p)),p}}async function Hv(h,f){await xg(h,f),await Cv()}class Lv extends Iy{async get(f){const[p,c,m,A,S,D,T,g]=await Promise.all([this.storageUtility.getForUser(f,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(f,"webId",{secure:!0}),this.storageUtility.getForUser(f,"clientId",{secure:!1}),this.storageUtility.getForUser(f,"clientSecret",{secure:!1}),this.storageUtility.getForUser(f,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(f,"refreshToken",{secure:!0}),this.storageUtility.getForUser(f,"issuer",{secure:!1}),this.storageUtility.getForUser(f,"tokenType",{secure:!1})]);if(typeof S=="string"&&!wg(S)){await Promise.all([this.storageUtility.deleteAllUserData(f,{secure:!1}),this.storageUtility.deleteAllUserData(f,{secure:!0})]);return}if(g!==void 0&&!zy(g))throw new Error(`Tokens of type [${g}] are not supported.`);if(!(m===void 0&&p===void 0&&c===void 0&&D===void 0))return{sessionId:f,webId:c,isLoggedIn:p==="true",redirectUrl:S,refreshToken:D,issuer:T,clientAppId:m,clientAppSecret:A,tokenType:g??"DPoP"}}async clear(f){return Hv(f,this.storageUtility)}}class Bv{async canHandle(f){try{return new URL(f),!0}catch(p){throw new Error(`[${f}] is not a valid URL, and cannot be used as a redirect URL: ${p}`)}}async handle(f){return Tg()}}class Pv{constructor(f,p,c,m,A){Ve(this,"storageUtility");Ve(this,"sessionInfoManager");Ve(this,"issuerConfigFetcher");Ve(this,"clientRegistrar");Ve(this,"tokerRefresher");this.storageUtility=f,this.sessionInfoManager=p,this.issuerConfigFetcher=c,this.clientRegistrar=m,this.tokerRefresher=A,this.storageUtility=f,this.sessionInfoManager=p,this.issuerConfigFetcher=c,this.clientRegistrar=m,this.tokerRefresher=A}async canHandle(f){try{const p=new URL(f);return p.searchParams.get("code")!==null&&p.searchParams.get("state")!==null}catch(p){throw new Error(`[${f}] is not a valid URL, and cannot be used as a redirect URL: ${p}`)}}async handle(f,p){if(!await this.canHandle(f))throw new Error(`AuthCodeRedirectHandler cannot handle [${f}]: it is missing one of [code, state].`);const c=new URL(f),m=c.searchParams.get("state"),A=await this.storageUtility.getForUser(m,"sessionId",{errorIfNull:!0}),{issuerConfig:S,codeVerifier:D,redirectUrl:T,dpop:g}=await Rg(A,this.storageUtility,this.issuerConfigFetcher),y=c.searchParams.get("iss");if(typeof y=="string"&&y!==S.issuer)throw new Error(`The value of the iss parameter (${y}) does not match the issuer identifier of the authorization server (${S.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(D===void 0)throw new Error(`The code verifier for session ${A} is missing from storage.`);if(T===void 0)throw new Error(`The redirect URL for session ${A} is missing from storage.`);const v=await this.clientRegistrar.getClient({sessionId:A},S),R=Date.now(),P=await Tv(S,v,{grantType:"authorization_code",code:c.searchParams.get("code"),codeVerifier:D,redirectUrl:T},g);window.localStorage.removeItem(`oidc.${m}`);let k;P.refreshToken!==void 0&&(k={sessionId:A,refreshToken:P.refreshToken,tokenRefresher:this.tokerRefresher});const ee=ov(P.accessToken,{dpopKey:P.dpopKey,refreshOptions:k,eventEmitter:p,expiresIn:P.expiresIn});await Wy(this.storageUtility,A,P.webId,P.clientId,"true",void 0,!0);const Y=await this.sessionInfoManager.get(A);if(!Y)throw new Error(`Could not retrieve session: [${A}].`);return Object.assign(Y,{fetch:ee,getLogoutUrl:qy({idTokenHint:P.idToken,endSessionEndpoint:S.endSessionEndpoint}),expirationDate:typeof P.expiresIn=="number"?R+P.expiresIn*1e3:void 0})}}class jv extends My{constructor(f){super(f)}}class Iv{get storage(){return window.localStorage}async get(f){return this.storage.getItem(f)||void 0}async set(f,p){this.storage.setItem(f,p)}async delete(f){this.storage.removeItem(f)}}class Kv{redirect(f,p){p&&p.handleRedirect?p.handleRedirect(f):p&&p.redirectByReplacingState?window.history.replaceState({},"",f):window.location.href=f}}class qv{constructor(f){Ve(this,"storageUtility");this.storageUtility=f,this.storageUtility=f}async getClient(f,p){const[c,m,A,S,D]=await Promise.all([this.storageUtility.getForUser(f.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(f.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(f.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(f.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(f.sessionId,"clientType",{secure:!1})]),T=A!==void 0?Number.parseInt(A,10):-1,g=m!==void 0&&Math.floor(Date.now()/1e3)>T;if(c&&Gy(D)&&!g)return m!==void 0?{clientId:c,clientSecret:m,clientName:S,clientType:"dynamic",expiresAt:T}:{clientId:c,clientName:S,clientType:D};try{const y=await yv(f,p),v={clientId:y.clientId,clientType:"dynamic"};return y.clientSecret!==void 0&&(v.clientSecret=y.clientSecret,v.expiresAt=String(y.expiresAt)),y.idTokenSignedResponseAlg&&(v.idTokenSignedResponseAlg=y.idTokenSignedResponseAlg),await this.storageUtility.setForUser(f.sessionId,v,{secure:!1}),y}catch(y){throw new Error("Client registration failed.",{cause:y})}}}class zv{async canHandle(f){try{return new URL(f).searchParams.has("error")}catch(p){throw new Error(`[${f}] is not a valid URL, and cannot be used as a redirect URL: ${p}`)}}async handle(f,p){if(p!==void 0){const c=new URL(f),m=c.searchParams.get("error"),A=c.searchParams.get("error_description");p.emit(un.ERROR,m,A)}return Tg()}}class Vv{constructor(f,p,c){Ve(this,"storageUtility");Ve(this,"issuerConfigFetcher");Ve(this,"clientRegistrar");this.storageUtility=f,this.issuerConfigFetcher=p,this.clientRegistrar=c,this.storageUtility=f,this.issuerConfigFetcher=p,this.clientRegistrar=c}async refresh(f,p,c,m){const A=await Rg(f,this.storageUtility,this.issuerConfigFetcher),S=await this.clientRegistrar.getClient({sessionId:f},A.issuerConfig);if(p===void 0)throw new Error(`Session [${f}] has no refresh token to allow it to refresh its access token.`);if(A.dpop&&c===void 0)throw new Error(`For session [${f}], the key bound to the DPoP access token must be provided to refresh said access token.`);const D=await Fv(p,A.issuerConfig,S,c);return D.refreshToken!==void 0&&(m==null||m.emit(un.NEW_REFRESH_TOKEN,D.refreshToken)),D}}function Wd(h){const f=new $y,p=h.secureStorage||f,c=h.insecureStorage||new Iv,m=new Dv(p,c),A=new sc(m),S=new qv(m),D=new Lv(m),T=new Vv(m,A,S),g=new Kv,y=new Ov(m,new Nv(m,g),A,S),v=new jv([new zv,new Pv(m,D,A,S,T),new Bv]);return new Uv(y,v,new jy(D,g),D,A)}const ql=`${_g}currentSession`,Zl=`${_g}currentUrl`;async function Jv(h,f,p){const c=await f.validateCurrentSession(h);return c!==null?(window.localStorage.setItem(Zl,window.location.href),await f.login({sessionId:h,prompt:"none",oidcIssuer:c.issuer,redirectUrl:c.redirectUrl,clientId:c.clientAppId,clientSecret:c.clientAppSecret,tokenType:c.tokenType??"DPoP"},p.events),!0):!1}function Yv(h){return!!(h!=null&&h.isLoggedIn)}class Gv{constructor(f={},p=void 0){Ve(this,"info");Ve(this,"events");Ve(this,"clientAuthentication");Ve(this,"tokenRequestInProgress",!1);Ve(this,"login",async f=>(await this.clientAuthentication.login({sessionId:this.info.sessionId,...f,tokenType:f.tokenType??"DPoP"},this.events),new Promise(()=>{})));Ve(this,"fetch",(f,p)=>this.clientAuthentication.fetch(f,p));Ve(this,"internalLogout",async(f,p)=>{window.localStorage.removeItem(ql),await this.clientAuthentication.logout(this.info.sessionId,p),this.info.isLoggedIn=!1,f&&this.events.emit(un.LOGOUT)});Ve(this,"logout",async f=>this.internalLogout(!0,f));Ve(this,"handleIncomingRedirect",async(f={})=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const p=typeof f=="string"?{url:f}:f,c=p.url??window.location.href;this.tokenRequestInProgress=!0;const m=await this.clientAuthentication.handleIncomingRedirect(c,this.events);if(Yv(m)){this.setSessionInfo(m);const A=window.localStorage.getItem(Zl);A===null?this.events.emit(un.LOGIN):(window.localStorage.removeItem(Zl),this.events.emit(un.SESSION_RESTORED,A))}else if(p.restorePreviousSession===!0){const A=window.localStorage.getItem(ql);if(A!==null&&await Jv(A,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,m});this.events=new lv,f.clientAuthentication?this.clientAuthentication=f.clientAuthentication:f.secureStorage&&f.insecureStorage?this.clientAuthentication=Wd({secureStorage:f.secureStorage,insecureStorage:f.insecureStorage}):this.clientAuthentication=Wd({}),f.sessionInfo?this.info={sessionId:f.sessionInfo.sessionId,isLoggedIn:!1,webId:f.sessionInfo.webId,clientAppId:f.sessionInfo.clientAppId}:this.info={sessionId:p??ac(),isLoggedIn:!1},this.events.on(un.LOGIN,()=>window.localStorage.setItem(ql,this.info.sessionId)),this.events.on(un.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(un.ERROR,()=>this.internalLogout(!1))}setSessionInfo(f){this.info.isLoggedIn=f.isLoggedIn,this.info.webId=f.webId,this.info.sessionId=f.sessionId,this.info.clientAppId=f.clientAppId,this.info.expirationDate=f.expirationDate,this.events.on(un.SESSION_EXTENDED,p=>{this.info.expirationDate=Date.now()+p*1e3})}}let zl;function Xv(){return typeof zl>"u"&&(zl=new Gv),zl}const Qv=(...h)=>Xv().handleIncomingRedirect(...h);let $l="not logged in";async function Wv(){const h=await Qv();h&&h.isLoggedIn?h.webId&&($l=h.webId):$l="not logged in"}const Og=window.luckysheet;let Ng={};async function Zv(){try{const h={types:[{description:"RDFSheet file",accept:{"application/x-rdfsheet+json":[".rdfs"]}}]},[f]=await window.showOpenFilePicker(h),c=await(await f.getFile()).text(),m=JSON.parse(c),A={container:"luckysheet",data:m.luckysheetfile,showinfobar:!1};Og.create(A),Ng=m.settings}catch{alert("")}}async function $v(){try{const h={luckysheetfile:Og.getluckysheetfile(),settings:JSON.parse(JSON.stringify(Ng))},f={suggestedName:"rdfsheetfile.rdfs",types:[{description:"RDFSheet file",accept:{"application/x-rdfsheet+json":[".rdfs"]}}]},c=await(await window.showSaveFilePicker(f)).createWritable();await c.write(JSON.stringify(h)),await c.close()}catch{alert("")}}async function em(){alert("importRDF!")}async function tm(){alert("exportRDF!")}function nm(){window.open("https://github.com/ksaito-hiu/RDFSheet/help/","help","width=600,height=400,left=100,top=100,resizable=yes,scrollbars=yes")}function rm(){window.open("https://github.com/ksaito-hiu/RDFSheet/","about","width=600,height=400,left=100,top=100,resizable=yes,scrollbars=yes")}const im=()=>{const[h,f]=ki.useState($l);return at.jsx(at.Fragment,{children:at.jsxs("p",{children:["WebID: ",h," ",at.jsx("button",{onClick:()=>{alert("loginout"),f("test")},children:"login or logout"})]})})},am=({onSelect:h})=>{const[f,p]=ki.useState(!1);return at.jsxs("div",{className:"menu_div",children:[at.jsx("button",{className:"hamburger",onClick:()=>p(!f),children:f?"":""}),at.jsx("nav",{className:`menu ${f?"open":""}`,children:at.jsxs("ul",{children:[at.jsxs("li",{children:["",at.jsxs("ul",{children:[at.jsx("li",{onClick:()=>{p(!1),h("sheets")},children:"Sheet"}),at.jsx("li",{onClick:()=>{p(!1),h("settings")},children:"Settings"})]})]}),at.jsxs("li",{children:["",at.jsxs("ul",{children:[at.jsx("li",{onClick:()=>{p(!1),Zv()},children:"Load"}),at.jsx("li",{onClick:()=>{p(!1),$v()},children:"Save"}),at.jsx("li",{onClick:()=>{p(!1),em()},children:"Import"}),at.jsx("li",{onClick:()=>{p(!1),tm()},children:"Export"})]})]}),at.jsxs("li",{children:["",at.jsxs("ul",{children:[at.jsx("li",{onClick:()=>{p(!1),nm()},children:"Help"}),at.jsx("li",{onClick:()=>{p(!1),rm()},children:"About"})]})]})]})})]})},om=()=>{const h=ki.useRef(!1);ki.useEffect(()=>{if(h.current)return;h.current=!0,window.luckysheet.create({container:"luckysheet",showinfobar:!1,showtoolbar:!0,sheetFormulaBar:!0,showsheetbar:!0,showstatisticBar:!0})},[]);const f={margin:"0px",padding:"0px",width:"100%",height:"100%"};return at.jsx("div",{id:"luckysheet",style:f})},sm=()=>{const[h,f]=ki.useState(0);return at.jsxs("div",{children:[at.jsx("h3",{children:"Settings"}),at.jsxs("p",{onClick:()=>f(h+1),children:["count=",h]})]})},um=()=>{const[h,f]=ki.useState("sheets");return at.jsxs(at.Fragment,{children:[at.jsxs("header",{children:[at.jsx(am,{onSelect:p=>f(p)}),at.jsx(im,{})]}),at.jsxs("main",{children:[at.jsx("div",{className:"sheets",style:{display:h==="sheets"?"block":"none"},children:at.jsx(om,{})}),at.jsx("div",{className:"settings",style:{display:h==="settings"?"block":"none"},children:at.jsx(sm,{})})]})]})};async function lm(){await Wv(),H0.createRoot(document.getElementById("root")).render(at.jsx(ki.StrictMode,{children:at.jsx(um,{})}))}lm();
